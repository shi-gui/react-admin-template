import{g as gn,K as li,m as vn,r as Ct,a as hi,b as g,C as _t,o as yn,c as xe,_ as ve,F as Tt,D as bn,d as ci,e as ui,z as xn,f as Lt,i as Xt,h as di,j as pi,u as fi,k as mi,V as gi,l as vi,S as yi,n as wn,p as Ye,R as bi,w as Yt,q as xi,s as wi,T as Ci,t as Pi,Q as _i,v as Ei,x as ki,N as Cn,y as Ri,E as Ii,A as Si,L as Oi,B as Ti,G as Ai,H as Bi,I as Mi,W as zi,J as Di,M as Fi,O as $i,P as Vi,U as ji,X as Pn,Y as _n,Z as S,$ as Li,a0 as Ui,a1 as Ni,a2 as te,a3 as Wi,a4 as Kt,a5 as Qt,a6 as Hi,a7 as qi,a8 as Zi,a9 as Gi,aa as Xi,ab as Yi,ac as Ki,ad as Qi,ae as Ji,af as er}from"./index-36309c2a.js";import{C as En,R as tr}from"./row-a6266ec7.js";const Jt=r=>typeof r=="object"&&r!=null&&r.nodeType===1,en=(r,l)=>(!l||r!=="hidden")&&r!=="visible"&&r!=="clip",$t=(r,l)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const s=getComputedStyle(r,null);return en(s.overflowY,l)||en(s.overflowX,l)||(n=>{const a=(c=>{if(!c.ownerDocument||!c.ownerDocument.defaultView)return null;try{return c.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(r)}return!1},St=(r,l,s,n,a,c,o,p)=>c<r&&o>l||c>r&&o<l?0:c<=r&&p<=s||o>=l&&p>=s?c-r-n:o>l&&p<s||c<r&&p>s?o-l+a:0,nr=r=>{const l=r.parentElement;return l??(r.getRootNode().host||null)},tn=(r,l)=>{var s,n,a,c;if(typeof document>"u")return[];const{scrollMode:o,block:p,inline:m,boundary:f,skipOverflowHiddenElements:y}=l,C=typeof f=="function"?f:O=>O!==f;if(!Jt(r))throw new TypeError("Invalid target");const P=document.scrollingElement||document.documentElement,w=[];let I=r;for(;Jt(I)&&C(I);){if(I=nr(I),I===P){w.push(I);break}I!=null&&I===document.body&&$t(I)&&!$t(document.documentElement)||I!=null&&$t(I,y)&&w.push(I)}const T=(n=(s=window.visualViewport)==null?void 0:s.width)!=null?n:innerWidth,k=(c=(a=window.visualViewport)==null?void 0:a.height)!=null?c:innerHeight,{scrollX:A,scrollY:_}=window,{height:E,width:M,top:z,right:F,bottom:L,left:R}=r.getBoundingClientRect();let x=p==="start"||p==="nearest"?z:p==="end"?L:z+E/2,$=m==="center"?R+M/2:m==="end"?F:R;const q=[];for(let O=0;O<w.length;O++){const D=w[O],{height:j,width:G,top:Z,right:W,bottom:Y,left:K}=D.getBoundingClientRect();if(o==="if-needed"&&z>=0&&R>=0&&L<=k&&F<=T&&z>=Z&&L<=Y&&R>=K&&F<=W)return q;const v=getComputedStyle(D),U=parseInt(v.borderLeftWidth,10),ae=parseInt(v.borderTopWidth,10),ne=parseInt(v.borderRightWidth,10),N=parseInt(v.borderBottomWidth,10);let B=0,H=0;const ie="offsetWidth"in D?D.offsetWidth-D.clientWidth-U-ne:0,re="offsetHeight"in D?D.offsetHeight-D.clientHeight-ae-N:0,oe="offsetWidth"in D?D.offsetWidth===0?0:G/D.offsetWidth:0,Ee="offsetHeight"in D?D.offsetHeight===0?0:j/D.offsetHeight:0;if(P===D)B=p==="start"?x:p==="end"?x-k:p==="nearest"?St(_,_+k,k,ae,N,_+x,_+x+E,E):x-k/2,H=m==="start"?$:m==="center"?$-T/2:m==="end"?$-T:St(A,A+T,T,U,ne,A+$,A+$+M,M),B=Math.max(0,B+_),H=Math.max(0,H+A);else{B=p==="start"?x-Z-ae:p==="end"?x-Y+N+re:p==="nearest"?St(Z,Y,j,ae,N+re,x,x+E,E):x-(Z+j/2)+re/2,H=m==="start"?$-K-U:m==="center"?$-(K+G/2)+ie/2:m==="end"?$-W+ne+ie:St(K,W,G,U,ne+ie,$,$+M,M);const{scrollLeft:de,scrollTop:V}=D;B=Math.max(0,Math.min(V+B/Ee,D.scrollHeight-j/Ee+re)),H=Math.max(0,Math.min(de+H/oe,D.scrollWidth-G/oe+ie)),x+=V-B,$+=de-H}q.push({el:D,top:B,left:H})}return q},ir=r=>r===!1?{block:"end",inline:"nearest"}:(l=>l===Object(l)&&Object.keys(l).length!==0)(r)?r:{block:"start",inline:"nearest"};function rr(r,l){if(!r.isConnected||!(n=>{let a=n;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(r))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(l))return l.behavior(tn(r,l));const s=typeof l=="boolean"||l==null?void 0:l.behavior;for(const{el:n,top:a,left:c}of tn(r,ir(l)))n.scroll({top:a,left:c,behavior:s})}const or=new li("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),ar=r=>{const{checkboxCls:l}=r,s=`${l}-wrapper`;return[{[`${l}-group`]:Object.assign(Object.assign({},Ct(r)),{display:"inline-flex",flexWrap:"wrap",columnGap:r.marginXS,[`> ${r.antCls}-row`]:{flex:1}}),[s]:Object.assign(Object.assign({},Ct(r)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${s}`]:{marginInlineStart:0},[`&${s}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[l]:Object.assign(Object.assign({},Ct(r)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${l}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${l}-inner`]:Object.assign({},hi(r))},[`${l}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:r.checkboxSize,height:r.checkboxSize,direction:"ltr",backgroundColor:r.colorBgContainer,border:`${r.lineWidth}px ${r.lineType} ${r.colorBorder}`,borderRadius:r.borderRadiusSM,borderCollapse:"separate",transition:`all ${r.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:r.checkboxSize/14*5,height:r.checkboxSize/14*8,border:`${r.lineWidthBold}px solid ${r.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${r.motionDurationFast} ${r.motionEaseInBack}, opacity ${r.motionDurationFast}`}},"& + span":{paddingInlineStart:r.paddingXS,paddingInlineEnd:r.paddingXS}})},{[l]:{"&-indeterminate":{[`${l}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:r.fontSizeLG/2,height:r.fontSizeLG/2,backgroundColor:r.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${s}:hover ${l}:after`]:{visibility:"visible"},[`
        ${s}:not(${s}-disabled),
        ${l}:not(${l}-disabled)
      `]:{[`&:hover ${l}-inner`]:{borderColor:r.colorPrimary}},[`${s}:not(${s}-disabled)`]:{[`&:hover ${l}-checked:not(${l}-disabled) ${l}-inner`]:{backgroundColor:r.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${l}-checked:not(${l}-disabled):after`]:{borderColor:r.colorPrimaryHover}}},{[`${l}-checked`]:{[`${l}-inner`]:{backgroundColor:r.colorPrimary,borderColor:r.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${r.motionDurationMid} ${r.motionEaseOutBack} ${r.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:r.borderRadiusSM,visibility:"hidden",border:`${r.lineWidthBold}px solid ${r.colorPrimary}`,animationName:or,animationDuration:r.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${r.motionDurationSlow}`}},[`
        ${s}-checked:not(${s}-disabled),
        ${l}-checked:not(${l}-disabled)
      `]:{[`&:hover ${l}-inner`]:{backgroundColor:r.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${l}:after`]:{borderColor:r.colorPrimaryHover}}},{[`${s}-disabled`]:{cursor:"not-allowed"},[`${l}-disabled`]:{[`&, ${l}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${l}-inner`]:{background:r.colorBgContainerDisabled,borderColor:r.colorBorder,"&:after":{borderColor:r.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:r.colorTextDisabled},[`&${l}-indeterminate ${l}-inner::after`]:{background:r.colorTextDisabled}}}]};function sr(r,l){const s=vn(l,{checkboxCls:`.${r}`,checkboxSize:l.controlInteractiveSize});return[ar(s)]}const kn=gn("Checkbox",(r,l)=>{let{prefixCls:s}=l;return[sr(s,r)]});var lr=globalThis&&globalThis.__rest||function(r,l){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)l.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(s[n[a]]=r[n[a]]);return s};const Rn=g.createContext(null),hr=(r,l)=>{var{defaultValue:s,children:n,options:a=[],prefixCls:c,className:o,rootClassName:p,style:m,onChange:f}=r,y=lr(r,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]);const{getPrefixCls:C,direction:P}=g.useContext(_t),[w,I]=g.useState(y.value||s||[]),[T,k]=g.useState([]);g.useEffect(()=>{"value"in y&&I(y.value||[])},[y.value]);const A=()=>a.map(O=>typeof O=="string"||typeof O=="number"?{label:O,value:O}:O),_=O=>{k(D=>D.filter(j=>j!==O))},E=O=>{k(D=>[].concat(ve(D),[O]))},M=O=>{const D=w.indexOf(O.value),j=ve(w);D===-1?j.push(O.value):j.splice(D,1),"value"in y||I(j);const G=A();f==null||f(j.filter(Z=>T.includes(Z)).sort((Z,W)=>{const Y=G.findIndex(v=>v.value===Z),K=G.findIndex(v=>v.value===W);return Y-K}))},z=C("checkbox",c),F=`${z}-group`,[L,R]=kn(z),x=yn(y,["value","disabled"]);a&&a.length>0&&(n=A().map(O=>g.createElement(In,{prefixCls:z,key:O.value.toString(),disabled:"disabled"in O?O.disabled:y.disabled,value:O.value,checked:w.includes(O.value),onChange:O.onChange,className:`${F}-item`,style:O.style,title:O.title},O.label)));const $={toggleOption:M,value:w,disabled:y.disabled,name:y.name,registerValue:E,cancelValue:_},q=xe(F,{[`${F}-rtl`]:P==="rtl"},o,p,R);return L(g.createElement("div",Object.assign({className:q,style:m},x,{ref:l}),g.createElement(Rn.Provider,{value:$},n)))},cr=g.forwardRef(hr),ur=g.memo(cr);var dr=globalThis&&globalThis.__rest||function(r,l){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)l.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(s[n[a]]=r[n[a]]);return s};const pr=(r,l)=>{var s,{prefixCls:n,className:a,rootClassName:c,children:o,indeterminate:p=!1,style:m,onMouseEnter:f,onMouseLeave:y,skipGroup:C=!1,disabled:P}=r,w=dr(r,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]);const{getPrefixCls:I,direction:T}=g.useContext(_t),k=g.useContext(Rn),{isFormItemInput:A}=g.useContext(Tt),_=g.useContext(bn),E=(s=(k==null?void 0:k.disabled)||P)!==null&&s!==void 0?s:_,M=g.useRef(w.value);g.useEffect(()=>{k==null||k.registerValue(w.value)},[]),g.useEffect(()=>{if(!C)return w.value!==M.current&&(k==null||k.cancelValue(M.current),k==null||k.registerValue(w.value),M.current=w.value),()=>k==null?void 0:k.cancelValue(w.value)},[w.value]);const z=I("checkbox",n),[F,L]=kn(z),R=Object.assign({},w);k&&!C&&(R.onChange=function(){w.onChange&&w.onChange.apply(w,arguments),k.toggleOption&&k.toggleOption({label:o,value:w.value})},R.name=k.name,R.checked=k.value.includes(w.value));const x=xe({[`${z}-wrapper`]:!0,[`${z}-rtl`]:T==="rtl",[`${z}-wrapper-checked`]:R.checked,[`${z}-wrapper-disabled`]:E,[`${z}-wrapper-in-form-item`]:A},a,c,L),$=xe({[`${z}-indeterminate`]:p},L),q=p?"mixed":void 0;return F(g.createElement("label",{className:x,style:m,onMouseEnter:f,onMouseLeave:y},g.createElement(ci,Object.assign({"aria-checked":q},R,{prefixCls:z,className:$,disabled:E,ref:l})),o!==void 0&&g.createElement("span",null,o)))},fr=g.forwardRef(pr),In=fr,Ut=In;Ut.Group=ur;Ut.__ANT_CHECKBOX=!0;const mr=Ut;function Ot(r){const[l,s]=g.useState(r);return g.useEffect(()=>{const n=setTimeout(()=>{s(r)},r.length?0:10);return()=>{clearTimeout(n)}},[r]),l}const gr=r=>{const{componentCls:l}=r,s=`${l}-show-help`,n=`${l}-show-help-item`;return{[s]:{transition:`opacity ${r.motionDurationSlow} ${r.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${r.motionDurationSlow} ${r.motionEaseInOut},
                     opacity ${r.motionDurationSlow} ${r.motionEaseInOut},
                     transform ${r.motionDurationSlow} ${r.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,["&-active"]:{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}},vr=gr,yr=r=>({legend:{display:"block",width:"100%",marginBottom:r.marginLG,padding:0,color:r.colorTextDescription,fontSize:r.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${r.lineWidth}px ${r.lineType} ${r.colorBorder}`},label:{fontSize:r.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},[`input[type='file']:focus,
  input[type='radio']:focus,
  input[type='checkbox']:focus`]:{outline:0,boxShadow:`0 0 0 ${r.controlOutlineWidth}px ${r.controlOutline}`},output:{display:"block",paddingTop:15,color:r.colorText,fontSize:r.fontSize,lineHeight:r.lineHeight}}),nn=(r,l)=>{const{formItemCls:s}=r;return{[s]:{[`${s}-label > label`]:{height:l},[`${s}-control-input`]:{minHeight:l}}}},br=r=>{const{componentCls:l}=r;return{[r.componentCls]:Object.assign(Object.assign(Object.assign({},Ct(r)),yr(r)),{[`${l}-text`]:{display:"inline-block",paddingInlineEnd:r.paddingSM},"&-small":Object.assign({},nn(r,r.controlHeightSM)),"&-large":Object.assign({},nn(r,r.controlHeightLG))})}},xr=r=>{const{formItemCls:l,iconCls:s,componentCls:n,rootPrefixCls:a}=r;return{[l]:Object.assign(Object.assign({},Ct(r)),{marginBottom:r.marginLG,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${a}-row`]:{display:"none"},"&-has-warning":{[`${l}-split`]:{color:r.colorError}},"&-has-error":{[`${l}-split`]:{color:r.colorWarning}},[`${l}-label`]:{display:"inline-block",flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${r.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:r.controlHeight,color:r.colorTextHeading,fontSize:r.fontSize,[`> ${s}`]:{fontSize:r.fontSize,verticalAlign:"top"},[`&${l}-required:not(${l}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:r.marginXXS,color:r.colorError,fontSize:r.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${n}-hide-required-mark &`]:{display:"none"}},[`${l}-optional`]:{display:"inline-block",marginInlineStart:r.marginXXS,color:r.colorTextDescription,[`${n}-hide-required-mark &`]:{display:"none"}},[`${l}-tooltip`]:{color:r.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:r.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:r.marginXXS/2,marginInlineEnd:r.marginXS},[`&${l}-no-colon::after`]:{content:'" "'}}},[`${l}-control`]:{display:"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${a}-col-'"]):not([class*="' ${a}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:r.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[l]:{"&-explain, &-extra":{clear:"both",color:r.colorTextDescription,fontSize:r.fontSize,lineHeight:r.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:r.controlHeightSM,transition:`color ${r.motionDurationMid} ${r.motionEaseOut}`},"&-explain":{"&-error":{color:r.colorError},"&-warning":{color:r.colorWarning}}},[`&-with-help ${l}-explain`]:{height:"auto",opacity:1},[`${l}-feedback-icon`]:{fontSize:r.fontSize,textAlign:"center",visibility:"visible",animationName:xn,animationDuration:r.motionDurationMid,animationTimingFunction:r.motionEaseOutBack,pointerEvents:"none","&-success":{color:r.colorSuccess},"&-error":{color:r.colorError},"&-warning":{color:r.colorWarning},"&-validating":{color:r.colorPrimary}}})}},wr=r=>{const{componentCls:l,formItemCls:s,rootPrefixCls:n}=r;return{[`${l}-horizontal`]:{[`${s}-label`]:{flexGrow:0},[`${s}-control`]:{flex:"1 1 0",minWidth:0},[`${s}-label.${n}-col-24 + ${s}-control`]:{minWidth:"unset"}}}},Cr=r=>{const{componentCls:l,formItemCls:s}=r;return{[`${l}-inline`]:{display:"flex",flexWrap:"wrap",[s]:{flex:"none",marginInlineEnd:r.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},"&-with-help":{marginBottom:r.marginLG},[`> ${s}-label,
        > ${s}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${s}-label`]:{flex:"none"},[`${l}-text`]:{display:"inline-block"},[`${s}-has-feedback`]:{display:"inline-block"}}}}},vt=r=>({margin:0,padding:`0 0 ${r.paddingXS}px`,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{display:"none"}}}),Pr=r=>{const{componentCls:l,formItemCls:s}=r;return{[`${s} ${s}-label`]:vt(r),[l]:{[s]:{flexWrap:"wrap",[`${s}-label,
          ${s}-control`]:{flex:"0 0 100%",maxWidth:"100%"}}}}},_r=r=>{const{componentCls:l,formItemCls:s,rootPrefixCls:n}=r;return{[`${l}-vertical`]:{[s]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${l}-item-control`]:{width:"100%"}}},[`${l}-vertical ${s}-label,
      .${n}-col-24${s}-label,
      .${n}-col-xl-24${s}-label`]:vt(r),[`@media (max-width: ${r.screenXSMax}px)`]:[Pr(r),{[l]:{[`.${n}-col-xs-24${s}-label`]:vt(r)}}],[`@media (max-width: ${r.screenSMMax}px)`]:{[l]:{[`.${n}-col-sm-24${s}-label`]:vt(r)}},[`@media (max-width: ${r.screenMDMax}px)`]:{[l]:{[`.${n}-col-md-24${s}-label`]:vt(r)}},[`@media (max-width: ${r.screenLGMax}px)`]:{[l]:{[`.${n}-col-lg-24${s}-label`]:vt(r)}}}},Nt=gn("Form",(r,l)=>{let{rootPrefixCls:s}=l;const n=vn(r,{formItemCls:`${r.componentCls}-item`,rootPrefixCls:s});return[br(n),xr(n),vr(n),wr(n),Cr(n),_r(n),ui(n),xn]}),rn=[];function Vt(r,l,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof r=="string"?r:`${l}-${n}`,error:r,errorStatus:s}}function Sn(r){let{help:l,helpStatus:s,errors:n=rn,warnings:a=rn,className:c,fieldId:o,onVisibleChanged:p}=r;const{prefixCls:m}=g.useContext(Lt),f=`${m}-item-explain`,[,y]=Nt(m),C=g.useMemo(()=>Xt(m),[m]),P=Ot(n),w=Ot(a),I=g.useMemo(()=>l!=null?[Vt(l,"help",s)]:[].concat(ve(P.map((k,A)=>Vt(k,"error","error",A))),ve(w.map((k,A)=>Vt(k,"warning","warning",A)))),[l,s,P,w]),T={};return o&&(T.id=`${o}_help`),g.createElement(di,{motionDeadline:C.motionDeadline,motionName:`${m}-show-help`,visible:!!I.length,onVisibleChanged:p},k=>{const{className:A,style:_}=k;return g.createElement("div",Object.assign({},T,{className:xe(f,A,c,y),style:_,role:"alert"}),g.createElement(pi,Object.assign({keys:I},Xt(m),{motionName:`${m}-show-help-item`,component:!1}),E=>{const{key:M,error:z,errorStatus:F,className:L,style:R}=E;return g.createElement("div",{key:M,className:xe(L,{[`${f}-${F}`]:F}),style:R},z)}))})}const Er=["parentNode"],kr="form_item";function Pt(r){return r===void 0||r===!1?[]:Array.isArray(r)?r:[r]}function On(r,l){if(!r.length)return;const s=r.join("_");return l?`${l}_${s}`:Er.includes(s)?`${kr}_${s}`:s}function on(r){return Pt(r).join("_")}function Tn(r){const[l]=fi(),s=g.useRef({}),n=g.useMemo(()=>r??Object.assign(Object.assign({},l),{__INTERNAL__:{itemRef:a=>c=>{const o=on(a);c?s.current[o]=c:delete s.current[o]}},scrollToField:function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=Pt(a),p=On(o,n.__INTERNAL__.name),m=p?document.getElementById(p):null;m&&rr(m,Object.assign({scrollMode:"if-needed",block:"nearest"},c))},getFieldInstance:a=>{const c=on(a);return s.current[c]}}),[r,l]);return[n]}var Rr=globalThis&&globalThis.__rest||function(r,l){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)l.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(s[n[a]]=r[n[a]]);return s};const Ir=(r,l)=>{const s=g.useContext(bn),{getPrefixCls:n,direction:a,form:c}=g.useContext(_t),{prefixCls:o,className:p,rootClassName:m,size:f,disabled:y=s,form:C,colon:P,labelAlign:w,labelWrap:I,labelCol:T,wrapperCol:k,hideRequiredMark:A,layout:_="horizontal",scrollToFirstError:E,requiredMark:M,onFinishFailed:z,name:F}=r,L=Rr(r,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),R=mi(f),x=g.useContext(gi),$=g.useMemo(()=>M!==void 0?M:c&&c.requiredMark!==void 0?c.requiredMark:!A,[A,M,c]),q=P??(c==null?void 0:c.colon),O=n("form",o),[D,j]=Nt(O),G=xe(O,{[`${O}-${_}`]:!0,[`${O}-hide-required-mark`]:$===!1,[`${O}-rtl`]:a==="rtl",[`${O}-${R}`]:R},j,p,m),[Z]=Tn(C),{__INTERNAL__:W}=Z;W.name=F;const Y=g.useMemo(()=>({name:F,labelAlign:w,labelCol:T,labelWrap:I,wrapperCol:k,vertical:_==="vertical",colon:q,requiredMark:$,itemRef:W.itemRef,form:Z}),[F,w,T,k,_,q,$,Z]);g.useImperativeHandle(l,()=>Z);const K=(U,ae)=>{if(U){let ne={block:"nearest"};typeof U=="object"&&(ne=U),Z.scrollToField(ae,ne)}},v=U=>{if(z==null||z(U),U.errorFields.length){const ae=U.errorFields[0].name;if(E!==void 0){K(E,ae);return}c&&c.scrollToFirstError!==void 0&&K(c.scrollToFirstError,ae)}};return D(g.createElement(vi,{disabled:y},g.createElement(yi,{size:R},g.createElement(wn,{validateMessages:x},g.createElement(Ye.Provider,{value:Y},g.createElement(bi,Object.assign({id:F},L,{name:F,onFinishFailed:v,form:Z,className:G})))))))},Sr=g.forwardRef(Ir),Or=Sr,An=()=>{const{status:r,errors:l=[],warnings:s=[]}=g.useContext(Tt);return{status:r,errors:l,warnings:s}};An.Context=Tt;const Tr=An;function Ar(r){const[l,s]=g.useState(r),n=g.useRef(null),a=g.useRef([]),c=g.useRef(!1);g.useEffect(()=>(c.current=!1,()=>{c.current=!0,Yt.cancel(n.current),n.current=null}),[]);function o(p){c.current||(n.current===null&&(a.current=[],n.current=Yt(()=>{n.current=null,s(m=>{let f=m;return a.current.forEach(y=>{f=y(f)}),f})})),a.current.push(p))}return[l,o]}function Br(){const{itemRef:r}=g.useContext(Ye),l=g.useRef({});function s(n,a){const c=a&&typeof a=="object"&&a.ref,o=n.join("_");return(l.current.name!==o||l.current.originRef!==c)&&(l.current.name=o,l.current.originRef=c,l.current.ref=xi(r(n),c)),l.current.ref}return s}const Mr=r=>{const{prefixCls:l,status:s,wrapperCol:n,children:a,errors:c,warnings:o,_internalItemRender:p,extra:m,help:f,fieldId:y,marginBottom:C,onErrorVisibleChanged:P}=r,w=`${l}-item`,I=g.useContext(Ye),T=n||I.wrapperCol||{},k=xe(`${w}-control`,T.className),A=g.useMemo(()=>Object.assign({},I),[I]);delete A.labelCol,delete A.wrapperCol;const _=g.createElement("div",{className:`${w}-control-input`},g.createElement("div",{className:`${w}-control-input-content`},a)),E=g.useMemo(()=>({prefixCls:l,status:s}),[l,s]),M=C!==null||c.length||o.length?g.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},g.createElement(Lt.Provider,{value:E},g.createElement(Sn,{fieldId:y,errors:c,warnings:o,help:f,helpStatus:s,className:`${w}-explain-connected`,onVisibleChanged:P})),!!C&&g.createElement("div",{style:{width:0,height:C}})):null,z={};y&&(z.id=`${y}_extra`);const F=m?g.createElement("div",Object.assign({},z,{className:`${w}-extra`}),m):null,L=p&&p.mark==="pro_table_render"&&p.render?p.render(r,{input:_,errorList:M,extra:F}):g.createElement(g.Fragment,null,_,M,F);return g.createElement(Ye.Provider,{value:A},g.createElement(En,Object.assign({},T,{className:k}),L))},zr=Mr;var Dr=globalThis&&globalThis.__rest||function(r,l){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)l.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(s[n[a]]=r[n[a]]);return s};function Fr(r){return r?typeof r=="object"&&!g.isValidElement(r)?r:{title:r}:null}const $r=r=>{let{prefixCls:l,label:s,htmlFor:n,labelCol:a,labelAlign:c,colon:o,required:p,requiredMark:m,tooltip:f}=r;var y;const[C]=wi("Form"),{vertical:P,labelAlign:w,labelCol:I,labelWrap:T,colon:k}=g.useContext(Ye);if(!s)return null;const A=a||I||{},_=c||w,E=`${l}-item-label`,M=xe(E,_==="left"&&`${E}-left`,A.className,{[`${E}-wrap`]:!!T});let z=s;const F=o===!0||k!==!1&&o!==!1;F&&!P&&typeof s=="string"&&s.trim()!==""&&(z=s.replace(/[:|ï¼š]\s*$/,""));const R=Fr(f);if(R){const{icon:$=g.createElement(_i,null)}=R,q=Dr(R,["icon"]),O=g.createElement(Ci,Object.assign({},q),g.cloneElement($,{className:`${l}-item-tooltip`,title:""}));z=g.createElement(g.Fragment,null,z,O)}m==="optional"&&!p&&(z=g.createElement(g.Fragment,null,z,g.createElement("span",{className:`${l}-item-optional`,title:""},(C==null?void 0:C.optional)||((y=Pi.Form)===null||y===void 0?void 0:y.optional))));const x=xe({[`${l}-item-required`]:p,[`${l}-item-required-mark-optional`]:m==="optional",[`${l}-item-no-colon`]:!F});return g.createElement(En,Object.assign({},A,{className:M}),g.createElement("label",{htmlFor:n,className:x,title:typeof s=="string"?s:""},z))},Vr=$r;var jr=globalThis&&globalThis.__rest||function(r,l){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)l.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(s[n[a]]=r[n[a]]);return s};const Lr={success:Ri,warning:Ii,error:Si,validating:Oi};function Ur(r){const{prefixCls:l,className:s,rootClassName:n,style:a,help:c,errors:o,warnings:p,validateStatus:m,meta:f,hasFeedback:y,hidden:C,children:P,fieldId:w,required:I,isRequired:T,onSubItemMetaChange:k}=r,A=jr(r,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),_=`${l}-item`,{requiredMark:E}=g.useContext(Ye),M=g.useRef(null),z=Ot(o),F=Ot(p),L=c!=null,R=!!(L||o.length||p.length),x=!!M.current&&Ei(M.current),[$,q]=g.useState(null);ki(()=>{if(R&&M.current){const W=getComputedStyle(M.current);q(parseInt(W.marginBottom,10))}},[R,x]);const O=W=>{W||q(null)},j=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Y="";const K=W?z:f.errors,v=W?F:f.warnings;return m!==void 0?Y=m:f.validating?Y="validating":K.length?Y="error":v.length?Y="warning":(f.touched||y&&f.validated)&&(Y="success"),Y}(),G=g.useMemo(()=>{let W;if(y){const Y=j&&Lr[j];W=Y?g.createElement("span",{className:xe(`${_}-feedback-icon`,`${_}-feedback-icon-${j}`)},g.createElement(Y,null)):null}return{status:j,errors:o,warnings:p,hasFeedback:y,feedbackIcon:W,isFormItemInput:!0}},[j,y]),Z=xe(_,s,n,{[`${_}-with-help`]:L||z.length||F.length,[`${_}-has-feedback`]:j&&y,[`${_}-has-success`]:j==="success",[`${_}-has-warning`]:j==="warning",[`${_}-has-error`]:j==="error",[`${_}-is-validating`]:j==="validating",[`${_}-hidden`]:C});return g.createElement("div",{className:Z,style:a,ref:M},g.createElement(tr,Object.assign({className:`${_}-row`},yn(A,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),g.createElement(Vr,Object.assign({htmlFor:w},r,{requiredMark:E,required:I??T,prefixCls:l})),g.createElement(zr,Object.assign({},r,f,{errors:z,warnings:F,prefixCls:l,status:j,help:c,marginBottom:$,onErrorVisibleChanged:O}),g.createElement(Cn.Provider,{value:k},g.createElement(Tt.Provider,{value:G},P)))),!!$&&g.createElement("div",{className:`${_}-margin-offset`,style:{marginBottom:-$}}))}function Nr(r){if(typeof r=="function")return r;const l=Ti(r);return l.length<=1?l[0]:l}const Wr="__SPLIT__",Hr=g.memo(r=>{let{children:l}=r;return l},(r,l)=>r.value===l.value&&r.update===l.update&&r.childProps.length===l.childProps.length&&r.childProps.every((s,n)=>s===l.childProps[n]));function qr(r){return r!=null}function an(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Zr(r){const{name:l,noStyle:s,className:n,dependencies:a,prefixCls:c,shouldUpdate:o,rules:p,children:m,required:f,label:y,messageVariables:C,trigger:P="onChange",validateTrigger:w,hidden:I,help:T}=r,{getPrefixCls:k}=g.useContext(_t),{name:A}=g.useContext(Ye),_=Nr(m),E=typeof _=="function",M=g.useContext(Cn),{validateTrigger:z}=g.useContext(Ai),F=w!==void 0?w:z,L=qr(l),R=k("form",c),[x,$]=Nt(R),q=g.useContext(Bi),O=g.useRef(),[D,j]=Ar({}),[G,Z]=Mi(()=>an()),W=N=>{const B=q==null?void 0:q.getKey(N.name);if(Z(N.destroy?an():N,!0),s&&T!==!1&&M){let H=N.name;if(N.destroy)H=O.current||H;else if(B!==void 0){const[ie,re]=B;H=[ie].concat(ve(re)),O.current=H}M(N,H)}},Y=(N,B)=>{j(H=>{const ie=Object.assign({},H),oe=[].concat(ve(N.name.slice(0,-1)),ve(B)).join(Wr);return N.destroy?delete ie[oe]:ie[oe]=N,ie})},[K,v]=g.useMemo(()=>{const N=ve(G.errors),B=ve(G.warnings);return Object.values(D).forEach(H=>{N.push.apply(N,ve(H.errors||[])),B.push.apply(B,ve(H.warnings||[]))}),[N,B]},[D,G.errors,G.warnings]),U=Br();function ae(N,B,H){return s&&!I?N:g.createElement(Ur,Object.assign({key:"row"},r,{className:xe(n,$),prefixCls:R,fieldId:B,isRequired:H,errors:K,warnings:v,meta:G,onSubItemMetaChange:Y}),N)}if(!L&&!E&&!a)return x(ae(_));let ne={};return typeof y=="string"?ne.label=y:l&&(ne.label=String(l)),C&&(ne=Object.assign(Object.assign({},ne),C)),x(g.createElement(zi,Object.assign({},r,{messageVariables:ne,trigger:P,validateTrigger:F,onMetaChange:W}),(N,B,H)=>{const ie=Pt(l).length&&B?B.name:[],re=On(ie,A),oe=f!==void 0?f:!!(p&&p.some(V=>{if(V&&typeof V=="object"&&V.required&&!V.warningOnly)return!0;if(typeof V=="function"){const we=V(H);return we&&we.required&&!we.warningOnly}return!1})),Ee=Object.assign({},N);let de=null;if(Array.isArray(_)&&L)de=_;else if(!(E&&(!(o||a)||L))){if(!(a&&!E&&!L))if(Di(_)){const V=Object.assign(Object.assign({},_.props),Ee);if(V.id||(V.id=re),T||K.length>0||v.length>0||r.extra){const Re=[];(T||K.length>0)&&Re.push(`${re}_help`),r.extra&&Re.push(`${re}_extra`),V["aria-describedby"]=Re.join(" ")}K.length>0&&(V["aria-invalid"]="true"),oe&&(V["aria-required"]="true"),Fi(_)&&(V.ref=U(ie,_)),new Set([].concat(ve(Pt(P)),ve(Pt(F)))).forEach(Re=>{V[Re]=function(){for(var Je,yt,Ke,Ce,Qe,Et=arguments.length,Ie=new Array(Et),Pe=0;Pe<Et;Pe++)Ie[Pe]=arguments[Pe];(Ke=Ee[Re])===null||Ke===void 0||(Je=Ke).call.apply(Je,[Ee].concat(Ie)),(Qe=(Ce=_.props)[Re])===null||Qe===void 0||(yt=Qe).call.apply(yt,[Ce].concat(Ie))}});const ke=[V["aria-required"],V["aria-invalid"],V["aria-describedby"]];de=g.createElement(Hr,{value:Ee[r.valuePropName||"value"],update:_,childProps:ke},$i(_,V))}else E&&(o||a)&&!L?de=_(H):de=_}return ae(de,re,oe)}))}const Bn=Zr;Bn.useStatus=Tr;const Gr=Bn;var Xr=globalThis&&globalThis.__rest||function(r,l){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&l.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)l.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(s[n[a]]=r[n[a]]);return s};const Yr=r=>{var{prefixCls:l,children:s}=r,n=Xr(r,["prefixCls","children"]);const{getPrefixCls:a}=g.useContext(_t),c=a("form",l),o=g.useMemo(()=>({prefixCls:c,status:"error"}),[c]);return g.createElement(Vi,Object.assign({},n),(p,m,f)=>g.createElement(Lt.Provider,{value:o},s(p.map(y=>Object.assign(Object.assign({},y),{fieldKey:y.key})),m,{errors:f.errors,warnings:f.warnings})))},Kr=Yr;function Qr(){const{form:r}=g.useContext(Ye);return r}const Ae=Or;Ae.Item=Gr;Ae.List=Kr;Ae.ErrorList=Sn;Ae.useForm=Tn;Ae.useFormInstance=Qr;Ae.useWatch=ji;Ae.Provider=wn;Ae.create=()=>{};const wt=Ae;var Mn={exports:{}};/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/(function(r,l){(function(s,n){r.exports=n()})(Pn,function(){return function(){for(var s=["ms","moz","webkit","o"],n=0;n<s.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[s[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[n]+"CancelAnimationFrame"]||window[s[n]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a={callback:s,fps:n,n:60/n,param:arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i:0};return this.animations.push(a),this.animations.length>=1&&this.start(),this},getIndex:function(s){for(var n=0;n<this.animations.length;n++)if(this.animations[n].callback===s)return n;return-1},remove:function(s){if(!(this.getIndex(s)<0))return this.deleteMap(s),this.animations.length===0&&this.stop(),this},deleteMap:function(s){var n=this.getIndex(s),a=this.animations[n];for(var c in a)delete a[c];this.animations.splice(n,1)},start:function(){if(this.state!=="start")return this.state="start",this.tick(),this},stop:function(){if(this.state!=="stop")return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var s=this;this.timer=requestAnimationFrame(function(){s.tick()});for(var n=0;n<this.animations.length;n++){var a=this.animations[n],c=a.callback,o=a.param;a.i++,a.i>=a.n&&(c(o),a.i=0)}}}})})(Mn);var Jr=Mn.exports;const X=_n(Jr);var zn={exports:{}};/*!
* Proton v4.2.1
* https://github.com/drawcall/Proton
*
* Copyright 2013-2020, A-JIE
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/(function(r,l){(function(s,n){r.exports=n()})(Pn,function(){var s=3.1415926,n={PI:s,PIx2:2*s,PI_2:s/2,PI_180:s/180,N180_PI:180/s,Infinity:-999,isInfinity:function(e){return e===this.Infinity||e===1/0},randomAToB:function(e,t,i){return 2<arguments.length&&i!==void 0&&i?Math.floor(Math.random()*(t-e))+e:e+Math.random()*(t-e)},randomFloating:function(e,t,i){return this.randomAToB(e-t,e+t,i)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(e,t){return t=1<arguments.length&&t!==void 0?t:4,t=Math.pow(10,t),Math.floor(e*t)/t},degreeTransform:function(e){return e*s/180},toColor16:function(e){return"#"+e.toString(16)}},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),e};function p(e,t){for(var i=0;i<t.length;i++){var h=t[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}}function m(e,t,i){e===null&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,t);if(h!==void 0)return"value"in h?h.value:(h=h.get,h!==void 0?h.call(i):void 0);if((e=Object.getPrototypeOf(e))!==null)return m(e,t,i)}var f=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},C=(o(P,[{key:"getValue",value:function(e){return e=0<arguments.length&&e!==void 0&&e,this.isArray?x.getRandFromArray(this.a):this.center?n.randomFloating(this.a,this.b,e):n.randomAToB(this.a,this.b,e)}}],[{key:"setSpanValue",value:function(e,t,i){return e instanceof P?e:t===void 0?new P(e):i===void 0?new P(e,t):new P(e,t,i)}},{key:"getSpanValue",value:function(e){return e instanceof P?e.getValue():e}}]),P);function P(e,t,i){c(this,P),x.isArray(e)?(this.isArray=!0,this.a=e):(this.isArray=!1,this.a=x.initValue(e,1),this.b=x.initValue(t,this.a),this.center=x.initValue(i,!1))}var w=function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},I=function(e,t){return[1,0,0,0,1,0,e,t,1]},T=function(i){var t=Math.cos(i),i=Math.sin(i);return[t,-i,0,i,t,0,0,0,1]},k=function(e,t){return[e,0,0,0,t,0,0,0,1]},A=function(me,ge){var i=me[0],h=me[1],d=me[2],b=me[3],Q=me[4],fe=me[5],J=me[6],ee=me[7],Xe=me[8],se=ge[0],Oe=ge[1],mt=ge[2],gt=ge[3],le=ge[4],he=ge[5],Ft=ge[6],me=ge[7],ge=ge[8];return[i*se+h*gt+d*Ft,i*Oe+h*le+d*me,i*mt+h*he+d*ge,b*se+Q*gt+fe*Ft,b*Oe+Q*le+fe*me,b*mt+Q*he+fe*ge,J*se+ee*gt+Xe*Ft,J*Oe+ee*le+Xe*me,J*mt+ee*he+Xe*ge]},_={createCanvas:function(e,t,i,b){var d=3<arguments.length&&b!==void 0?b:"absolute",b=document.createElement("canvas");return b.id=e,b.width=t,b.height=i,b.style.opacity=0,b.style.position=d,this.transform(b,-500,-500,0,0),b},createDiv:function(e,t,i){var h=document.createElement("div");return h.id=e,h.style.position="absolute",this.resize(h,t,i),h},resize:function(e,t,i){e.style.width=t+"px",e.style.height=i+"px",e.style.marginLeft=-t/2+"px",e.style.marginTop=-i/2+"px"},transform:function(e,t,i,h,d){e.style.willChange="transform";var b="translate("+t+"px, "+i+"px) scale("+h+") rotate("+d+"deg)";this.css3(e,"transform",b)},transform3d:function(e,t,i,h,d){e.style.willChange="transform",d="translate3d("+t+"px, "+i+"px, 0) scale("+h+") rotate("+d+"deg)",this.css3(e,"backfaceVisibility","hidden"),this.css3(e,"transform",d)},css3:function(e,t,i){var h=t.charAt(0).toUpperCase()+t.substr(1);e.style["Webkit"+h]=i,e.style["Moz"+h]=i,e.style["O"+h]=i,e.style["ms"+h]=i,e.style[""+t]=i}},E={},M={},z=0,F=function(e,t,i){return e.drawImage(t,i.x,i.y),t=e.getImageData(i.x,i.y,i.width,i.height),e.clearRect(i.x,i.y,i.width,i.height),t},L=function(e,t,i){var h=typeof e=="string"?e:e.src;E[h]?t(E[h],i):((e=new Image).onload=function(d){E[h]=d.target,t(E[h],i)},e.src=h)},R=function(e,t,i){var h,d,b=e.src;return M[b]||(h=w(e.width),d=w(e.height),(d=_.createCanvas("proton_canvas_cache_"+ ++z,h,d)).getContext("2d").drawImage(e,0,0,e.width,e.height),M[b]=d),t&&t(M[b],i),M[b]},x={initValue:function(e,t){return e=e??t},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},emptyArray:function(e){e&&(e.length=0)},toArray:function(e){return this.isArray(e)?e:[e]},getRandFromArray:function(e){return e?e[Math.floor(e.length*Math.random())]:null},emptyObject:function(e,t){var i,h=1<arguments.length&&t!==void 0?t:null;for(i in e)h&&-1<h.indexOf(i)||delete e[i]},classApply:function(e,t){return t=1<arguments.length&&t!==void 0?t:null,new(t?e.bind.apply(e,[null].concat(t)):e)},setVectorVal:function(e,t){t=1<arguments.length&&t!==void 0?t:null,t&&(this.hasProp(t,"x")&&(e.p.x=t.x),this.hasProp(t,"y")&&(e.p.y=t.y),this.hasProp(t,"vx")&&(e.v.x=t.vx),this.hasProp(t,"vy")&&(e.v.y=t.vy),this.hasProp(t,"ax")&&(e.a.x=t.ax),this.hasProp(t,"ay")&&(e.a.y=t.ay),this.hasProp(t,"p")&&e.p.copy(t.p),this.hasProp(t,"v")&&e.v.copy(t.v),this.hasProp(t,"a")&&e.a.copy(t.a),this.hasProp(t,"position")&&e.p.copy(t.position),this.hasProp(t,"velocity")&&e.v.copy(t.velocity),this.hasProp(t,"accelerate")&&e.a.copy(t.accelerate))},hasProp:function(e,t){return!!e&&e[t]!==void 0},setProp:function(e,t){for(var i in t)e.hasOwnProperty(i)&&(e[i]=C.getSpanValue(t[i]));return e},getImageData:function(e,t,i){return F(e,t,i)},destroyAll:function(e,t){for(var i=1<arguments.length&&t!==void 0?t:null,h=e.length;h--;){try{e[h].destroy(i)}catch{}delete e[h]}e.length=0},assign:function(e,t){if(typeof Object.assign=="function")return Object.assign(e,t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},$={},q={_index:0,_cache:{},id:function(e){return $[e]!==void 0&&$[e]!==null||($[e]=0),e+"_"+$[e]++},getId:function(e){var t=this.getIdFromCache(e);return t||(t="PUID_"+this._index++,this._cache[t]=e,t)},getIdFromCache:function(e){var t,i=void 0;for(i in this._cache)if((t=this._cache[i])===e||this.isBody(t,e)&&t.src===e.src)return i;return null},isBody:function(e,t){return(e===void 0?"undefined":a(e))==="object"&&(t===void 0?"undefined":a(t))==="object"&&e.isInner&&t.isInner},getTarget:function(e){return this._cache[e]}},O=(o(D,[{key:"get",value:function(e,t,i){var h=void 0;return i=i||e.__puid||q.getId(e),(h=this.cache[i]&&0<this.cache[i].length?this.cache[i].pop():this.createOrClone(e,t)).__puid=e.__puid||i,h}},{key:"expire",value:function(e){return this.getCache(e.__puid).push(e)}},{key:"createOrClone",value:function(e,t){return this.total++,this.create?this.create(e,t):typeof e=="function"?x.classApply(e,t):e.clone()}},{key:"getCount",value:function(){var e,t=0;for(e in this.cache)t+=this.cache[e].length;return t++}},{key:"destroy",value:function(){for(var e in this.cache)this.cache[e].length=0,delete this.cache[e]}},{key:"getCache",value:function(e){return e=0<arguments.length&&e!==void 0?e:"default",this.cache[e]||(this.cache[e]=[]),this.cache[e]}}]),D);function D(e){c(this,D),this.total=0,this.cache={}}var j=(o(G,[{key:"update",value:function(h,d){this.add(h,d);var i=this.getEmitter(),h=this.getRenderer(),d="";switch(this.type){case 2:d+="emitter:"+this.proton.emitters.length+"<br>",i&&(d+="em speed:"+i.emitSpeed+"<br>"),i&&(d+="pos:"+this.getEmitterPos(i));break;case 3:i&&(d+="initializes:"+i.initializes.length+"<br>"),i&&(d+='<span style="display:inline-block;">'+this.concatArr(i.initializes)+"</span><br>"),i&&(d+="behaviours:"+i.behaviours.length+"<br>"),i&&(d+='<span style="display:inline-block;">'+this.concatArr(i.behaviours)+"</span><br>");break;case 4:h&&(d+=h.name+"<br>"),h&&(d+="body:"+this.getCreatedNumber(h)+"<br>");break;default:d+="particles:"+this.proton.getCount()+"<br>",d+="pool:"+this.proton.pool.getCount()+"<br>",d+="total:"+this.proton.pool.total}this.container.innerHTML=d}},{key:"add",value:function(e,t){var i=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",function(b){i.type++,4<i.type&&(i.type=1)},!1);var h=void 0,d=void 0;switch(e){case 2:h="#201",d="#f08";break;case 3:h="#020",d="#0f0";break;default:h="#002",d="#0ff"}this.container.style["background-color"]=h,this.container.style.color=d}this.container.parentNode||(t=t||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(e){var t="";if(!e||!e.length)return t;for(var i=0;i<e.length;i++)t+=(e[i].name||"").substr(0,1)+".";return t}},{key:"getCreatedNumber",value:function(e){return e.pool.total||e.cpool&&e.cpool.total||0}},{key:"getEmitterPos",value:function(e){return Math.round(e.p.x)+","+Math.round(e.p.y)}}]),G);function G(e){c(this,G),this.proton=e,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var Z=(o(W,[{key:"addEventListener",value:function(e,t){return this._listeners?this.removeEventListener(e,t):this._listeners={},this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),t}},{key:"removeEventListener",value:function(e,t){if(this._listeners&&this._listeners[e]){for(var i=this._listeners[e],h=i.length,d=0;d<h;d++)if(i[d]===t){h===1?delete this._listeners[e]:i.splice(d,1);break}}}},{key:"removeAllEventListeners",value:function(e){e?this._listeners&&delete this._listeners[e]:this._listeners=null}},{key:"dispatchEvent",value:function(e,t){var i=!1,h=this._listeners;if(e&&h){var d=h[e];if(!d)return i;for(var b=void 0,Q=d.length;Q--;)b=d[Q],i=i||b(t)}return!!i}},{key:"hasEventListener",value:function(e){var t=this._listeners;return!(!t||!t[e])}}],[{key:"bind",value:function(e){e.prototype.dispatchEvent=W.prototype.dispatchEvent,e.prototype.hasEventListener=W.prototype.hasEventListener,e.prototype.addEventListener=W.prototype.addEventListener,e.prototype.removeEventListener=W.prototype.removeEventListener,e.prototype.removeAllEventListeners=W.prototype.removeAllEventListeners}}]),W);function W(){c(this,W),this._listeners=null}var Y=(o(K,[{key:"calculate",value:function(e,t,i){this.eulerIntegrate(e,t,i)}},{key:"eulerIntegrate",value:function(e,t,i){e.sleep||(e.old.p.copy(e.p),e.old.v.copy(e.v),e.a.multiplyScalar(1/e.mass),e.v.add(e.a.multiplyScalar(t)),e.p.add(e.old.v.multiplyScalar(t)),i&&e.v.multiplyScalar(i),e.a.clear())}}]),K);function K(e){c(this,K),this.type=e}var v=(o(U,[{key:"addRenderer",value:function(e){e.init(this),this.renderers.push(e)}},{key:"removeRenderer",value:function(e){var t=this.renderers.indexOf(e);this.renderers.splice(t,1),e.remove(this)}},{key:"addEmitter",value:function(e){this.emitters.push(e),(e.parent=this).dispatchEvent(U.EMITTER_ADDED,e)}},{key:"removeEmitter",value:function(e){var t=this.emitters.indexOf(e);this.emitters.splice(t,1),e.parent=null,this.dispatchEvent(U.EMITTER_REMOVED,e)}},{key:"update",value:function(){this._fps==="auto"?(this.dispatchEvent(U.PROTON_UPDATE),U.USE_CLOCK?(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(U.DEFAULT_INTERVAL),this.dispatchEvent(U.PROTON_UPDATE_AFTER)):(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(U.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(U.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(e){for(var t=this.emitters.length;t--;)this.emitters[t].update(e)}},{key:"amendChangeTabsBug",value:function(){U.amendChangeTabsBug&&.5<this.elapsed&&(this.then=new Date().getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var e=0,t=this.emitters.length;t--;)e+=this.emitters[t].particles.length;return e}},{key:"getAllParticles",value:function(){for(var e=[],t=this.emitters.length;t--;)e=e.concat(this.emitters[t].particles);return e}},{key:"destroyAllEmitters",value:function(){x.destroyAll(this.emitters)}},{key:"destroy",value:function(e){function t(){i.time=0,i.then=0,i.pool.destroy(),x.destroyAll(i.emitters),x.destroyAll(i.renderers,i.getAllParticles())}var i=this;0<arguments.length&&e!==void 0&&e?setTimeout(t,200):t()}},{key:"fps",set:function(e){this._fps=e,this._interval=e==="auto"?U.DEFAULT_INTERVAL:n.floor(1/e,7)},get:function(){return this._fps}}]),U);function U(e){c(this,U),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new j(this),this.pool=new O(80),this.integrationType=x.initValue(e,U.EULER),this.integrator=new Y(this.integrationType),this._fps="auto",this._interval=U.DEFAULT_INTERVAL}v.USE_CLOCK=!1,v.MEASURE=100,v.EULER="euler",v.RK2="runge-kutta2",v.PARTICLE_CREATED="PARTICLE_CREATED",v.PARTICLE_UPDATE="PARTICLE_UPDATE",v.PARTICLE_SLEEP="PARTICLE_SLEEP",v.PARTICLE_DEAD="PARTICLE_DEAD",v.EMITTER_ADDED="EMITTER_ADDED",v.EMITTER_REMOVED="EMITTER_REMOVED",v.PROTON_UPDATE="PROTON_UPDATE",v.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",v.DEFAULT_INTERVAL=.0167,v.amendChangeTabsBug=!0,Z.bind(v);var ae=(o(ne,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),ne);function ne(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:255;c(this,ne),this.r=e,this.g=t,this.b=i}var N={easeLinear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInSine:function(e){return 1-Math.cos(e*n.PI_2)},easeOutSine:function(e){return Math.sin(e*n.PI_2)},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return e===0?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return e===1?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return--e*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},getEasing:function(e){return typeof e=="function"?e:this[e]||this.easeLinear}},B=(o(H,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"getGradient",value:function(){return this.x!==0?Math.atan2(this.y,this.x):0<this.y?n.PI_2:this.y<0?-n.PI_2:void 0}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return t!==void 0?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)}},{key:"addXY",value:function(e,t){return this.x+=e,this.y+=t,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"sub",value:function(e,t){return t!==void 0?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"divideScalar",value:function(e){return e!==0?(this.x/=e,this.y/=e):this.set(0,0),this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"rotate",value:function(e){var t=this.x,i=this.y;return this.x=t*Math.cos(e)+i*Math.sin(e),this.y=-t*Math.sin(e)+i*Math.cos(e),this}},{key:"distanceToSquared",value:function(i){var t=this.x-i.x,i=this.y-i.y;return t*t+i*i}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new H(this.x,this.y)}}]),H);function H(e,t){c(this,H),this.x=e||0,this.y=t||0}var ie=(o(re,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*n.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=N.easeLinear,this.rgb.reset(),x.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(e,t){this.sleep||(this.age+=e,this.applyBehaviours(e,t)),this.age<this.life?(t=this.easing(this.age/this.life),this.energy=Math.max(1-t,0)):this.destroy()}},{key:"applyBehaviours",value:function(e,t){for(var i=this.behaviours.length,h=void 0,h=0;h<i;h++)this.behaviours[h]&&this.behaviours[h].applyBehaviour(this,e,t)}},{key:"addBehaviour",value:function(e){this.behaviours.push(e),e.hasOwnProperty("parents")&&e.parents.push(this),e.initialize(this)}},{key:"addBehaviours",value:function(e){for(var t=e.length,i=void 0,i=0;i<t;i++)this.addBehaviour(e[i])}},{key:"removeBehaviour",value:function(e){e=this.behaviours.indexOf(e),-1<e&&(this.behaviours.splice(e,1).parents=null)}},{key:"removeAllBehaviours",value:function(){x.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),re);function re(e){c(this,re),this.id="",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name="Particle",this.id=q.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new B,this.v=new B,this.a=new B,this.old.p=new B,this.old.v=new B,this.old.a=new B,this.rgb=new ae,this.reset(),e&&x.setProp(this,e)}var oe={hexToRgb:function(e){return e=e.charAt(0)==="#"?e.substring(1,7):e,{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},rgbToHex:function(e){return"rgb("+e.r+", "+e.g+", "+e.b+")"},getHex16FromParticle:function(e){return 65536*Number(e.rgb.r)+256*Number(e.rgb.g)+Number(e.rgb.b)}},Ee=(o(de,[{key:"set",value:function(e,t){return this.r=e,this.tha=t,this}},{key:"setR",value:function(e){return this.r=e,this}},{key:"setTha",value:function(e){return this.tha=e,this}},{key:"copy",value:function(e){return this.r=e.r,this.tha=e.tha,this}},{key:"toVector",value:function(){return new B(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(e){return e.r===this.r&&e.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new de(this.r,this.tha)}}]),de);function de(e,t){c(this,de),this.r=Math.abs(e)||0,this.tha=t||0}var V={create:function(e){var t=new Float32Array(9);return e&&this.set(e,t),t},set:function(e,t){for(var i=0;i<9;i++)t[i]=e[i];return t},multiply:function(le,he,i){var h=le[0],d=le[1],b=le[2],Q=le[3],fe=le[4],J=le[6],ee=le[7],Xe=he[0],se=he[1],Oe=he[2],mt=he[3],gt=he[4],le=he[6],he=he[7];return i[0]=Xe*h+se*Q,i[1]=Xe*d+se*fe,i[2]=b*Oe,i[3]=mt*h+gt*Q,i[4]=mt*d+gt*fe,i[6]=le*h+he*Q+J,i[7]=le*d+he*fe+ee,i},inverse:function(J,t){var i=J[0],h=J[1],ee=J[3],d=J[4],b=J[6],Q=J[7],fe=-ee,J=Q*ee-d*b,ee=1/(i*d+h*fe);return t[0]=d*ee,t[1]=-h*ee,t[3]=fe*ee,t[4]=i*ee,t[6]=J*ee,t[7]=(-Q*i+h*b)*ee,t},multiplyVec2:function(e,d,i){var h=d[0],d=d[1];return i[0]=h*e[0]+d*e[3]+e[6],i[1]=h*e[1]+d*e[4]+e[7],i}},we=(f(ke,C),o(ke,[{key:"getValue",value:function(){var e=x.getRandFromArray(this._arr);return e==="random"||e==="Random"?n.randomColor():e}}],[{key:"createArraySpan",value:function(e){return e?e instanceof ke?e:new ke(e):null}}]),ke);function ke(e){c(this,ke);var t=y(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return t._arr=x.toArray(e),t}var Re=(o(Je,[{key:"contains",value:function(e,t){return e<=this.right&&e>=this.x&&t<=this.bottom&&t>=this.y}}]),Je);function Je(e,t,i,h){c(this,Je),this.x=e,this.y=t,this.width=i,this.height=h,this.bottom=this.y+this.height,this.right=this.x+this.width}var yt=(o(Ke,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(e){return this.startTime+=e,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),this.numPan.b===1?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),Ke);function Ke(e,t){c(this,Ke),this.numPan=C.setSpanValue(x.initValue(e,1)),this.timePan=C.setSpanValue(x.initValue(t,1)),this.startTime=0,this.nextTime=0,this.init()}var Ce=(o(Qe,[{key:"reset",value:function(){}},{key:"init",value:function(e,t){t?this.initialize(t):this.initialize(e)}},{key:"initialize",value:function(){}}]),Qe);function Qe(){c(this,Qe)}var Et=(f(Ie,Ce),o(Ie,[{key:"initialize",value:function(e){this.lifePan.a===1/0?e.life=1/0:e.life=this.lifePan.getValue()}}]),Ie);function Ie(e,t,i){c(this,Ie);var h=y(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).call(this));return h.lifePan=C.setSpanValue(e,t,i),h.name="Life",h}var Pe=(o(Bt,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),Bt);function Bt(){c(this,Bt),this.vector=new B(0,0),this.random=0,this.crossType="dead",this.alert=!0}var kt=(f(et,Pe),o(et,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),et);function et(e,t){c(this,et);var i=y(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return i.x=e,i.y=t,i}var Fn=(f(tt,Ce),o(tt,[{key:"reset",value:function(e){this.zone=x.initValue(e,new kt)}},{key:"initialize",value:function(e){this.zone.getPosition(),e.p.x=this.zone.vector.x,e.p.y=this.zone.vector.y}}]),tt);function tt(e){c(this,tt);var t=y(this,(tt.__proto__||Object.getPrototypeOf(tt)).call(this));return t.zone=x.initValue(e,new kt),t.name="Position",t}var $n=(f(nt,Ce),o(nt,[{key:"reset",value:function(e,t,i){this.rPan=C.setSpanValue(e),this.thaPan=C.setSpanValue(t),this.type=x.initValue(i,"vector")}},{key:"normalizeVelocity",value:function(e){return e*v.MEASURE}},{key:"initialize",value:function(e){var t;this.type==="p"||this.type==="P"||this.type==="polar"?(t=new Ee(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*n.PI_180),e.v.x=t.getX(),e.v.y=t.getY()):(e.v.x=this.normalizeVelocity(this.rPan.getValue()),e.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),nt);function nt(e,t,i){c(this,nt);var h=y(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this));return h.rPan=C.setSpanValue(e),h.thaPan=C.setSpanValue(t),h.type=x.initValue(i,"vector"),h.name="Velocity",h}var Vn=(f(it,Ce),o(it,[{key:"initialize",value:function(e){e.mass=this.massPan.getValue()}}]),it);function it(e,t,i){c(this,it);var h=y(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return h.massPan=C.setSpanValue(e,t,i),h.name="Mass",h}var jn=(f(rt,Ce),o(rt,[{key:"reset",value:function(e,t,i){this.radius=C.setSpanValue(e,t,i)}},{key:"initialize",value:function(e){e.radius=this.radius.getValue(),e.data.oldRadius=e.radius}}]),rt);function rt(e,t,i){c(this,rt);var h=y(this,(rt.__proto__||Object.getPrototypeOf(rt)).call(this));return h.radius=C.setSpanValue(e,t,i),h.name="Radius",h}var Ln=(f(ot,Ce),o(ot,[{key:"initialize",value:function(e){var t=this.image.getValue();e.body=typeof t=="string"?{width:this.w,height:this.h,src:t,isInner:!0,inner:!0}:t}},{key:"setSpanValue",value:function(e){return e instanceof we?e:new we(e)}}]),ot);function ot(e,t,i){c(this,ot);var h=y(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this));return h.image=h.setSpanValue(e),h.w=x.initValue(t,20),h.h=x.initValue(i,h.w),h.name="Body",h}var pe=(o(Rt,[{key:"reset",value:function(e,t){this.life=x.initValue(e,1/0),this.easing=N.getEasing(t)}},{key:"normalizeForce",value:function(e){return e.multiplyScalar(v.MEASURE)}},{key:"normalizeValue",value:function(e){return e*v.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(e,t){this.age+=t,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(e=this.easing(e.age/e.life),this.energy=Math.max(1-e,0))}},{key:"destroy",value:function(){for(var e=this.parents.length;e--;)this.parents[e].removeBehaviour(this);this.parents.length=0}}]),Rt);function Rt(e,t){c(this,Rt),this.life=x.initValue(e,1/0),this.easing=N.getEasing(t),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+Rt.id++,this.name="Behaviour"}pe.id=0;var Wt=(f(Be,pe),o(Be,[{key:"reset",value:function(e,t,i,h){this.force=this.normalizeForce(new B(e,t)),i&&m(Be.prototype.__proto__||Object.getPrototypeOf(Be.prototype),"reset",this).call(this,i,h)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.a.add(this.force)}}]),Be);function Be(e,t,i,h){return c(this,Be),h=y(this,(Be.__proto__||Object.getPrototypeOf(Be)).call(this,i,h)),h.force=h.normalizeForce(new B(e,t)),h.name="Force",h}var Ht=(f(Me,pe),o(Me,[{key:"reset",value:function(e,t,i,h,d){this.targetPosition=x.initValue(e,new B),this.radius=x.initValue(i,1e3),this.force=x.initValue(this.normalizeValue(t),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new B,this.lengthSq=0,h&&m(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"reset",this).call(this,h,d)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(e.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),e.a.add(this.attractionForce))}}]),Me);function Me(e,t,i,h,d){return c(this,Me),d=y(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,h,d)),d.targetPosition=x.initValue(e,new B),d.radius=x.initValue(i,1e3),d.force=x.initValue(d.normalizeValue(t),100),d.radiusSq=d.radius*d.radius,d.attractionForce=new B,d.lengthSq=0,d.name="Attraction",d}var Un=(f(ze,pe),o(ze,[{key:"reset",value:function(e,t,i,h,d){this.panFoce=new B(e,t),this.panFoce=this.normalizeForce(this.panFoce),this.delay=i,h&&m(ze.prototype.__proto__||Object.getPrototypeOf(ze.prototype),"reset",this).call(this,h,d)}},{key:"initialize",value:function(e){e.data.time=0}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.data.time+=t,e.data.time>=this.delay&&(e.a.addXY(n.randomAToB(-this.panFoce.x,this.panFoce.x),n.randomAToB(-this.panFoce.y,this.panFoce.y)),e.data.time=0)}}]),ze);function ze(e,t,i,h,d){return c(this,ze),d=y(this,(ze.__proto__||Object.getPrototypeOf(ze)).call(this,h,d)),d.reset(e,t,i),d.time=0,d.name="RandomDrift",d}var Nn=(f(De,Wt),o(De,[{key:"reset",value:function(e,t,i){m(De.prototype.__proto__||Object.getPrototypeOf(De.prototype),"reset",this).call(this,0,e,t,i)}}]),De);function De(e,t,i){return c(this,De),i=y(this,(De.__proto__||Object.getPrototypeOf(De)).call(this,0,e,t,i)),i.name="Gravity",i}var Wn=(f(Fe,pe),o(Fe,[{key:"reset",value:function(e,t,i,h,d){this.emitter=x.initValue(e,null),this.mass=x.initValue(t,!0),this.callback=x.initValue(i,null),this.collisionPool=[],this.delta=new B,h&&m(Fe.prototype.__proto__||Object.getPrototypeOf(Fe.prototype),"reset",this).call(this,h,d)}},{key:"applyBehaviour",value:function(e,t,i){for(var h,d,b,Q,fe,J,ee=(this.emitter?this.emitter.particles:this.pool).slice(i),Xe=ee.length,se=void 0,Oe=void 0,Oe=0;Oe<Xe;Oe++)(se=ee[Oe])!==e&&(this.delta.copy(se.p),this.delta.sub(e.p),(h=this.delta.lengthSq())<=(J=e.radius+se.radius)*J&&(d=J-Math.sqrt(h),d+=.5,b=e.mass+se.mass,Q=this.mass?se.mass/b:.5,fe=this.mass?e.mass/b:.5,e.p.add(this.delta.clone().normalize().multiplyScalar(d*-Q)),se.p.add(this.delta.normalize().multiplyScalar(d*fe)),this.callback&&this.callback(e,se)))}}]),Fe);function Fe(e,t,i,h,d){return c(this,Fe),d=y(this,(Fe.__proto__||Object.getPrototypeOf(Fe)).call(this,h,d)),d.reset(e,t,i),d.name="Collision",d}var Hn=(f($e,pe),o($e,[{key:"reset",value:function(e,t,i,h){this.zone=e,this.zone.crossType=x.initValue(t,"dead"),i&&m($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"reset",this).call(this,i,h)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),this.zone.crossing(e)}}]),$e);function $e(e,t,i,h){return c(this,$e),h=y(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,i,h)),h.reset(e,t),h.name="CrossZone",h}var qn=(f(Ve,pe),o(Ve,[{key:"reset",value:function(e,t,i,h){this.same=t==null,this.a=C.setSpanValue(x.initValue(e,1)),this.b=C.setSpanValue(t),i&&m(Ve.prototype.__proto__||Object.getPrototypeOf(Ve.prototype),"reset",this).call(this,i,h)}},{key:"initialize",value:function(e){e.data.alphaA=this.a.getValue(),this.same?e.data.alphaB=e.data.alphaA:e.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.alpha=e.data.alphaB+(e.data.alphaA-e.data.alphaB)*this.energy,e.alpha<.001&&(e.alpha=0)}}]),Ve);function Ve(e,t,i,h){return c(this,Ve),h=y(this,(Ve.__proto__||Object.getPrototypeOf(Ve)).call(this,i,h)),h.reset(e,t),h.name="Alpha",h}var Zn=(f(je,pe),o(je,[{key:"reset",value:function(e,t,i,h){this.same=t==null,this.a=C.setSpanValue(x.initValue(e,1)),this.b=C.setSpanValue(t),i&&m(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"reset",this).call(this,i,h)}},{key:"initialize",value:function(e){e.data.scaleA=this.a.getValue(),e.data.oldRadius=e.radius,e.data.scaleB=this.same?e.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.scale=e.data.scaleB+(e.data.scaleA-e.data.scaleB)*this.energy,e.scale<1e-4&&(e.scale=0),e.radius=e.data.oldRadius*e.scale}}]),je);function je(e,t,i,h){return c(this,je),h=y(this,(je.__proto__||Object.getPrototypeOf(je)).call(this,i,h)),h.reset(e,t),h.name="Scale",h}var Gn=(f(Le,pe),o(Le,[{key:"reset",value:function(e,t,i,h,d){this.same=t==null,this.a=C.setSpanValue(x.initValue(e,"Velocity")),this.b=C.setSpanValue(x.initValue(t,0)),this.style=x.initValue(i,"to"),h&&m(Le.prototype.__proto__||Object.getPrototypeOf(Le.prototype),"reset",this).call(this,h,d)}},{key:"initialize",value:function(e){e.rotation=this.a.getValue(),e.data.rotationA=this.a.getValue(),this.same||(e.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),this.same?this.a.a!=="V"&&this.a.a!=="Velocity"&&this.a.a!=="v"||(e.rotation=e.getDirection()):this.style==="to"||this.style==="TO"||this.style==="_"?e.rotation+=e.data.rotationB+(e.data.rotationA-e.data.rotationB)*this.energy:e.rotation+=e.data.rotationB}}]),Le);function Le(e,t,i,h,d){return c(this,Le),d=y(this,(Le.__proto__||Object.getPrototypeOf(Le)).call(this,h,d)),d.reset(e,t,i),d.name="Rotate",d}var Xn=(f(Ue,pe),o(Ue,[{key:"reset",value:function(e,t,i,h){this.a=we.createArraySpan(e),this.b=we.createArraySpan(t),i&&m(Ue.prototype.__proto__||Object.getPrototypeOf(Ue.prototype),"reset",this).call(this,i,h)}},{key:"initialize",value:function(e){e.color=this.a.getValue(),e.data.colorA=oe.hexToRgb(e.color),this.b&&(e.data.colorB=oe.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(e,t,i){this.b?(this.calculate(e,t,i),e.rgb.r=e.data.colorB.r+(e.data.colorA.r-e.data.colorB.r)*this.energy,e.rgb.g=e.data.colorB.g+(e.data.colorA.g-e.data.colorB.g)*this.energy,e.rgb.b=e.data.colorB.b+(e.data.colorA.b-e.data.colorB.b)*this.energy,e.rgb.r=Math.floor(e.rgb.r),e.rgb.g=Math.floor(e.rgb.g),e.rgb.b=Math.floor(e.rgb.b)):(e.rgb.r=e.data.colorA.r,e.rgb.g=e.data.colorA.g,e.rgb.b=e.data.colorA.b)}}]),Ue);function Ue(e,t,i,h){return c(this,Ue),h=y(this,(Ue.__proto__||Object.getPrototypeOf(Ue)).call(this,i,h)),h.reset(e,t),h.name="Color",h}var Mt="changing",Yn=(f(Ne,pe),o(Ne,[{key:"setAngleAndForce",value:function(e,t){this.force=Mt,this.angle=n.PI/2,e==="right"?this.angle=n.PI/2:e==="left"?this.angle=-n.PI/2:e==="random"?this.angle="random":e instanceof C?(this.angle="span",this.span=e):e&&(this.angle=e),String(t).toLowerCase()==="changing"||String(t).toLowerCase()==="chang"||String(t).toLowerCase()==="auto"?this.force=Mt:t&&(this.force=t)}},{key:"reset",value:function(e,t,i,h){this.angle=n.PI/2,this.setAngleAndForce(e,t),i&&m(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"reset",this).call(this,i,h)}},{key:"initialize",value:function(e){this.angle==="random"?e.data.cangle=n.randomAToB(-n.PI,n.PI):this.angle==="span"&&(e.data.cangle=this.span.getValue()),e.data.cyclone=new B(0,0)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),t=void 0,i=e.v.getGradient(),this.angle==="random"||this.angle==="span"?i+=e.data.cangle:i+=this.angle,t=this.force===Mt?e.v.length()/100:this.force,e.data.cyclone.x=t*Math.cos(i),e.data.cyclone.y=t*Math.sin(i),e.data.cyclone=this.normalizeForce(e.data.cyclone),e.a.add(e.data.cyclone)}}]),Ne);function Ne(e,t,i,h){return c(this,Ne),h=y(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).call(this,i,h)),h.setAngleAndForce(e,t),h.name="Cyclone",h}var Kn=(f(We,Ht),o(We,[{key:"reset",value:function(e,t,i,h,d){m(We.prototype.__proto__||Object.getPrototypeOf(We.prototype),"reset",this).call(this,e,t,i,h,d),this.force*=-1}}]),We);function We(e,t,i,h,d){return c(this,We),d=y(this,(We.__proto__||Object.getPrototypeOf(We)).call(this,e,t,i,h,d)),d.force*=-1,d.name="Repulsion",d}var Qn=(f(He,pe),o(He,[{key:"reset",value:function(e,t,i,h){this.distanceVec=new B,this.centerPoint=x.initValue(e,new B),this.force=x.initValue(this.normalizeValue(t),100),i&&m(He.prototype.__proto__||Object.getPrototypeOf(He.prototype),"reset",this).call(this,i,h)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(e,t){this.distanceVec.set(this.centerPoint.x-e.p.x,this.centerPoint.y-e.p.y);var i,h=this.distanceVec.lengthSq();h!==0&&(i=this.distanceVec.length(),i=this.force*t/(h*i),e.v.x+=i*this.distanceVec.x,e.v.y+=i*this.distanceVec.y)}}]),He);function He(e,t,i,h){return c(this,He),h=y(this,(He.__proto__||Object.getPrototypeOf(He)).call(this,i,h)),h.distanceVec=new B,h.centerPoint=x.initValue(e,new B),h.force=x.initValue(h.normalizeValue(t),100),h.name="GravityWell",h}var Jn={initialize:function(e,t,i){for(var h=i.length,d=void 0,d=0;d<h;d++)i[d]instanceof Ce?i[d].init(e,t):this.init(e,t,i[d]);this.bindEmitter(e,t)},init:function(e,t,i){x.setProp(t,i),x.setVectorVal(t,i)},bindEmitter:function(e,t){e.bindEmitter&&(t.p.add(e.p),t.v.add(e.v),t.a.add(e.a),t.v.rotate(n.degreeTransform(e.rotation)))}},It=(f(at,ie),o(at,[{key:"emit",value:function(e,t){this.stoped=!1,this.emitTime=0,this.totalTime=x.initValue(e,1/0),t===!0||t==="life"||t==="destroy"?this.life=e==="once"?1:this.totalTime:isNaN(t)||(this.life=t),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(e){var t=this.stoped,i=this.emitTime,h=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=e,this.rate.init();.0167<e;)e-=.0167,this.update(.0167);this.stoped=t,this.emitTime=i+Math.max(e,0),this.totalTime=h}},{key:"removeAllParticles",value:function(){for(var e=this.particles.length;e--;)this.particles[e].dead=!0}},{key:"addSelfInitialize",value:function(e){e.init?e.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var h=t.length;h--;)this.initializes.push(t[h])}},{key:"removeInitialize",value:function(e){e=this.initializes.indexOf(e),-1<e&&this.initializes.splice(e,1)}},{key:"removeAllInitializers",value:function(){x.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var h=arguments.length;h--;){var d=t[h];this.behaviours.push(d),d.parents&&d.parents.push(this)}}},{key:"removeBehaviour",value:function(e){var t=this.behaviours.indexOf(e);return this.behaviours.splice(t,1),e.parents&&(t=e.parents.indexOf(e),e.parents.splice(t,1)),t}},{key:"removeAllBehaviours",value:function(){x.emptyArray(this.behaviours)}},{key:"update",value:function(e){this.age+=e,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(e),this.integrate(e)}},{key:"integrate",value:function(e){if(this.parent){var t=1-this.damping;this.parent.integrator.calculate(this,e,t);for(var h=void 0,i=void 0,h=this.particles.length-1;0<=h;h--)(i=this.particles[h]).update(e,h),this.parent.integrator.calculate(i,e,t),this.dispatch("PARTICLE_UPDATE",i),i.dead&&(this.dispatch("PARTICLE_DEAD",i),this.parent.pool.expire(i),this.particles.splice(h,1))}}},{key:"dispatch",value:function(e,t){this.parent&&this.parent.dispatchEvent(e,t),this.bindEvent&&this.dispatchEvent(e,t)}},{key:"emitting",value:function(e){if(this.totalTime==="once"){var t=void 0,i=this.rate.getValue(99999);for(0<i&&(this.emitSpeed=i),t=0;t<i;t++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=e,this.emitTime<this.totalTime){var h=this.rate.getValue(e),d=void 0;for(0<h&&(this.emitSpeed=h),d=0;d<h;d++)this.createParticle()}}},{key:"createParticle",value:function(e,t){var i=this.parent.pool.get(ie);return this.setupParticle(i,e,t),this.dispatch("PARTICLE_CREATED",i),i}},{key:"setupParticle",value:function(e,t,i){var h=this.initializes,d=this.behaviours;t&&(h=x.toArray(t)),i&&(d=x.toArray(i)),e.reset(),Jn.initialize(this,e,h),e.addBehaviours(d),(e.parent=this).particles.push(e)}},{key:"remove",value:function(){this.stop(),x.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),at);function at(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return c(this,at),e=y(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,e)),e.particles=[],e.behaviours=[],e.initializes=[],e.emitTime=0,e.emitSpeed=0,e.totalTime=-1,e.damping=.006,e.bindEmitter=!0,e.rate=new yt(1,.1),e.name="Emitter",e.id=q.id(e.name),e}Z.bind(It);var ei=(f(qe,It),o(qe,[{key:"addSelfBehaviour",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var d=void 0,h=t.length,d=0;d<h;d++){var b=t[d];this.selfBehaviours.push(b),b.initialize(this)}}},{key:"removeSelfBehaviour",value:function(e){e=this.selfBehaviours.indexOf(e),-1<e&&this.selfBehaviours.splice(e,1)}},{key:"update",value:function(e){if(m(qe.prototype.__proto__||Object.getPrototypeOf(qe.prototype),"update",this).call(this,e),!this.sleep)for(var t=this.selfBehaviours.length,i=void 0,i=0;i<t;i++)this.selfBehaviours[i].applyBehaviour(this,e,i)}}]),qe);function qe(e){return c(this,qe),e=y(this,(qe.__proto__||Object.getPrototypeOf(qe)).call(this,e)),e.selfBehaviours=[],e}var ti=(f(Se,It),o(Se,[{key:"initEventHandler",value:function(){var e=this;this.mousemoveHandler=function(t){return e.mousemove.call(e,t)},this.mousedownHandler=function(t){return e.mousedown.call(e,t)},this.mouseupHandler=function(t){return e.mouseup.call(e,t)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(e){e.layerX||e.layerX===0?(this.p.x+=(e.layerX-this.p.x)*this.ease,this.p.y+=(e.layerY-this.p.y)*this.ease):!e.offsetX&&e.offsetX!==0||(this.p.x+=(e.offsetX-this.p.x)*this.ease,this.p.y+=(e.offsetY-this.p.y)*this.ease),this._allowEmitting&&m(Se.prototype.__proto__||Object.getPrototypeOf(Se.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){m(Se.prototype.__proto__||Object.getPrototypeOf(Se.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),Se);function Se(e,t,i){return c(this,Se),i=y(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,i)),i.mouseTarget=x.initValue(e,window),i.ease=x.initValue(t,.7),i._allowEmitting=!1,i.initEventHandler(),i}var Te=(o(zt,[{key:"setStroke",value:function(e,t){e=0<arguments.length&&e!==void 0?e:"#000000",t=1<arguments.length&&t!==void 0?t:1,this.stroke={color:e,thinkness:t}}},{key:"initHandler",value:function(){var e=this;this._protonUpdateHandler=function(){e.onProtonUpdate.call(e)},this._protonUpdateAfterHandler=function(){e.onProtonUpdateAfter.call(e)},this._emitterAddedHandler=function(t){e.onEmitterAdded.call(e,t)},this._emitterRemovedHandler=function(t){e.onEmitterRemoved.call(e,t)},this._particleCreatedHandler=function(t){e.onParticleCreated.call(e,t)},this._particleUpdateHandler=function(t){e.onParticleUpdate.call(e,t)},this._particleDeadHandler=function(t){e.onParticleDead.call(e,t)}}},{key:"init",value:function(e){(this.parent=e).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),e.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),e.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),e.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),e.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),e.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),e.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),zt);function zt(e,t){c(this,zt),this.pool=new O,this.element=e,this.stroke=t,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var ni=(f(st,Te),o(st,[{key:"resize",value:function(e,t){this.element.width=e,this.element.height=t}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(e){e.body?L(e.body,this.addImg2Body,e):e.color=e.color||"#ff0000"}},{key:"onParticleUpdate",value:function(e){e.body?e.body instanceof Image&&this.drawImage(e):this.drawCircle(e)}},{key:"onParticleDead",value:function(e){e.body=null}},{key:"addImg2Body",value:function(e,t){t.body=e}},{key:"drawImage",value:function(e){var t,i=e.body.width*e.scale|0,h=e.body.height*e.scale|0,d=e.p.x-i/2,b=e.p.y-h/2;e.color?(e.data.buffer||(e.data.buffer=this.createBuffer(e.body)),(t=e.data.buffer.getContext("2d")).clearRect(0,0,e.data.buffer.width,e.data.buffer.height),t.globalAlpha=e.alpha,t.drawImage(e.body,0,0),t.globalCompositeOperation="source-atop",t.fillStyle=oe.rgbToHex(e.rgb),t.fillRect(0,0,e.data.buffer.width,e.data.buffer.height),t.globalCompositeOperation="source-over",t.globalAlpha=1,this.context.drawImage(e.data.buffer,0,0,e.data.buffer.width,e.data.buffer.height,d,b,i,h)):(this.context.save(),this.context.globalAlpha=e.alpha,this.context.translate(e.p.x,e.p.y),this.context.rotate(n.degreeTransform(e.rotation)),this.context.translate(-e.p.x,-e.p.y),this.context.drawImage(e.body,0,0,e.body.width,e.body.height,d,b,i,h),this.context.globalAlpha=1,this.context.restore())}},{key:"drawCircle",value:function(e){e.rgb?this.context.fillStyle="rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.alpha+")":this.context.fillStyle=e.color,this.context.beginPath(),this.context.arc(e.p.x,e.p.y,e.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(e){if(e instanceof Image){var t=e.width+"_"+e.height,i=this.bufferCache[t];return i||((i=document.createElement("canvas")).width=e.width,i.height=e.height,this.bufferCache[t]=i),i}}}]),st);function st(e){return c(this,st),e=y(this,(st.__proto__||Object.getPrototypeOf(st)).call(this,e)),e.stroke=null,e.context=e.element.getContext("2d"),e.bufferCache={},e.name="CanvasRenderer",e}var ii=(f(lt,Te),o(lt,[{key:"onParticleCreated",value:function(e){e.body?L(e.body,this.addImg2Body,e):(e.body=this.pool.get(this.circleConf,e),this.element.appendChild(e.body))}},{key:"onParticleUpdate",value:function(e){this.bodyReady(e)&&(this.transform3d?_.transform3d(e.body,e.p.x,e.p.y,e.scale,e.rotation):_.transform(e.body,e.p.x,e.p.y,e.scale,e.rotation),e.body.style.opacity=e.alpha,e.body.isCircle&&(e.body.style.backgroundColor=e.color||"#ff0000"))}},{key:"onParticleDead",value:function(e){this.bodyReady(e)&&(this.element.removeChild(e.body),this.pool.expire(e.body),e.body=null)}},{key:"bodyReady",value:function(e){return a(e.body)==="object"&&e.body&&!e.body.isInner}},{key:"addImg2Body",value:function(e,t){t.dead||(t.body=this.pool.get(e,t),_.resize(t.body,e.width,e.height),this.element.appendChild(t.body))}},{key:"createBody",value:function(e,t){return e.isCircle?this.createCircle(t):this.createSprite(e,t)}},{key:"createCircle",value:function(e){var t=_.createDiv(e.id+"_dom",2*e.radius,2*e.radius);return t.style.borderRadius=e.radius+"px",this.stroke&&(t.style.borderColor=this.stroke.color,t.style.borderWidth=this.stroke.thinkness+"px"),t.isCircle=!0,t}},{key:"createSprite",value:function(h,t){var i=typeof h=="string"?h:h.src,h=_.createDiv(t.id+"_dom",h.width,h.height);return h.style.backgroundImage="url("+i+")",h}}]),lt);function lt(e){c(this,lt);var t=y(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,e));return t.stroke=null,t.pool.create=function(i,h){return t.createBody(i,h)},t.addImg2Body=t.addImg2Body.bind(t),t.transform3d=!1,t.name="DomRenderer",t}var ri=(f(ht,Te),o(ht,[{key:"onParticleCreated",value:function(e){e.body?this.createSprite(e):this.createCircle(e),this.element.addChild(e.body)}},{key:"onParticleUpdate",value:function(e){e.body&&(e.body.x=e.p.x,e.body.y=e.p.y,e.body.alpha=e.alpha,e.body.scaleX=e.body.scaleY=e.scale,e.body.rotation=e.rotation)}},{key:"onParticleDead",value:function(e){e.body&&(e.body.parent&&e.body.parent.removeChild(e.body),this.pool.expire(e.body),e.body=null),e.graphics&&this.pool.expire(e.graphics)}},{key:"createSprite",value:function(e){e.body=this.pool.get(e.body),e.body.parent||e.body.image&&(e.body.regX=e.body.image.width/2,e.body.regY=e.body.image.height/2)}},{key:"createCircle",value:function(e){var t=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?t.beginStroke(this.stroke):t.beginStroke("#000000")),t.beginFill(e.color||"#ff0000").drawCircle(0,0,e.radius);var i=this.pool.get(createjs.Shape,[t]);e.body=i,e.graphics=t}}]),ht);function ht(e,t){return c(this,ht),e=y(this,(ht.__proto__||Object.getPrototypeOf(ht)).call(this,e)),e.stroke=t,e.name="EaselRenderer",e}var oi=(f(ct,Te),o(ct,[{key:"resize",value:function(e,t){this.element.width=e,this.element.height=t}},{key:"createImageData",value:function(e){this.rectangle=e||new Re(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(e){this.imageData&&this.setPixel(this.imageData,Math.floor(e.p.x-this.rectangle.x),Math.floor(e.p.y-this.rectangle.y),e)}},{key:"setPixel",value:function(e,t,i,h){var d=h.rgb;t<0||t>this.element.width||i<0||i>this.elementwidth||(t=4*((i>>0)*e.width+(t>>0)),e.data[t]=d.r,e.data[1+t]=d.g,e.data[2+t]=d.b,e.data[3+t]=255*h.alpha)}},{key:"onParticleDead",value:function(){}}]),ct);function ct(e,t){return c(this,ct),e=y(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this,e)),e.context=e.element.getContext("2d"),e.imageData=null,e.rectangle=null,e.rectangle=t,e.createImageData(t),e.name="PixelRenderer",e}var bt=void 0,ai=(f(Ze,Te),o(Ze,[{key:"setPIXI",value:function(e){try{bt=e||{Sprite:{}},this.createFromImage=bt.Sprite.from||bt.Sprite.fromImage}catch{}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(e){e.body?e.body=this.pool.get(e.body,e):e.body=this.pool.get(this.circleConf,e),this.blendMode&&(e.body.blendMode=this.blendMode),this.element.addChild(e.body)}},{key:"onParticleUpdate",value:function(e){this.transform(e,e.body),this.setColor!==!0&&this.color!==!0||(e.body.tint=oe.getHex16FromParticle(e))}},{key:"onParticleDead",value:function(e){this.element.removeChild(e.body),this.pool.expire(e.body),e.body=null}},{key:"destroy",value:function(e){m(Ze.prototype.__proto__||Object.getPrototypeOf(Ze.prototype),"destroy",this).call(this),this.pool.destroy();for(var t=e.length;t--;){var i=e[t];i.body&&this.element.removeChild(i.body)}}},{key:"transform",value:function(e,t){t.x=e.p.x,t.y=e.p.y,t.alpha=e.alpha,t.scale.x=e.scale,t.scale.y=e.scale,t.rotation=e.rotation*n.PI_180}},{key:"createBody",value:function(e,t){return e.isCircle?this.createCircle(t):this.createSprite(e)}},{key:"createSprite",value:function(e){return e=e.isInner?this.createFromImage(e.src):new bt.Sprite(e),e.anchor.x=.5,e.anchor.y=.5,e}},{key:"createCircle",value:function(e){var t,i=new bt.Graphics;return this.stroke&&(t=this.stroke instanceof String?this.stroke:0,i.beginStroke(t)),i.beginFill(e.color||36077),i.drawCircle(0,0,e.radius),i.endFill(),i}}]),Ze);function Ze(e,t){c(this,Ze);var i=y(this,(Ze.__proto__||Object.getPrototypeOf(Ze)).call(this,e));return i.stroke=t,i.color=!1,i.setColor=!1,i.blendMode=null,i.pool.create=function(h,d){return i.createBody(h,d)},i.setPIXI(window.PIXI),i.name="PixiRenderer",i}var si=(o(Dt,[{key:"set",value:function(e,t){t===0?V.set(e,this.mats[0]):V.multiply(this.mats[t-1],e,this.mats[t]),this.size=Math.max(this.size,t+1)}},{key:"push",value:function(e){this.size===0?V.set(e,this.mats[0]):V.multiply(this.mats[this.size-1],e,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),Dt);function Dt(){c(this,Dt),this.mats=[];for(var e=this.size=0;e<20;e++)this.mats.push(V.create([0,0,0,0,0,0,0,0,0]))}f(Ge,Te),o(Ge,[{key:"init",value:function(e){m(Ge.prototype.__proto__||Object.getPrototypeOf(Ge.prototype),"init",this).call(this,e),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(e,t){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/e,this.smat[4]=1/t,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,e,t),this.element.width=e,this.element.height=t}},{key:"setMaxRadius",value:function(e){this.circleCanvasURL=this.createCircle(e)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join(`
`)}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join(`
`)}},{key:"initVar",value:function(){this.mstack=new si,this.umat=V.create([2,0,1,0,-2,0,-1,1,1]),this.smat=V.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(e){this.gl.blendEquation(this.gl[e])}},{key:"blendFunc",value:function(e,t){this.gl.blendFunc(this.gl[e],this.gl[t])}},{key:"getShader",value:function(e,t,i){return i=i?e.createShader(e.FRAGMENT_SHADER):e.createShader(e.VERTEX_SHADER),e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(alert(e.getShaderInfoLog(i)),null)}},{key:"initShaders",value:function(){var e=this.getShader(this.gl,this.getFragmentShader(),!0),t=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,t),this.gl.attachShader(this.sprogram,e),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var e;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);for(var i=void 0,t=[],i=0;i<100;i++)t.push(i);for(e=new Uint16Array(t),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,e,this.gl.STATIC_DRAW),t=[],i=0;i<100;i++)t.push(i,i+1,i+2);e=new Uint16Array(t),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,e,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(i){this.circleCanvasRadius=w(x.initValue(i,32));var t=_.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),i=t.getContext("2d");return i.beginPath(),i.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),i.closePath(),i.fillStyle="#FFF",i.fill(),t.toDataURL()}},{key:"drawImg2Canvas",value:function(e){var t=e.body.width,i=e.body.height,h=w(e.body.width),d=w(e.body.height),b=e.body.width/h,Q=e.body.height/d;this.texturebuffers[e.data.src]||(this.texturebuffers[e.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),e.data.texture=this.texturebuffers[e.data.src][0],e.data.vcBuffer=this.texturebuffers[e.data.src][1],e.data.tcBuffer=this.texturebuffers[e.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,b,0,0,Q,Q,Q]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,t,0,0,i,t,i]),this.gl.STATIC_DRAW),d=e.data.canvas.getContext("2d").getImageData(0,0,h,d),this.gl.bindTexture(this.gl.TEXTURE_2D,e.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,d),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),e.data.textureLoaded=!0,e.data.textureWidth=t,e.data.textureHeight=i}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(e){e.data.textureLoaded=!1,e.data.tmat=V.create(),e.data.tmat[8]=1,e.data.imat=V.create(),e.data.imat[8]=1,e.body?L(e.body,this.addImg2Body,e):(L(this.circleCanvasURL,this.addImg2Body,e),e.data.oldScale=e.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(e,t){t.dead||(t.body=e,t.data.src=e.src,t.data.canvas=R(e),t.data.oldScale=1,this.drawImg2Canvas(t))}},{key:"onParticleUpdate",value:function(e){e.data.textureLoaded&&(this.updateMatrix(e),this.gl.uniform3f(this.sprogram.color,e.rgb.r/255,e.rgb.g/255,e.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,e.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(e){var t=I(-e.data.textureWidth/2,-e.data.textureHeight/2),i=I(e.p.x,e.p.y),d=e.rotation*n.PI_180,h=T(d),d=e.scale*e.data.oldScale,d=k(d,d),d=A(t,d),d=A(d,h);d=A(d,i),V.inverse(d,e.data.imat),d[2]=e.alpha,this.mstack.push(d)}}]),Z=Ge;function Ge(e){return c(this,Ge),e=y(this,(Ge.__proto__||Object.getPrototypeOf(Ge)).call(this,e)),e.gl=e.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),e.gl||alert("Sorry your browser do not suppest WebGL!"),e.initVar(),e.setMaxRadius(),e.initShaders(),e.initBuffers(),e.gl.blendEquation(e.gl.FUNC_ADD),e.gl.blendFunc(e.gl.SRC_ALPHA,e.gl.ONE_MINUS_SRC_ALPHA),e.gl.enable(e.gl.BLEND),e.addImg2Body=e.addImg2Body.bind(e),e.name="WebGLRenderer",e}f(xt,Te),Te=xt;function xt(e){return c(this,xt),e=y(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this,e)),e.name="CustomRenderer",e}var qt=(f(ut,Pe),o(ut,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(e,t){var i=this.dy,h=-this.dx;return 0<(i*e+h*t+this.dot)*(h==0?1:h)}},{key:"getDistance",value:function(e,t){return(this.dy*e+-this.dx*t+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(e){var h=e.getGradient(),t=2*(this.getGradient()-h),i=e.x,h=e.y;return e.x=i*Math.cos(t)-h*Math.sin(t),e.y=i*Math.sin(t)+h*Math.cos(t),e}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(e){if(Math.abs(this.getGradient())<=n.PI/4){if(e.p.x<=this.maxx&&e.p.x>=this.minx)return!0}else if(e.p.y<=this.maxy&&e.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(e){this.crossType==="dead"?this.direction===">"||this.direction==="R"||this.direction==="right"||this.direction==="down"?this.rangeOut(e)&&this.getDirection(e.p.x,e.p.y)&&(e.dead=!0):this.rangeOut(e)&&(this.getDirection(e.p.x,e.p.y)||(e.dead=!0)):this.crossType==="bound"?this.rangeOut(e)&&this.getDistance(e.p.x,e.p.y)<=e.radius&&(this.dx===0?e.v.x*=-1:this.dy===0?e.v.y*=-1:this.getSymmetric(e.v)):this.crossType==="cross"&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),ut);function ut(e,t,i,h,d){c(this,ut);var b=y(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this));return 0<=i-e?(b.x1=e,b.y1=t,b.x2=i,b.y2=h):(b.x1=i,b.y1=h,b.x2=e,b.y2=t),b.dx=b.x2-b.x1,b.dy=b.y2-b.y1,b.minx=Math.min(b.x1,b.x2),b.miny=Math.min(b.y1,b.y2),b.maxx=Math.max(b.x1,b.x2),b.maxy=Math.max(b.y1,b.y2),b.dot=b.x2*b.y1-b.x1*b.y2,b.xxyy=b.dx*b.dx+b.dy*b.dy,b.gradient=b.getGradient(),b.length=b.getLength(),b.direction=x.initValue(d,">"),b}var Zt=(f(dt,Pe),o(dt,[{key:"getPosition",value:function(){return this.angle=n.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(e,t){this.center.x=e,this.center.y=t}},{key:"crossing",value:function(e){var t=e.p.distanceTo(this.center);this.crossType==="dead"?t-e.radius>this.radius&&(e.dead=!0):this.crossType==="bound"?t+e.radius>=this.radius&&this.getSymmetric(e):this.crossType==="cross"&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(e){var h=e.v.getGradient(),t=2*(this.getGradient(e)-h),i=e.v.x,h=e.v.y;e.v.x=i*Math.cos(t)-h*Math.sin(t),e.v.y=i*Math.sin(t)+h*Math.cos(t)}},{key:"getGradient",value:function(e){return-n.PI_2+Math.atan2(e.p.y-this.center.y,e.p.x-this.center.x)}}]),dt);function dt(e,t,i){c(this,dt);var h=y(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return h.x=e,h.y=t,h.radius=i,h.angle=0,h.center={x:e,y:t},h}var Gt=(f(pt,Pe),o(pt,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(e){this.crossType==="dead"?((e.p.x+e.radius<this.x||e.p.x-e.radius>this.x+this.width)&&(e.dead=!0),(e.p.y+e.radius<this.y||e.p.y-e.radius>this.y+this.height)&&(e.dead=!0)):this.crossType==="bound"?(e.p.x-e.radius<this.x?(e.p.x=this.x+e.radius,e.v.x*=-1):e.p.x+e.radius>this.x+this.width&&(e.p.x=this.x+this.width-e.radius,e.v.x*=-1),e.p.y-e.radius<this.y?(e.p.y=this.y+e.radius,e.v.y*=-1):e.p.y+e.radius>this.y+this.height&&(e.p.y=this.y+this.height-e.radius,e.v.y*=-1)):this.crossType==="cross"&&(e.p.x+e.radius<this.x&&e.v.x<=0?e.p.x=this.x+this.width+e.radius:e.p.x-e.radius>this.x+this.width&&0<=e.v.x&&(e.p.x=this.x-e.radius),e.p.y+e.radius<this.y&&e.v.y<=0?e.p.y=this.y+this.height+e.radius:e.p.y-e.radius>this.y+this.height&&0<=e.v.y&&(e.p.y=this.y-e.radius))}}]),pt);function pt(e,t,i,h){c(this,pt);var d=y(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return d.x=e,d.y=t,d.width=i,d.height=h,d}f(ft,Pe),o(ft,[{key:"reset",value:function(e,t,i,h){this.imageData=e,this.x=x.initValue(t,0),this.y=x.initValue(i,0),this.d=x.initValue(h,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){for(var h=void 0,e=void 0,t=this.imageData.width,i=this.imageData.height,h=0;h<t;h+=this.d)for(e=0;e<i;e+=this.d){var d=4*((e>>0)*t+(h>>0));0<this.imageData.data[3+d]&&this.vectors.push({x:h+this.x,y:e+this.y})}return this.vector}},{key:"getBound",value:function(e,t){return e=4*((t>>0)*this.imageData.width+(e>>0)),0<this.imageData.data[3+e]}},{key:"getPosition",value:function(){var e=x.getRandFromArray(this.vectors);return this.vector.copy(e)}},{key:"getColor",value:function(e,t){return e-=this.x,e=4*(((t-=this.y)>>0)*this.imageData.width+(e>>0)),{r:this.imageData.data[e],g:this.imageData.data[1+e],b:this.imageData.data[2+e],a:this.imageData.data[3+e]}}},{key:"crossing",value:function(e){this.crossType==="dead"?this.getBound(e.p.x-this.x,e.p.y-this.y)?e.dead=!0:e.dead=!1:this.crossType==="bound"&&(this.getBound(e.p.x-this.x,e.p.y-this.y)||e.v.negate())}}]),f=ft;function ft(e,t,i,h){c(this,ft);var d=y(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this));return d.reset(e,t,i,h),d}return o={addEventListener:function(e,t){e.addEventListener("PROTON_UPDATE_AFTER",function(){return t()})},getStyle:function(e){return e=oe.hexToRgb(0<arguments.length&&e!==void 0?e:"#ff0000"),"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},drawZone:function(e,t,i,h){var d=t.getContext("2d"),b=this.getStyle();this.addEventListener(e,function(){h&&d.clearRect(0,0,t.width,t.height),i instanceof kt?(d.beginPath(),d.fillStyle=b,d.arc(i.x,i.y,10,0,2*Math.PI,!0),d.fill(),d.closePath()):i instanceof qt?(d.beginPath(),d.strokeStyle=b,d.moveTo(i.x1,i.y1),d.lineTo(i.x2,i.y2),d.stroke(),d.closePath()):i instanceof Gt?(d.beginPath(),d.strokeStyle=b,d.drawRect(i.x,i.y,i.width,i.height),d.stroke(),d.closePath()):i instanceof Zt&&(d.beginPath(),d.strokeStyle=b,d.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),d.stroke(),d.closePath())})},drawEmitter:function(e,t,i,h){var d=t.getContext("2d"),b=this.getStyle();this.addEventListener(e,function(){h&&d.clearRect(0,0,t.width,t.height),d.beginPath(),d.fillStyle=b,d.arc(i.p.x,i.p.y,10,0,2*Math.PI,!0),d.fill(),d.closePath()})}},v.Particle=ie,v.Pool=O,v.Util=x,v.ColorUtil=oe,v.MathUtil=n,v.Vector2D=v.Vector=B,v.Polar2D=v.Polar=Ee,v.ArraySpan=we,v.Rectangle=Re,v.Rate=yt,v.ease=N,v.Span=C,v.Mat3=V,v.getSpan=function(e,t,i){return new C(e,t,i)},v.createArraySpan=we.createArraySpan,v.Initialize=v.Init=Ce,v.Life=v.L=Et,v.Position=v.P=Fn,v.Velocity=v.V=$n,v.Mass=v.M=Vn,v.Radius=v.R=jn,v.Body=v.B=Ln,v.Behaviour=pe,v.Force=v.F=Wt,v.Attraction=v.A=Ht,v.RandomDrift=v.RD=Un,v.Gravity=v.G=Nn,v.Collision=Wn,v.CrossZone=Hn,v.Alpha=qn,v.Scale=v.S=Zn,v.Rotate=Gn,v.Color=Xn,v.Repulsion=Kn,v.Cyclone=Yn,v.GravityWell=Qn,v.Emitter=It,v.BehaviourEmitter=ei,v.FollowEmitter=ti,v.Zone=Pe,v.LineZone=qt,v.CircleZone=Zt,v.PointZone=kt,v.RectZone=Gt,v.ImageZone=f,v.CanvasRenderer=ni,v.DomRenderer=ii,v.EaselRenderer=ri,v.PixiRenderer=ai,v.PixelRenderer=oi,v.WebGLRenderer=v.WebGlRenderer=Z,v.CustomRenderer=Te,v.Debug=o,x.assign(v,N),v})})(zn);var eo=zn.exports;const u=_n(eo);var Dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ce=function(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")},ue=function(){function r(l,s){for(var n=0;n<s.length;n++){var a=s[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,a.key,a)}}return function(l,s,n){return s&&r(l.prototype,s),n&&r(l,n),l}}(),ye=function(r,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);r.prototype=Object.create(l&&l.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(r,l):r.__proto__=l)},be=function(r,l){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:r},to=function(){function r(){ce(this,r),this.list=[]}return ue(r,[{key:"set",value:function(s,n){this.list.push({probability:s,target:n,a:0,b:1}),this.calculation()}},{key:"calculation",value:function(){for(var s=0,n=0;n<this.list.length;n++)s+=this.list[n].probability;for(var a=0;a<this.list.length;a++){var c=this.list[a],o=c.probability/s;c.a=a===0?0:this.list[a-1].b,c.b=c.a+o}}},{key:"getResult",value:function(){for(var s=Math.random(),n=0;n<this.list.length;n++){var a=this.list[n];if(s<=a.b&&s>a.a)return a.target}return this.list[0].target}}]),r}(),_e=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n._iid=0,n._oid=0,n.size={width:0,height:0},n.canvasRef=S.createRef(),n}return ue(l,[{key:"componentDidMount",value:function(){var n=this;this._oid=setTimeout(function(){n.initCanvas(),n.resize=n.resize.bind(n),window.addEventListener("resize",n.resize)},100);var a=this.getCanvas();this.props.onCanvasDidMount&&this.props.onCanvasDidMount(a)}},{key:"initCanvas",value:function(){var n=this.getCanvas();if(this.props.globalCompositeOperation){var a=n.getContext("2d");a.globalCompositeOperation=this.props.globalCompositeOperation}var c=this.setCanvasSize(n),o=c.width,p=c.height;this.heartbeatDetectionCanvasSize(n),this.props.onCanvasInited(n,o,p)}},{key:"getCanvas",value:function(){var n=this.canvasRef.current;return n}},{key:"heartbeatDetectionCanvasSize",value:function(n){var a=this;this._iid=setInterval(function(){if(a.canvasRef.current){var c=a.canvasRef.current.clientHeight;if(c!==a.size.height){var o=a.setCanvasSize(n),p=o.width,m=o.height;a.props.onResize&&a.props.onResize(p,m)}}},1e3/10)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.resize),clearInterval(this._iid),clearTimeout(this._oid)}catch{}}},{key:"resize",value:function(){var n=this.getCanvas(),a=this.setCanvasSize(n),c=a.width,o=a.height;this.props.onResize&&this.props.onResize(c,o)}},{key:"setCanvasSize",value:function(n){var a=this.canvasRef.current.clientWidth,c=this.canvasRef.current.clientHeight;return this.size.width=a,this.size.height=c,n.width=a,n.height=c,{width:a,height:c}}},{key:"handleWaypointEnter",value:function(){X.start()}},{key:"handleWaypointLeave",value:function(){X.stop()}},{key:"getStyle",value:function(){var n=this.props.bg,a={width:"100%",height:"100%"};return n===!0?a=Object.assign(a,{position:"absolute",zIndex:-1,top:0,left:0}):n&&(typeof n>"u"?"undefined":Dn(n))==="object"&&(a=Object.assign(a,n)),a}},{key:"handleMouseDown",value:function(n){this.props.onMouseDown&&this.props.onMouseDown(n)}},{key:"render",value:function(){return S.createElement("canvas",{className:"particles-bg-canvas-self",ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),style:this.getStyle()})}}]),l}(S.Component);function no(r){var l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return l?{r:parseInt(l[1],16),g:parseInt(l[2],16),b:parseInt(l[3],16)}:{}}function At(r,l){var s=void 0;return r?(s=no(r),"rgba("+s.r+","+s.g+","+s.b+", "+l+")"):null}var sn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),this.createMiniEmitter(n),X.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n,a,c){var o=this,p=n.getContext("2d");this.proton=new u;var m=new u.Emitter;m.rate=new u.Rate(this.props.num?new u.Span(this.props.num):new u.Span(4,9),new u.Span(.8,1.3)),m.addInitialize(new u.Mass(1)),m.addInitialize(new u.Radius(1,50)),m.addInitialize(new u.Life(5,6)),m.addInitialize(new u.Velocity(new u.Span(5,8),new u.Span(30,70),"polar")),m.addBehaviour(new u.Alpha(1,0)),m.addBehaviour(new u.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),m.addBehaviour(new u.Scale(.7,1)),m.addBehaviour(new u.Gravity(3)),m.addBehaviour(new u.Collision(m)),m.addBehaviour(this.customDeadBehaviour(n)),m.addBehaviour(new u.CrossZone(new u.RectZone(0,0,n.width,n.height),"bound")),m.p.x=Math.min(500,Math.max(n.width/2-400,50)),m.p.y=n.height/2+50,m.emit(),this.proton.addEmitter(m);var f=new u.CanvasRenderer(n);f.onProtonUpdate=function(){p.fillStyle=At(o.props.color,.2)||"rgba(255, 255, 255, 0.2)",p.fillRect(0,0,n.width,n.height)},this.proton.addRenderer(f)}},{key:"customDeadBehaviour",value:function(n){var a=this;return{initialize:function(o){},applyBehaviour:function(o){o.p.y+o.radius>=n.height&&o.radius>9&&(a.miniEmitteing(o),o.dead=!0)}}}},{key:"createMiniEmitter",value:function(n){var a=new u.Emitter;a.rate=new u.Rate(new u.Span(3,6),new u.Span(1,2)),a.addInitialize(new u.Mass(1)),a.radiusInitialize=new u.Radius,a.addInitialize(a.radiusInitialize),a.addInitialize(new u.Life(.5,1)),a.addInitialize(new u.V(new u.Span(1.5,3),new u.Span(0,70,!0),"polar")),a.colorBehaviour=new u.Color("#ffffff"),a.addBehaviour(new u.Alpha(1,0)),a.addBehaviour(a.colorBehaviour),a.addBehaviour(new u.Gravity(4)),a.addBehaviour(new u.Collision(a)),a.addBehaviour(new u.CrossZone(new u.RectZone(0,0,n.width,n.height),"bound")),this.proton.addEmitter(a),this.miniEmitter=a}},{key:"miniEmitteing",value:function(n){var a=this.miniEmitter;a.radiusInitialize.reset(n.radius*.05,n.radius*.2),a.colorBehaviour.reset(n.color),a.p.x=n.p.x,a.p.y=n.p.y,a.emit("once")}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),jt=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.rate=new u.Rate(this.props.num?new u.Span(this.props.num):new u.Span(5,8),new u.Span(.1,.25)),o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(20,200)),o.addInitialize(new u.Life(2,4)),o.addInitialize(new u.Position(new u.RectZone(0,0,a,c))),o.addBehaviour(new u.Alpha(0,1,1/0,u.easeOutCubic)),o.addBehaviour(new u.Scale(1,0,1/0,u.easeOutCubic)),o.addBehaviour(new u.Color(this.colors,"random")),o.emit(),this.proton.addEmitter(o);var p=new u.CanvasRenderer(n);this.proton.addRenderer(p)}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),io=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(n,a){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(n,a)}},{key:"getProp",value:function(n,a){var c=this.props.config||{},o=c[n]||a;return Array.isArray(o)?new u.Span(o[0],o[1]):o}},{key:"getArrProp",value:function(n,a){var c=this.props.config||{},o=c[n]||a;return o?Array.isArray(o)?o:[o,o]:null}},{key:"createProton",value:function(n,a,c){var o=this.getProp("num",[5,8]),p=this.getProp("rps",[.1,.2]),m=this.getProp("mass",1),f=this.getProp("radius",[10,30]),y=this.getProp("life",[2,3]),C=this.getProp("body"),P=this.getProp("position"),w=this.getProp("v",[2,3]),I=this.getProp("tha",[-15,15]),T=this.getArrProp("alpha"),k=this.getArrProp("scale"),A=this.getArrProp("color"),_=this.getProp("cross","dead"),E=this.getProp("random"),M=this.getArrProp("rotate"),z=this.getProp("g"),F=this.getArrProp("f"),L=this.getProp("emitter");this.proton=new u;var R=void 0;L==="follow"?R=new u.FollowEmitter:R=new u.Emitter,R.rate=new u.Rate(o,p),R.addInitialize(new u.Mass(m)),R.addInitialize(new u.Radius(f)),R.addInitialize(new u.Life(y)),R.addInitialize(new u.Velocity(w,I,"polar")),C&&R.addInitialize(new u.Body(C));var x=void 0;P==="all"||P==="screen"?x=new u.Position(new u.RectZone(0,0,n.width,n.height)):(typeof P>"u"?"undefined":Dn(P))==="object"?x=new u.Position(new u.RectZone(P.x,P.y,P.width,P.height)):(R.p.x=n.width/2,R.p.y=n.height/2),R.addInitialize(x);var $=T?new u.Alpha(T[0],T[1]):new u.Alpha(0,1),q=k?new u.Scale(k[0],k[1]):new u.Scale(1,.2),O=A?new u.Color(A[0],A[1]):new u.Color(this.colors);R.addBehaviour($),R.addBehaviour(q),C||R.addBehaviour(O),M&&(M[0]===!0||M[0]==="rotate"?R.addBehaviour(new u.Rotate):R.addBehaviour(new u.Rotate(M[0],M[1])));var D=new u.RectZone(0,0,n.width,n.height),j=new u.CrossZone(D,_);R.addBehaviour(j),E&&R.addBehaviour(new u.RandomDrift(E,E,.05)),z&&R.addBehaviour(new u.G(z)),F&&R.addBehaviour(new u.F(F[0],F[1])),R.emit(),this.proton.addEmitter(R);var G=this.createRenderer(n);this.proton.addRenderer(G),this.emitter=R,this.crossZoneBehaviour=j}},{key:"createRenderer",value:function(n){var a=n.width,c=n.height,o=n.getContext("2d"),p=new u.CanvasRenderer(n),m=this.getProp("onUpdate");m&&(p.onProtonUpdate=function(){m(o,a,c)});var f=this.getProp("onParticleCreated");f&&(p.onParticleCreated=function(C){f(o,C)});var y=this.getProp("onParticleUpdate");return y&&(p.onParticleUpdate=function(C){y(o,C)}),p}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"handleMouseDown",value:function(n){var a=this.getProp("onMouseDown");a&&a(n)}},{key:"render",value:function(){var n=this.props.globalCompositeOperation||this.props.operation||"source-over";return S.createElement(_e,{bg:this.props.bg,onMouseDown:this.handleMouseDown.bind(this),globalCompositeOperation:n,onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),ln=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"onCanvasDidMount",value:function(n){this.props.color&&(n.style.backgroundColor=this.props.color)}},{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(n,a){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(n,a)}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.damping=.008,o.rate=new u.Rate(this.props.num?this.props.num:250),o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(4)),o.addInitialize(new u.Velocity(new u.Span(1.5),new u.Span(0,360),"polar"));var p={x:a/2,y:c/2},m=new u.Attraction(p,0,0),f=new u.CrossZone(new u.RectZone(0,0,n.width,n.height),"cross");o.addBehaviour(new u.Color("random")),o.addBehaviour(m,f),o.addBehaviour(new u.RandomDrift(10,10,.05)),o.p.x=n.width/2,o.p.y=n.height/2,o.emit("once"),this.proton.addEmitter(o),this.proton.addRenderer(this.createRenderer(n)),this.crossZoneBehaviour=f}},{key:"createRenderer",value:function(n){var a=this,c=n.getContext("2d"),o=new u.CanvasRenderer(n);return o.onProtonUpdate=function(){c.fillStyle=At(a.props.color,.02)||"rgba(0, 0, 0, 0.02)",c.fillRect(0,0,n.width,n.height)},o.onParticleUpdate=function(p){c.beginPath(),c.strokeStyle=p.color,c.lineWidth=1,c.moveTo(p.old.p.x,p.old.p.y),c.lineTo(p.p.x,p.p.y),c.closePath(),c.stroke()},o}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),hn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.hue=0,n.index=0,n.colorTemplate="hsla(hue,80%,50%, 0.75)",n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"onCanvasDidMount",value:function(n){this.props.color&&(n.style.backgroundColor=this.props.color)}},{key:"onCanvasInited",value:function(n,a,c){this.canvas=n,this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(n,a){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(n,a)}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.damping=.008,o.rate=new u.Rate(this.props.num?this.props.num:150),o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(8)),o.addInitialize(new u.V(new u.Span(.1,.5),new u.Span(0,360),"polar")),o.addInitialize(new u.Position(new u.CircleZone(n.width/2,n.height/2,100)));var p=new u.CrossZone(new u.RectZone(0,0,n.width,n.height),"cross");o.addBehaviour(p),this.repulsion=new u.Repulsion({x:n.width/2,y:n.height/2-100},3,300),this.attraction=new u.Attraction({x:n.width/2,y:n.height/2},3,200),o.addBehaviour(this.attraction,this.repulsion),o.addBehaviour(new u.Color("random")),o.addBehaviour(new u.RandomDrift(20,15,.15)),o.emit("once"),this.proton.addEmitter(o),this.proton.addRenderer(this.createRenderer(n)),this.crossZoneBehaviour=p}},{key:"createRenderer",value:function(n){var a=this,c=n.getContext("2d"),o=new u.CanvasRenderer(n);return o.onProtonUpdate=function(){a.hue+=1,c.fillStyle=At(a.props.color,.02)||"rgba(0, 0, 0, 0.02)",c.fillRect(0,0,n.width,n.height)},o.onParticleCreated=function(p){p.data.begin=u.MathUtil.randomAToB(1,120),p.data.tha=u.MathUtil.randomAToB(0,Math.PI*2)},o.onParticleUpdate=function(p){var m=p.data.begin+a.hue;p.color=a.colorTemplate.replace("hue",m%360);var f=3/4,y=p.radius*(1-f)*Math.cos(p.data.tha+=.01)+p.radius*f;c.beginPath(),c.fillStyle=p.color,c.arc(p.p.x,p.p.y,y,0,Math.PI*2,!0),c.closePath(),c.fill()},o}},{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"renderProton",value:function(){var n=this.canvas;this.proton.update(),this.index%200===0&&(this.attraction.targetPosition.x=Math.random()*n.width,this.attraction.targetPosition.y=Math.random()*n.height,this.repulsion.targetPosition.x=Math.random()*n.width,this.repulsion.targetPosition.y=Math.random()*n.height),this.index++}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),cn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.colors=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasDidMount",value:function(n){}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(n,a){var c=150;this.crossZoneBehaviour.zone.width=n+2*c,this.crossZoneBehaviour.zone.height=a+2*c,this.proton.renderers[0].resize(n,a)}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.rate=new u.Rate(this.props.num?this.props.num:50),o.damping=0,o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(4,70)),o.addInitialize(new u.Velocity(new u.Span(2,10),new u.Span(0),"polar")),o.addInitialize(new u.Position(new u.LineZone(0,n.height,n.width,n.height)));var p=150,m=new u.CrossZone(new u.RectZone(0-p,0-p,n.width+2*p,n.height+2*p),"cross");o.addBehaviour(m),o.addBehaviour(new u.Alpha(u.getSpan(.1,.55))),o.addBehaviour(new u.Color(this.colors)),o.emit("once"),this.proton.addEmitter(o);var f=this.createRenderer(n);this.proton.addRenderer(f),this.crossZoneBehaviour=m,o.preEmit(2)}},{key:"createRenderer",value:function(n){var a=n.getContext("2d"),c=new u.CustomRenderer;return c.onProtonUpdate=function(){a.clearRect(0,0,n.width,n.height)},c.onParticleCreated=function(o){var p=o.radius||60,m=u.MathUtil.randomAToB(100,200,"int");o.data.w=p,o.data.h=m},c.onParticleUpdate=function(o){var p=o.data.w,m=o.data.h;a.save(),a.globalAlpha=o.alpha,a.fillStyle=o.color,a.translate(o.p.x,o.p.y),a.rotate(u.MathUtil.degreeTransform(o.rotation)),a.translate(-o.p.x,-o.p.y),a.beginPath(),a.rect(o.p.x-p/2,o.p.y-m/2,p,m),a.closePath(),a.fill(),a.globalAlpha=1,a.restore()},c}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"lighter",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),un=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(n,a){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(n,a)}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.rate=new u.Rate(this.props.num?new u.Span(this.props.num):new u.Span(100),new u.Span(.05,.2)),o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(1,4)),o.addInitialize(new u.Life(1/0));var p=new u.Position(new u.RectZone(0,0,a,c));o.addInitialize(p),o.addInitialize(new u.Velocity(new u.Span(.3,.6),new u.Span(0,360),"polar")),o.addBehaviour(new u.Alpha(u.getSpan(.2,.9))),o.addBehaviour(new u.Color(this.props.color||"#333")),this.crossZoneBehaviour=new u.CrossZone(new u.RectZone(0,0,a,c),"cross"),o.addBehaviour(this.crossZoneBehaviour),o.emit("once"),o.damping=0,this.proton.addEmitter(o),this.proton.addRenderer(this.createRenderer(n,o))}},{key:"createRenderer",value:function(n,a){var c=this,o=n.getContext("2d"),p=new u.CanvasRenderer(n),m=140;return p.onProtonUpdateAfter=function(){for(var f=a.particles,y=0;y<f.length;y++)for(var C=y+1;C<f.length;C++){var P=f[y],w=f[C],I=P.p.distanceTo(w.p);if(I<m){var T=(1-I/m)*.5;o.strokeStyle=At(c.props.color,T)||"rgba(3, 3, 3, "+T+")",o.beginPath(),o.moveTo(P.p.x,P.p.y),o.lineTo(w.p.x,w.p.y),o.closePath(),o.stroke()}}},p}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),dn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.colors=["#74b9ff","#e84393","#6c5ce7","#00b894","#fdcb6e","#006266","#1B1464"],n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(n,a){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(n,a)}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.rate=new u.Rate(this.props.num||20),o.damping=.008,o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(30,600)),o.addInitialize(new u.Velocity(new u.Span(.5),new u.Span(0,360),"polar")),o.addInitialize(new u.Position(new u.RectZone(0,0,n.width,n.height)));var p=new u.CrossZone(new u.RectZone(0,0,n.width,n.height),"cross");o.addBehaviour(p),o.addBehaviour(new u.Alpha(u.getSpan(.35,.55))),o.addBehaviour(new u.Color(this.getColor())),o.addBehaviour(new u.RandomDrift(50,50,.5)),o.emit("once"),this.proton.addEmitter(o);var m=new u.CanvasRenderer(n);this.proton.addRenderer(m),this.crossZoneBehaviour=p}},{key:"getColor",value:function(){var n=this.colors;return this.props.color&&(Array.isArray(this.props.color)?n=this.props.color:n=[this.props.color]),n}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darken",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),pn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"onCanvasDidMount",value:function(n){}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),this.renderProton()}},{key:"onResize",value:function(n,a){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=a,this.proton.renderers[0].resize(n,a)}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.damping=.008,o.rate=new u.Rate(this.props.num?this.props.num:50),o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(5,9)),o.addInitialize(new u.Velocity(new u.Span(1.5),new u.Span(0,360),"polar")),o.addInitialize(new u.Position(new u.RectZone(0,0,a,c)));var p={x:a/2,y:c/2},m=new u.Attraction(p,0,0),f=new u.CrossZone(new u.RectZone(0,0,n.width,n.height),"bound");o.addBehaviour(new u.Color(this.props.color||"#bbb")),o.addBehaviour(m,f),o.addBehaviour(new u.RandomDrift(15,15,.05)),o.emit("once"),this.proton.addEmitter(o),this.proton.addRenderer(this.createRenderer(n)),this.crossZoneBehaviour=f}},{key:"createRenderer",value:function(n){var a=10,c=8,o=n.getContext("2d"),p=new u.CanvasRenderer(n);p.onProtonUpdate=function(){o.clearRect(0,0,n.width,n.height)},p.onParticleCreated=function(P){P.data.points=[],P.data.index=0},p.onParticleUpdate=function(P){y(P),P.data.index%c===0&&m(P),f(P),P.data.index++};var m=function(w){w.data.points.unshift(w.p.y),w.data.points.unshift(w.p.x),w.data.points.length>a&&(w.data.points.pop(),w.data.points.pop())},f=function(w){o.fillStyle=w.color,o.beginPath(),o.arc(w.p.x,w.p.y,w.radius,0,Math.PI*2,!0),o.closePath(),o.fill()},y=function(w){o.beginPath(),o.strokeStyle=w.color,o.moveTo(w.p.x,w.p.y);for(var I=w.data.points.length,T=0;T<I;T+=2){var k=w.data.points[T],A=w.data.points[T+1];o.lineWidth=C(T,I),o.lineTo(k,A),o.stroke()}},C=function(w,I){if(I<=2)return 1;var T=6,k=(T-1)/(2/I-1),A=1-k,_=(w+2)/I,E=k*_+A;return E=E>>0,E};return p}},{key:"renderProton",value:function(){var n=this;X.add(function(){n.proton.update()})}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),ro=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],fn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"onCanvasInited",value:function(n,a,c){this.createProton(n),this.createEmitter({canvas:n,x:a/2,y:c/2,mainEmitter:!0,zone:"bound"}),X.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n){this.proton=new u;var a=this.createRenderer(n);this.proton.addRenderer(a)}},{key:"createRenderer",value:function(n){var a=n.getContext("2d"),c=new u.CustomRenderer;c.onProtonUpdate=function(){a.clearRect(0,0,n.width,n.height)},c.onParticleCreated=function(p){p.data.count=u.MathUtil.randomAToB(3,10,!0)},c.onParticleUpdate=function(p){a.save(),a.globalAlpha=p.alpha,a.fillStyle=p.color,a.translate(p.p.x,p.p.y),a.rotate(u.MathUtil.degreeTransform(p.rotation)),a.translate(-p.p.x,-p.p.y),a.beginPath(),o(p,p.data.count),a.closePath(),a.fill(),a.globalAlpha=1,a.restore()},c.onParticleDead=function(p){};var o=function(m,f){if(f>=7)a.arc(m.p.x,m.p.y,m.radius,0,Math.PI*2,!0);else for(var y=m.radius,C=0;C<=f;C++){var P=m.p.x+y*Math.cos(Math.PI/180*360/f*C),w=m.p.y+y*Math.sin(Math.PI/180*360/f*C);C===0?a.moveTo(P,w):a.lineTo(P,w)}};return c}},{key:"createEmitter",value:function(n){var a=n.mainEmitter,c=n.canvas,o=n.x,p=n.y,m=n.radius,f=n.color,y=f===void 0?ro:f,C=n.zone,P=C===void 0?"dead":C,w=n.once,I=w===void 0?"all":w,T=n.alpha,k=T===void 0?.85:T,A=n.gravity,_=A===void 0?3.5:A,E=this.proton.pool.get(u.Emitter);if(!E.completed){E.rate=new u.Rate(this.props.num?new u.Span(this.props.num):new u.Span(4,9),new u.Span(1.6,2.2));var M=a?new u.Radius(10,110):new u.Radius(3,m);E.addInitialize(new u.Mass(1)),E.addInitialize(M),E.addInitialize(new u.Life(3,6)),E.addInitialize(new u.Velocity(new u.Span(4,6),new u.Span(-90,90),"polar")),E.addBehaviour(new u.Alpha(k,.2)),E.addBehaviour(new u.Color(y)),E.addBehaviour(new u.Scale(1,.3)),E.addBehaviour(new u.Rotate),E.addBehaviour(new u.Gravity(_)),E.addBehaviour(this.customDeadBehaviour(c)),E.addBehaviour(new u.CrossZone(new u.RectZone(0,0,c.width,c.height),P))}E.p.x=o,E.p.y=p,I==="once"?E.emit("once"):E.emit(),this.proton.addEmitter(E)}},{key:"expireEmitter",value:function(n){var a=this;setTimeout(function(){n.completed=!0,a.proton.pool.expire(n),a.proton.removeEmitter(n)},500)}},{key:"customDeadBehaviour",value:function(n){var a=this;return{initialize:function(o){o.data=o.data||{},o.data.oldRadius=o.radius,o.data.emitterCount=0},applyBehaviour:function(o){o.radius<5||o.data.emitterCount>=2||o.radius<=1/3*o.data.oldRadius&&(o.data.emitterCount++,a.createEmitter({canvas:n,x:o.p.x,y:o.p.y,radius:o.radius*(1/2),alpha:.5,gravity:5,color:o.color,once:"once"}))}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),mn=function(r){ye(l,r);function l(s){ce(this,l);var n=be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return ue(l,[{key:"componentWillUnmount",value:function(){try{X.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,a,c){this.createProton(n,a,c),X.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n,a,c){this.proton=new u;var o=new u.Emitter;o.rate=new u.Rate(this.props.num?new u.Span(this.props.num):new u.Span(4,8),new u.Span(.1,.25)),o.addInitialize(new u.Mass(1)),o.addInitialize(new u.Radius(20,200)),o.addInitialize(new u.Life(2,4)),o.addInitialize(new u.Velocity(new u.Span(4,7),new u.Span(0,360),"polar")),o.addInitialize(new u.Position(new u.CircleZone(a/2,c/2,100))),o.addBehaviour(new u.Alpha(1,0)),o.addBehaviour(new u.Scale(.2,1)),o.addBehaviour(this.createCustomBehaviour()),o.addBehaviour(new u.Color(this.colors,"random")),o.emit(),this.proton.addEmitter(o);var p=new u.CanvasRenderer(n);this.proton.addRenderer(p)}},{key:"createCustomBehaviour",value:function(){var n=1e3;return{initialize:function(c){c.f=new u.Vector2D(0,0)},applyBehaviour:function(c){var o=c.v.length()/1e3,p=c.v.getGradient();p+=3.14/2,c.f.x=n*o*Math.cos(p),c.f.y=n*o*Math.sin(p),c.a.add(c.f)}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return S.createElement(_e,{bg:this.props.bg,globalCompositeOperation:"xor",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),l}(S.Component),oo=function(r){ye(l,r);function l(s){return ce(this,l),be(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s))}return ue(l,[{key:"getRandom",value:function(){var n=this.props,a=n.num,c=n.bg,o=n.color;return this.random||(this.random=new to,this.random.set(.25,S.createElement(jt,{num:a,bg:c,color:o})),this.random.set(.2,S.createElement(sn,{num:a,bg:c,color:o})),this.random.set(.2,S.createElement(ln,{num:a,bg:c,color:o})),this.random.set(.16,S.createElement(hn,{num:a,bg:c,color:o})),this.random.set(.18,S.createElement(dn,{num:a,bg:c,color:o})),this.random.set(.04,S.createElement(un,{num:a,bg:c,color:o})),this.random.set(.1,S.createElement(fn,{num:a,bg:c,color:o})),this.random.set(.08,S.createElement(cn,{num:a,bg:c,color:o})),this.random.set(.18,S.createElement(pn,{num:a,bg:c,color:o})),this.random.set(.15,S.createElement(mn,{num:a,bg:c,color:o}))),this.random.getResult()}},{key:"getBgParticles",value:function(){var n=this.props,a=n.type,c=n.num,o=n.bg,p=n.color,m=n.config,f=void 0;switch(String(a).toLowerCase()){case"color":f=S.createElement(jt,{num:c,bg:o,color:p});break;case"ball":f=S.createElement(sn,{num:c,bg:o,color:p});break;case"lines":f=S.createElement(ln,{num:c,bg:o,color:p});break;case"thick":f=S.createElement(hn,{num:c,bg:o,color:p});break;case"circle":f=S.createElement(dn,{num:c,bg:o,color:p});break;case"cobweb":f=S.createElement(un,{num:c,bg:o,color:p});break;case"polygon":f=S.createElement(fn,{num:c,bg:o,color:p});break;case"square":f=S.createElement(cn,{num:c,bg:o,color:p});break;case"tadpole":f=S.createElement(pn,{num:c,bg:o,color:p});break;case"fountain":f=S.createElement(mn,{num:c,bg:o,color:p});break;case"custom":f=S.createElement(io,{bg:o,config:m});break;case"random":f=this.getRandom(c);break;default:f=S.createElement(jt,{num:c,bg:o,color:p});break}return f}},{key:"render",value:function(){var n=this.getBgParticles();return S.createElement(S.Fragment,null,n)}}]),l}(g.Component);function ao(){const[r]=wt.useForm(),[l,s]=g.useState(!1),n=Ui(),{defaultLang:a}=er,{t:c}=Ni(),{theme:o}=Zi,p={username:[{required:!0,message:"Please input your username!"}],password:[{required:!0,message:"Please input your password!"}]},m=f=>{s(!0),setTimeout(()=>{s(!1);const y={userInfo:{name:"liuhua",age:18,sex:1,role:f.username==="admin"?"admin":"test"},token:"xhshgsbzlgin"};Gi(y.token),!Xi()&&Yi(a),f.remember?Ki(f.username):Qi(),Ji(JSON.stringify(y.userInfo)),n("/home")},1500)};return te.jsxs("div",{className:"flex items-center justify-center h-full",children:[te.jsx(oo,{type:"circle",bg:!0}),te.jsxs("div",{className:"w-[400px] h-[500px] rounded-lg form-box p-5",children:[te.jsxs("div",{className:"flex justify-center items-center flex-col mb-10",children:[te.jsx(Wi,{style:{fontSize:"35px",color:o.primaryColor}}),te.jsx("p",{className:"pt-2 text-2xl",children:"Liuhua"})]}),te.jsxs(wt,{name:"basic",initialValues:{remember:!!Kt(),username:Kt()},form:r,onFinish:m,autoComplete:"off",children:[te.jsx(wt.Item,{name:"username",rules:p.username,children:te.jsx(Qt,{placeholder:c("ç”¨æˆ·å")+"ï¼šadmin/test",style:{borderColor:o.primaryColor}})}),te.jsx(wt.Item,{name:"password",rules:p.password,children:te.jsx(Qt,{placeholder:c("å¯†ç ")+"ï¼š*",style:{borderColor:o.primaryColor}})}),te.jsx(Hi,{theme:{token:{colorBgContainer:"transparent",colorBorder:o.primaryColor}},children:te.jsx(wt.Item,{name:"remember",valuePropName:"checked",children:te.jsx(mr,{children:c("è®°ä½è´¦å·")})})}),te.jsx(qi,{type:"primary",className:"w-full h-10",loading:l,htmlType:"submit",children:c("ç™»å½•")})]}),te.jsxs("p",{className:"flex text-xs justify-between mt-4 gap-6",style:{color:o.primaryColor},children:[te.jsx("span",{className:" cursor-pointer",children:c("å¿˜è®°å¯†ç ")}),te.jsx("span",{className:" cursor-pointer",children:c("æ²¡æœ‰è´¦å·?æ³¨å†Œ")})]})]})]})}const ho=Li(ao);export{ho as default};
