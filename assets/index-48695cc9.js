import{u as ai,R as I,r as y,g as Lt,m as yn,C as Ct,c as _e,a as si,b as li,z as bn,d as xn,F as Ut,i as Yt,_ as Pe,e as hi,f as ui,h as ci,D as di,j as pi,V as fi,k as mi,S as gi,l as wn,n as Ye,o as vi,p as Nt,w as Kt,q as yi,s as bi,T as xi,t as wi,Q as Pi,v as _i,x as Ci,y as Ei,N as Pn,A as ki,E as Ri,B as Ii,L as Si,G as Oi,H as Ai,I as Ti,J as Mi,W as Bi,K as zi,M as $i,O as Di,P as Fi,U as ji,X as _n,Y as Cn,Z as Vi,$ as Li,a0 as re,a1 as Ui,a2 as Qt,a3 as Jt,a4 as Ni,a5 as Wi,a6 as Hi,a7 as qi,a8 as Zi,a9 as Gi,aa as Xi,ab as Yi}from"./index-243cc84e.js";import{C as Ki}from"./index-77440b5a.js";const en=r=>typeof r=="object"&&r!=null&&r.nodeType===1,tn=(r,s)=>(!s||r!=="hidden")&&r!=="visible"&&r!=="clip",Dt=(r,s)=>{if(r.clientHeight<r.scrollHeight||r.clientWidth<r.scrollWidth){const l=getComputedStyle(r,null);return tn(l.overflowY,s)||tn(l.overflowX,s)||(n=>{const o=(h=>{if(!h.ownerDocument||!h.ownerDocument.defaultView)return null;try{return h.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!o&&(o.clientHeight<n.scrollHeight||o.clientWidth<n.scrollWidth)})(r)}return!1},St=(r,s,l,n,o,h,a,p)=>h<r&&a>s||h>r&&a<s?0:h<=r&&p<=l||a>=s&&p>=l?h-r-n:a>s&&p<l||h<r&&p>l?a-s+o:0,Qi=r=>{const s=r.parentElement;return s??(r.getRootNode().host||null)},nn=(r,s)=>{var l,n,o,h;if(typeof document>"u")return[];const{scrollMode:a,block:p,inline:f,boundary:m,skipOverflowHiddenElements:b}=s,P=typeof m=="function"?m:L=>L!==m;if(!en(r))throw new TypeError("Invalid target");const C=document.scrollingElement||document.documentElement,_=[];let R=r;for(;en(R)&&P(R);){if(R=Qi(R),R===C){_.push(R);break}R!=null&&R===document.body&&Dt(R)&&!Dt(document.documentElement)||R!=null&&Dt(R,b)&&_.push(R)}const S=(n=(l=window.visualViewport)==null?void 0:l.width)!=null?n:innerWidth,z=(h=(o=window.visualViewport)==null?void 0:o.height)!=null?h:innerHeight,{scrollX:O,scrollY:w}=window,{height:k,width:M,top:$,right:D,bottom:B,left:E}=r.getBoundingClientRect();let v=p==="start"||p==="nearest"?$:p==="end"?B:$+k/2,T=f==="center"?E+M/2:f==="end"?D:E;const Z=[];for(let L=0;L<_.length;L++){const F=_[L],{height:N,width:G,top:X,right:W,bottom:q,left:K}=F.getBoundingClientRect();if(a==="if-needed"&&$>=0&&E>=0&&B<=z&&D<=S&&$>=X&&B<=q&&E>=K&&D<=W)return Z;const g=getComputedStyle(F),j=parseInt(g.borderLeftWidth,10),ee=parseInt(g.borderTopWidth,10),Q=parseInt(g.borderRightWidth,10),U=parseInt(g.borderBottomWidth,10);let A=0,H=0;const ie="offsetWidth"in F?F.offsetWidth-F.clientWidth-j-Q:0,oe="offsetHeight"in F?F.offsetHeight-F.clientHeight-ee-U:0,ae="offsetWidth"in F?F.offsetWidth===0?0:G/F.offsetWidth:0,Ee="offsetHeight"in F?F.offsetHeight===0?0:N/F.offsetHeight:0;if(C===F)A=p==="start"?v:p==="end"?v-z:p==="nearest"?St(w,w+z,z,ee,U,w+v,w+v+k,k):v-z/2,H=f==="start"?T:f==="center"?T-S/2:f==="end"?T-S:St(O,O+S,S,j,Q,O+T,O+T+M,M),A=Math.max(0,A+w),H=Math.max(0,H+O);else{A=p==="start"?v-X-ee:p==="end"?v-q+U+oe:p==="nearest"?St(X,q,N,ee,U+oe,v,v+k,k):v-(X+N/2)+oe/2,H=f==="start"?T-K-j:f==="center"?T-(K+G/2)+ie/2:f==="end"?T-W+Q+ie:St(K,W,G,j,Q+ie,T,T+M,M);const{scrollLeft:de,scrollTop:V}=F;A=Math.max(0,Math.min(V+A/Ee,F.scrollHeight-N/Ee+oe)),H=Math.max(0,Math.min(de+H/ae,F.scrollWidth-G/ae+ie)),v+=V-A,T+=de-H}Z.push({el:F,top:A,left:H})}return Z},Ji=r=>r===!1?{block:"end",inline:"nearest"}:(s=>s===Object(s)&&Object.keys(s).length!==0)(r)?r:{block:"start",inline:"nearest"};function er(r,s){if(!r.isConnected||!(n=>{let o=n;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(r))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(s))return s.behavior(nn(r,s));const l=typeof s=="boolean"||s==null?void 0:s.behavior;for(const{el:n,top:o,left:h}of nn(r,Ji(s)))n.scroll({top:o,left:h,behavior:l})}const _t=["xxl","xl","lg","md","sm","xs"],tr=r=>({xs:`(max-width: ${r.screenXSMax}px)`,sm:`(min-width: ${r.screenSM}px)`,md:`(min-width: ${r.screenMD}px)`,lg:`(min-width: ${r.screenLG}px)`,xl:`(min-width: ${r.screenXL}px)`,xxl:`(min-width: ${r.screenXXL}px)`}),nr=r=>{const s=r,l=[].concat(_t).reverse();return l.forEach((n,o)=>{const h=n.toUpperCase(),a=`screen${h}Min`,p=`screen${h}`;if(!(s[a]<=s[p]))throw new Error(`${a}<=${p} fails : !(${s[a]}<=${s[p]})`);if(o<l.length-1){const f=`screen${h}Max`;if(!(s[p]<=s[f]))throw new Error(`${p}<=${f} fails : !(${s[p]}<=${s[f]})`);const b=`screen${l[o+1].toUpperCase()}Min`;if(!(s[f]<=s[b]))throw new Error(`${f}<=${b} fails : !(${s[f]}<=${s[b]})`)}}),r};function ir(){const[,r]=ai(),s=tr(nr(r));return I.useMemo(()=>{const l=new Map;let n=-1,o={};return{matchHandlers:{},dispatch(h){return o=h,l.forEach(a=>a(o)),l.size>=1},subscribe(h){return l.size||this.register(),n+=1,l.set(n,h),h(o),n},unsubscribe(h){l.delete(h),l.size||this.unregister()},unregister(){Object.keys(s).forEach(h=>{const a=s[h],p=this.matchHandlers[a];p==null||p.mql.removeListener(p==null?void 0:p.listener)}),l.clear()},register(){Object.keys(s).forEach(h=>{const a=s[h],p=m=>{let{matches:b}=m;this.dispatch(Object.assign(Object.assign({},o),{[h]:b}))},f=window.matchMedia(a);f.addListener(p),this.matchHandlers[a]={mql:f,listener:p},p(f)})},responsiveMap:s}},[r])}const rr=y.createContext({}),En=rr,or=r=>{const{componentCls:s}=r;return{[s]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},ar=r=>{const{componentCls:s}=r;return{[s]:{position:"relative",maxWidth:"100%",minHeight:1}}},sr=(r,s)=>{const{componentCls:l,gridColumns:n}=r,o={};for(let h=n;h>=0;h--)h===0?(o[`${l}${s}-${h}`]={display:"none"},o[`${l}-push-${h}`]={insetInlineStart:"auto"},o[`${l}-pull-${h}`]={insetInlineEnd:"auto"},o[`${l}${s}-push-${h}`]={insetInlineStart:"auto"},o[`${l}${s}-pull-${h}`]={insetInlineEnd:"auto"},o[`${l}${s}-offset-${h}`]={marginInlineStart:0},o[`${l}${s}-order-${h}`]={order:0}):(o[`${l}${s}-${h}`]={display:"block",flex:`0 0 ${h/n*100}%`,maxWidth:`${h/n*100}%`},o[`${l}${s}-push-${h}`]={insetInlineStart:`${h/n*100}%`},o[`${l}${s}-pull-${h}`]={insetInlineEnd:`${h/n*100}%`},o[`${l}${s}-offset-${h}`]={marginInlineStart:`${h/n*100}%`},o[`${l}${s}-order-${h}`]={order:h});return o},Vt=(r,s)=>sr(r,s),lr=(r,s,l)=>({[`@media (min-width: ${s}px)`]:Object.assign({},Vt(r,l))}),hr=Lt("Grid",r=>[or(r)]),ur=Lt("Grid",r=>{const s=yn(r,{gridColumns:24}),l={"-sm":s.screenSMMin,"-md":s.screenMDMin,"-lg":s.screenLGMin,"-xl":s.screenXLMin,"-xxl":s.screenXXLMin};return[ar(s),Vt(s,""),Vt(s,"-xs"),Object.keys(l).map(n=>lr(s,l[n],n)).reduce((n,o)=>Object.assign(Object.assign({},n),o),{})]});var cr=globalThis&&globalThis.__rest||function(r,s){var l={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(l[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(l[n[o]]=r[n[o]]);return l};function dr(r){return typeof r=="number"?`${r} ${r} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(r)?`0 0 ${r}`:r}const pr=["xs","sm","md","lg","xl","xxl"],fr=y.forwardRef((r,s)=>{const{getPrefixCls:l,direction:n}=y.useContext(Ct),{gutter:o,wrap:h,supportFlexGap:a}=y.useContext(En),{prefixCls:p,span:f,order:m,offset:b,push:P,pull:C,className:_,children:R,flex:S,style:z}=r,O=cr(r,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),w=l("col",p),[k,M]=ur(w);let $={};pr.forEach(E=>{let v={};const T=r[E];typeof T=="number"?v.span=T:typeof T=="object"&&(v=T||{}),delete O[E],$=Object.assign(Object.assign({},$),{[`${w}-${E}-${v.span}`]:v.span!==void 0,[`${w}-${E}-order-${v.order}`]:v.order||v.order===0,[`${w}-${E}-offset-${v.offset}`]:v.offset||v.offset===0,[`${w}-${E}-push-${v.push}`]:v.push||v.push===0,[`${w}-${E}-pull-${v.pull}`]:v.pull||v.pull===0,[`${w}-${E}-flex-${v.flex}`]:v.flex||v.flex==="auto",[`${w}-rtl`]:n==="rtl"})});const D=_e(w,{[`${w}-${f}`]:f!==void 0,[`${w}-order-${m}`]:m,[`${w}-offset-${b}`]:b,[`${w}-push-${P}`]:P,[`${w}-pull-${C}`]:C},_,$,M),B={};if(o&&o[0]>0){const E=o[0]/2;B.paddingLeft=E,B.paddingRight=E}if(o&&o[1]>0&&!a){const E=o[1]/2;B.paddingTop=E,B.paddingBottom=E}return S&&(B.flex=dr(S),h===!1&&!B.minWidth&&(B.minWidth=0)),k(y.createElement("div",Object.assign({},O,{style:Object.assign(Object.assign({},B),z),className:D,ref:s}),R))}),kn=fr;var mr=globalThis&&globalThis.__rest||function(r,s){var l={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(l[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(l[n[o]]=r[n[o]]);return l};function rn(r,s){const[l,n]=y.useState(typeof r=="string"?r:""),o=()=>{if(typeof r=="string"&&n(r),typeof r=="object")for(let h=0;h<_t.length;h++){const a=_t[h];if(!s[a])continue;const p=r[a];if(p!==void 0){n(p);return}}};return y.useEffect(()=>{o()},[JSON.stringify(r),s]),l}const gr=y.forwardRef((r,s)=>{const{prefixCls:l,justify:n,align:o,className:h,style:a,children:p,gutter:f=0,wrap:m}=r,b=mr(r,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:P,direction:C}=y.useContext(Ct),[_,R]=y.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[S,z]=y.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),O=rn(o,S),w=rn(n,S),k=si(),M=y.useRef(f),$=ir();y.useEffect(()=>{const q=$.subscribe(K=>{z(K);const g=M.current||0;(!Array.isArray(g)&&typeof g=="object"||Array.isArray(g)&&(typeof g[0]=="object"||typeof g[1]=="object"))&&R(K)});return()=>$.unsubscribe(q)},[]);const D=()=>{const q=[void 0,void 0];return(Array.isArray(f)?f:[f,void 0]).forEach((g,j)=>{if(typeof g=="object")for(let ee=0;ee<_t.length;ee++){const Q=_t[ee];if(_[Q]&&g[Q]!==void 0){q[j]=g[Q];break}}else q[j]=g}),q},B=P("row",l),[E,v]=hr(B),T=D(),Z=_e(B,{[`${B}-no-wrap`]:m===!1,[`${B}-${w}`]:w,[`${B}-${O}`]:O,[`${B}-rtl`]:C==="rtl"},h,v),L={},F=T[0]!=null&&T[0]>0?T[0]/-2:void 0,N=T[1]!=null&&T[1]>0?T[1]/-2:void 0;F&&(L.marginLeft=F,L.marginRight=F),k?[,L.rowGap]=T:N&&(L.marginTop=N,L.marginBottom=N);const[G,X]=T,W=y.useMemo(()=>({gutter:[G,X],wrap:m,supportFlexGap:k}),[G,X,m,k]);return E(y.createElement(En.Provider,{value:W},y.createElement("div",Object.assign({},b,{className:Z,style:Object.assign(Object.assign({},L),a),ref:s}),p)))}),vr=gr;function Ot(r){const[s,l]=y.useState(r);return y.useEffect(()=>{const n=setTimeout(()=>{l(r)},r.length?0:10);return()=>{clearTimeout(n)}},[r]),s}const yr=r=>{const{componentCls:s}=r,l=`${s}-show-help`,n=`${s}-show-help-item`;return{[l]:{transition:`opacity ${r.motionDurationSlow} ${r.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${r.motionDurationSlow} ${r.motionEaseInOut},
                     opacity ${r.motionDurationSlow} ${r.motionEaseInOut},
                     transform ${r.motionDurationSlow} ${r.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,["&-active"]:{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}},br=yr,xr=r=>({legend:{display:"block",width:"100%",marginBottom:r.marginLG,padding:0,color:r.colorTextDescription,fontSize:r.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${r.lineWidth}px ${r.lineType} ${r.colorBorder}`},label:{fontSize:r.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},[`input[type='file']:focus,
  input[type='radio']:focus,
  input[type='checkbox']:focus`]:{outline:0,boxShadow:`0 0 0 ${r.controlOutlineWidth}px ${r.controlOutline}`},output:{display:"block",paddingTop:15,color:r.colorText,fontSize:r.fontSize,lineHeight:r.lineHeight}}),on=(r,s)=>{const{formItemCls:l}=r;return{[l]:{[`${l}-label > label`]:{height:s},[`${l}-control-input`]:{minHeight:s}}}},wr=r=>{const{componentCls:s}=r;return{[r.componentCls]:Object.assign(Object.assign(Object.assign({},xn(r)),xr(r)),{[`${s}-text`]:{display:"inline-block",paddingInlineEnd:r.paddingSM},"&-small":Object.assign({},on(r,r.controlHeightSM)),"&-large":Object.assign({},on(r,r.controlHeightLG))})}},Pr=r=>{const{formItemCls:s,iconCls:l,componentCls:n,rootPrefixCls:o}=r;return{[s]:Object.assign(Object.assign({},xn(r)),{marginBottom:r.marginLG,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${o}-row`]:{display:"none"},"&-has-warning":{[`${s}-split`]:{color:r.colorError}},"&-has-error":{[`${s}-split`]:{color:r.colorWarning}},[`${s}-label`]:{display:"inline-block",flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${r.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:r.controlHeight,color:r.colorTextHeading,fontSize:r.fontSize,[`> ${l}`]:{fontSize:r.fontSize,verticalAlign:"top"},[`&${s}-required:not(${s}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:r.marginXXS,color:r.colorError,fontSize:r.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${n}-hide-required-mark &`]:{display:"none"}},[`${s}-optional`]:{display:"inline-block",marginInlineStart:r.marginXXS,color:r.colorTextDescription,[`${n}-hide-required-mark &`]:{display:"none"}},[`${s}-tooltip`]:{color:r.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:r.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:r.marginXXS/2,marginInlineEnd:r.marginXS},[`&${s}-no-colon::after`]:{content:'" "'}}},[`${s}-control`]:{display:"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:r.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[s]:{"&-explain, &-extra":{clear:"both",color:r.colorTextDescription,fontSize:r.fontSize,lineHeight:r.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:r.controlHeightSM,transition:`color ${r.motionDurationMid} ${r.motionEaseOut}`},"&-explain":{"&-error":{color:r.colorError},"&-warning":{color:r.colorWarning}}},[`&-with-help ${s}-explain`]:{height:"auto",opacity:1},[`${s}-feedback-icon`]:{fontSize:r.fontSize,textAlign:"center",visibility:"visible",animationName:bn,animationDuration:r.motionDurationMid,animationTimingFunction:r.motionEaseOutBack,pointerEvents:"none","&-success":{color:r.colorSuccess},"&-error":{color:r.colorError},"&-warning":{color:r.colorWarning},"&-validating":{color:r.colorPrimary}}})}},_r=r=>{const{componentCls:s,formItemCls:l,rootPrefixCls:n}=r;return{[`${s}-horizontal`]:{[`${l}-label`]:{flexGrow:0},[`${l}-control`]:{flex:"1 1 0",minWidth:0},[`${l}-label.${n}-col-24 + ${l}-control`]:{minWidth:"unset"}}}},Cr=r=>{const{componentCls:s,formItemCls:l}=r;return{[`${s}-inline`]:{display:"flex",flexWrap:"wrap",[l]:{flex:"none",marginInlineEnd:r.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},"&-with-help":{marginBottom:r.marginLG},[`> ${l}-label,
        > ${l}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${l}-label`]:{flex:"none"},[`${s}-text`]:{display:"inline-block"},[`${l}-has-feedback`]:{display:"inline-block"}}}}},vt=r=>({margin:0,padding:`0 0 ${r.paddingXS}px`,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{display:"none"}}}),Er=r=>{const{componentCls:s,formItemCls:l}=r;return{[`${l} ${l}-label`]:vt(r),[s]:{[l]:{flexWrap:"wrap",[`${l}-label,
          ${l}-control`]:{flex:"0 0 100%",maxWidth:"100%"}}}}},kr=r=>{const{componentCls:s,formItemCls:l,rootPrefixCls:n}=r;return{[`${s}-vertical`]:{[l]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${s}-item-control`]:{width:"100%"}}},[`${s}-vertical ${l}-label,
      .${n}-col-24${l}-label,
      .${n}-col-xl-24${l}-label`]:vt(r),[`@media (max-width: ${r.screenXSMax}px)`]:[Er(r),{[s]:{[`.${n}-col-xs-24${l}-label`]:vt(r)}}],[`@media (max-width: ${r.screenSMMax}px)`]:{[s]:{[`.${n}-col-sm-24${l}-label`]:vt(r)}},[`@media (max-width: ${r.screenMDMax}px)`]:{[s]:{[`.${n}-col-md-24${l}-label`]:vt(r)}},[`@media (max-width: ${r.screenLGMax}px)`]:{[s]:{[`.${n}-col-lg-24${l}-label`]:vt(r)}}}},Wt=Lt("Form",(r,s)=>{let{rootPrefixCls:l}=s;const n=yn(r,{formItemCls:`${r.componentCls}-item`,rootPrefixCls:l});return[wr(n),Pr(n),br(n),_r(n),Cr(n),kr(n),li(n),bn]}),an=[];function Ft(r,s,l){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof r=="string"?r:`${s}-${n}`,error:r,errorStatus:l}}function Rn(r){let{help:s,helpStatus:l,errors:n=an,warnings:o=an,className:h,fieldId:a,onVisibleChanged:p}=r;const{prefixCls:f}=y.useContext(Ut),m=`${f}-item-explain`,[,b]=Wt(f),P=y.useMemo(()=>Yt(f),[f]),C=Ot(n),_=Ot(o),R=y.useMemo(()=>s!=null?[Ft(s,"help",l)]:[].concat(Pe(C.map((z,O)=>Ft(z,"error","error",O))),Pe(_.map((z,O)=>Ft(z,"warning","warning",O)))),[s,l,C,_]),S={};return a&&(S.id=`${a}_help`),y.createElement(hi,{motionDeadline:P.motionDeadline,motionName:`${f}-show-help`,visible:!!R.length,onVisibleChanged:p},z=>{const{className:O,style:w}=z;return y.createElement("div",Object.assign({},S,{className:_e(m,O,h,b),style:w,role:"alert"}),y.createElement(ui,Object.assign({keys:R},Yt(f),{motionName:`${f}-show-help-item`,component:!1}),k=>{const{key:M,error:$,errorStatus:D,className:B,style:E}=k;return y.createElement("div",{key:M,className:_e(B,{[`${m}-${D}`]:D}),style:E},$)}))})}const Rr=["parentNode"],Ir="form_item";function Pt(r){return r===void 0||r===!1?[]:Array.isArray(r)?r:[r]}function In(r,s){if(!r.length)return;const l=r.join("_");return s?`${s}_${l}`:Rr.includes(l)?`${Ir}_${l}`:l}function sn(r){return Pt(r).join("_")}function Sn(r){const[s]=ci(),l=y.useRef({}),n=y.useMemo(()=>r??Object.assign(Object.assign({},s),{__INTERNAL__:{itemRef:o=>h=>{const a=sn(o);h?l.current[a]=h:delete l.current[a]}},scrollToField:function(o){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=Pt(o),p=In(a,n.__INTERNAL__.name),f=p?document.getElementById(p):null;f&&er(f,Object.assign({scrollMode:"if-needed",block:"nearest"},h))},getFieldInstance:o=>{const h=sn(o);return l.current[h]}}),[r,s]);return[n]}var Sr=globalThis&&globalThis.__rest||function(r,s){var l={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(l[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(l[n[o]]=r[n[o]]);return l};const Or=(r,s)=>{const l=y.useContext(di),{getPrefixCls:n,direction:o,form:h}=y.useContext(Ct),{prefixCls:a,className:p,rootClassName:f,size:m,disabled:b=l,form:P,colon:C,labelAlign:_,labelWrap:R,labelCol:S,wrapperCol:z,hideRequiredMark:O,layout:w="horizontal",scrollToFirstError:k,requiredMark:M,onFinishFailed:$,name:D}=r,B=Sr(r,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),E=pi(m),v=y.useContext(fi),T=y.useMemo(()=>M!==void 0?M:h&&h.requiredMark!==void 0?h.requiredMark:!O,[O,M,h]),Z=C??(h==null?void 0:h.colon),L=n("form",a),[F,N]=Wt(L),G=_e(L,{[`${L}-${w}`]:!0,[`${L}-hide-required-mark`]:T===!1,[`${L}-rtl`]:o==="rtl",[`${L}-${E}`]:E},N,p,f),[X]=Sn(P),{__INTERNAL__:W}=X;W.name=D;const q=y.useMemo(()=>({name:D,labelAlign:_,labelCol:S,labelWrap:R,wrapperCol:z,vertical:w==="vertical",colon:Z,requiredMark:T,itemRef:W.itemRef,form:X}),[D,_,S,z,w,Z,T,X]);y.useImperativeHandle(s,()=>X);const K=(j,ee)=>{if(j){let Q={block:"nearest"};typeof j=="object"&&(Q=j),X.scrollToField(ee,Q)}},g=j=>{if($==null||$(j),j.errorFields.length){const ee=j.errorFields[0].name;if(k!==void 0){K(k,ee);return}h&&h.scrollToFirstError!==void 0&&K(h.scrollToFirstError,ee)}};return F(y.createElement(mi,{disabled:b},y.createElement(gi,{size:E},y.createElement(wn,{validateMessages:v},y.createElement(Ye.Provider,{value:q},y.createElement(vi,Object.assign({id:D},B,{name:D,onFinishFailed:g,form:X,className:G})))))))},Ar=y.forwardRef(Or),Tr=Ar,On=()=>{const{status:r,errors:s=[],warnings:l=[]}=y.useContext(Nt);return{status:r,errors:s,warnings:l}};On.Context=Nt;const Mr=On;function Br(r){const[s,l]=y.useState(r),n=y.useRef(null),o=y.useRef([]),h=y.useRef(!1);y.useEffect(()=>(h.current=!1,()=>{h.current=!0,Kt.cancel(n.current),n.current=null}),[]);function a(p){h.current||(n.current===null&&(o.current=[],n.current=Kt(()=>{n.current=null,l(f=>{let m=f;return o.current.forEach(b=>{m=b(m)}),m})})),o.current.push(p))}return[s,a]}function zr(){const{itemRef:r}=y.useContext(Ye),s=y.useRef({});function l(n,o){const h=o&&typeof o=="object"&&o.ref,a=n.join("_");return(s.current.name!==a||s.current.originRef!==h)&&(s.current.name=a,s.current.originRef=h,s.current.ref=yi(r(n),h)),s.current.ref}return l}const $r=r=>{const{prefixCls:s,status:l,wrapperCol:n,children:o,errors:h,warnings:a,_internalItemRender:p,extra:f,help:m,fieldId:b,marginBottom:P,onErrorVisibleChanged:C}=r,_=`${s}-item`,R=y.useContext(Ye),S=n||R.wrapperCol||{},z=_e(`${_}-control`,S.className),O=y.useMemo(()=>Object.assign({},R),[R]);delete O.labelCol,delete O.wrapperCol;const w=y.createElement("div",{className:`${_}-control-input`},y.createElement("div",{className:`${_}-control-input-content`},o)),k=y.useMemo(()=>({prefixCls:s,status:l}),[s,l]),M=P!==null||h.length||a.length?y.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},y.createElement(Ut.Provider,{value:k},y.createElement(Rn,{fieldId:b,errors:h,warnings:a,help:m,helpStatus:l,className:`${_}-explain-connected`,onVisibleChanged:C})),!!P&&y.createElement("div",{style:{width:0,height:P}})):null,$={};b&&($.id=`${b}_extra`);const D=f?y.createElement("div",Object.assign({},$,{className:`${_}-extra`}),f):null,B=p&&p.mark==="pro_table_render"&&p.render?p.render(r,{input:w,errorList:M,extra:D}):y.createElement(y.Fragment,null,w,M,D);return y.createElement(Ye.Provider,{value:O},y.createElement(kn,Object.assign({},S,{className:z}),B))},Dr=$r;var Fr=globalThis&&globalThis.__rest||function(r,s){var l={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(l[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(l[n[o]]=r[n[o]]);return l};function jr(r){return r?typeof r=="object"&&!y.isValidElement(r)?r:{title:r}:null}const Vr=r=>{let{prefixCls:s,label:l,htmlFor:n,labelCol:o,labelAlign:h,colon:a,required:p,requiredMark:f,tooltip:m}=r;var b;const[P]=bi("Form"),{vertical:C,labelAlign:_,labelCol:R,labelWrap:S,colon:z}=y.useContext(Ye);if(!l)return null;const O=o||R||{},w=h||_,k=`${s}-item-label`,M=_e(k,w==="left"&&`${k}-left`,O.className,{[`${k}-wrap`]:!!S});let $=l;const D=a===!0||z!==!1&&a!==!1;D&&!C&&typeof l=="string"&&l.trim()!==""&&($=l.replace(/[:|：]\s*$/,""));const E=jr(m);if(E){const{icon:T=y.createElement(Pi,null)}=E,Z=Fr(E,["icon"]),L=y.createElement(xi,Object.assign({},Z),y.cloneElement(T,{className:`${s}-item-tooltip`,title:""}));$=y.createElement(y.Fragment,null,$,L)}f==="optional"&&!p&&($=y.createElement(y.Fragment,null,$,y.createElement("span",{className:`${s}-item-optional`,title:""},(P==null?void 0:P.optional)||((b=wi.Form)===null||b===void 0?void 0:b.optional))));const v=_e({[`${s}-item-required`]:p,[`${s}-item-required-mark-optional`]:f==="optional",[`${s}-item-no-colon`]:!D});return y.createElement(kn,Object.assign({},O,{className:M}),y.createElement("label",{htmlFor:n,className:v,title:typeof l=="string"?l:""},$))},Lr=Vr;var Ur=globalThis&&globalThis.__rest||function(r,s){var l={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(l[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(l[n[o]]=r[n[o]]);return l};const Nr={success:ki,warning:Ri,error:Ii,validating:Si};function Wr(r){const{prefixCls:s,className:l,rootClassName:n,style:o,help:h,errors:a,warnings:p,validateStatus:f,meta:m,hasFeedback:b,hidden:P,children:C,fieldId:_,required:R,isRequired:S,onSubItemMetaChange:z}=r,O=Ur(r,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),w=`${s}-item`,{requiredMark:k}=y.useContext(Ye),M=y.useRef(null),$=Ot(a),D=Ot(p),B=h!=null,E=!!(B||a.length||p.length),v=!!M.current&&_i(M.current),[T,Z]=y.useState(null);Ci(()=>{if(E&&M.current){const W=getComputedStyle(M.current);Z(parseInt(W.marginBottom,10))}},[E,v]);const L=W=>{W||Z(null)},N=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,q="";const K=W?$:m.errors,g=W?D:m.warnings;return f!==void 0?q=f:m.validating?q="validating":K.length?q="error":g.length?q="warning":(m.touched||b&&m.validated)&&(q="success"),q}(),G=y.useMemo(()=>{let W;if(b){const q=N&&Nr[N];W=q?y.createElement("span",{className:_e(`${w}-feedback-icon`,`${w}-feedback-icon-${N}`)},y.createElement(q,null)):null}return{status:N,errors:a,warnings:p,hasFeedback:b,feedbackIcon:W,isFormItemInput:!0}},[N,b]),X=_e(w,l,n,{[`${w}-with-help`]:B||$.length||D.length,[`${w}-has-feedback`]:N&&b,[`${w}-has-success`]:N==="success",[`${w}-has-warning`]:N==="warning",[`${w}-has-error`]:N==="error",[`${w}-is-validating`]:N==="validating",[`${w}-hidden`]:P});return y.createElement("div",{className:X,style:o,ref:M},y.createElement(vr,Object.assign({className:`${w}-row`},Ei(O,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),y.createElement(Lr,Object.assign({htmlFor:_},r,{requiredMark:k,required:R??S,prefixCls:s})),y.createElement(Dr,Object.assign({},r,m,{errors:$,warnings:D,prefixCls:s,status:N,help:h,marginBottom:T,onErrorVisibleChanged:L}),y.createElement(Pn.Provider,{value:z},y.createElement(Nt.Provider,{value:G},C)))),!!T&&y.createElement("div",{className:`${w}-margin-offset`,style:{marginBottom:-T}}))}function Hr(r){if(typeof r=="function")return r;const s=Oi(r);return s.length<=1?s[0]:s}const qr="__SPLIT__",Zr=y.memo(r=>{let{children:s}=r;return s},(r,s)=>r.value===s.value&&r.update===s.update&&r.childProps.length===s.childProps.length&&r.childProps.every((l,n)=>l===s.childProps[n]));function Gr(r){return r!=null}function ln(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Xr(r){const{name:s,noStyle:l,className:n,dependencies:o,prefixCls:h,shouldUpdate:a,rules:p,children:f,required:m,label:b,messageVariables:P,trigger:C="onChange",validateTrigger:_,hidden:R,help:S}=r,{getPrefixCls:z}=y.useContext(Ct),{name:O}=y.useContext(Ye),w=Hr(f),k=typeof w=="function",M=y.useContext(Pn),{validateTrigger:$}=y.useContext(Ai),D=_!==void 0?_:$,B=Gr(s),E=z("form",h),[v,T]=Wt(E),Z=y.useContext(Ti),L=y.useRef(),[F,N]=Br({}),[G,X]=Mi(()=>ln()),W=U=>{const A=Z==null?void 0:Z.getKey(U.name);if(X(U.destroy?ln():U,!0),l&&S!==!1&&M){let H=U.name;if(U.destroy)H=L.current||H;else if(A!==void 0){const[ie,oe]=A;H=[ie].concat(Pe(oe)),L.current=H}M(U,H)}},q=(U,A)=>{N(H=>{const ie=Object.assign({},H),ae=[].concat(Pe(U.name.slice(0,-1)),Pe(A)).join(qr);return U.destroy?delete ie[ae]:ie[ae]=U,ie})},[K,g]=y.useMemo(()=>{const U=Pe(G.errors),A=Pe(G.warnings);return Object.values(F).forEach(H=>{U.push.apply(U,Pe(H.errors||[])),A.push.apply(A,Pe(H.warnings||[]))}),[U,A]},[F,G.errors,G.warnings]),j=zr();function ee(U,A,H){return l&&!R?U:y.createElement(Wr,Object.assign({key:"row"},r,{className:_e(n,T),prefixCls:E,fieldId:A,isRequired:H,errors:K,warnings:g,meta:G,onSubItemMetaChange:q}),U)}if(!B&&!k&&!o)return v(ee(w));let Q={};return typeof b=="string"?Q.label=b:s&&(Q.label=String(s)),P&&(Q=Object.assign(Object.assign({},Q),P)),v(y.createElement(Bi,Object.assign({},r,{messageVariables:Q,trigger:C,validateTrigger:D,onMetaChange:W}),(U,A,H)=>{const ie=Pt(s).length&&A?A.name:[],oe=In(ie,O),ae=m!==void 0?m:!!(p&&p.some(V=>{if(V&&typeof V=="object"&&V.required&&!V.warningOnly)return!0;if(typeof V=="function"){const be=V(H);return be&&be.required&&!be.warningOnly}return!1})),Ee=Object.assign({},U);let de=null;if(Array.isArray(w)&&B)de=w;else if(!(k&&(!(a||o)||B))){if(!(o&&!k&&!B))if(zi(w)){const V=Object.assign(Object.assign({},w.props),Ee);if(V.id||(V.id=oe),S||K.length>0||g.length>0||r.extra){const Re=[];(S||K.length>0)&&Re.push(`${oe}_help`),r.extra&&Re.push(`${oe}_extra`),V["aria-describedby"]=Re.join(" ")}K.length>0&&(V["aria-invalid"]="true"),ae&&(V["aria-required"]="true"),$i(w)&&(V.ref=j(ie,w)),new Set([].concat(Pe(Pt(C)),Pe(Pt(D)))).forEach(Re=>{V[Re]=function(){for(var Je,yt,Ke,xe,Qe,Et=arguments.length,Ie=new Array(Et),we=0;we<Et;we++)Ie[we]=arguments[we];(Ke=Ee[Re])===null||Ke===void 0||(Je=Ke).call.apply(Je,[Ee].concat(Ie)),(Qe=(xe=w.props)[Re])===null||Qe===void 0||(yt=Qe).call.apply(yt,[xe].concat(Ie))}});const ke=[V["aria-required"],V["aria-invalid"],V["aria-describedby"]];de=y.createElement(Zr,{value:Ee[r.valuePropName||"value"],update:w,childProps:ke},Di(w,V))}else k&&(a||o)&&!B?de=w(H):de=w}return ee(de,oe,ae)}))}const An=Xr;An.useStatus=Mr;const Yr=An;var Kr=globalThis&&globalThis.__rest||function(r,s){var l={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(l[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)s.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(l[n[o]]=r[n[o]]);return l};const Qr=r=>{var{prefixCls:s,children:l}=r,n=Kr(r,["prefixCls","children"]);const{getPrefixCls:o}=y.useContext(Ct),h=o("form",s),a=y.useMemo(()=>({prefixCls:h,status:"error"}),[h]);return y.createElement(Fi,Object.assign({},n),(p,f,m)=>y.createElement(Ut.Provider,{value:a},l(p.map(b=>Object.assign(Object.assign({},b),{fieldKey:b.key})),f,{errors:m.errors,warnings:m.warnings})))},Jr=Qr;function eo(){const{form:r}=y.useContext(Ye);return r}const Te=Tr;Te.Item=Yr;Te.List=Jr;Te.ErrorList=Rn;Te.useForm=Sn;Te.useFormInstance=eo;Te.useWatch=ji;Te.Provider=wn;Te.create=()=>{};const wt=Te;var Tn={exports:{}};/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/(function(r,s){(function(l,n){r.exports=n()})(_n,function(){return function(){for(var l=["ms","moz","webkit","o"],n=0;n<l.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[l[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[n]+"CancelAnimationFrame"]||window[l[n]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(l){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,o={callback:l,fps:n,n:60/n,param:arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i:0};return this.animations.push(o),this.animations.length>=1&&this.start(),this},getIndex:function(l){for(var n=0;n<this.animations.length;n++)if(this.animations[n].callback===l)return n;return-1},remove:function(l){if(!(this.getIndex(l)<0))return this.deleteMap(l),this.animations.length===0&&this.stop(),this},deleteMap:function(l){var n=this.getIndex(l),o=this.animations[n];for(var h in o)delete o[h];this.animations.splice(n,1)},start:function(){if(this.state!=="start")return this.state="start",this.tick(),this},stop:function(){if(this.state!=="stop")return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var l=this;this.timer=requestAnimationFrame(function(){l.tick()});for(var n=0;n<this.animations.length;n++){var o=this.animations[n],h=o.callback,a=o.param;o.i++,o.i>=o.n&&(h(a),o.i=0)}}}})})(Tn);var to=Tn.exports;const Y=Cn(to);var Mn={exports:{}};/*!
* Proton v4.2.1
* https://github.com/drawcall/Proton
*
* Copyright 2013-2020, A-JIE
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/(function(r,s){(function(l,n){r.exports=n()})(_n,function(){var l=3.1415926,n={PI:l,PIx2:2*l,PI_2:l/2,PI_180:l/180,N180_PI:180/l,Infinity:-999,isInfinity:function(e){return e===this.Infinity||e===1/0},randomAToB:function(e,t,i){return 2<arguments.length&&i!==void 0&&i?Math.floor(Math.random()*(t-e))+e:e+Math.random()*(t-e)},randomFloating:function(e,t,i){return this.randomAToB(e-t,e+t,i)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(e,t){return t=1<arguments.length&&t!==void 0?t:4,t=Math.pow(10,t),Math.floor(e*t)/t},degreeTransform:function(e){return e*l/180},toColor16:function(e){return"#"+e.toString(16)}},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),e};function p(e,t){for(var i=0;i<t.length;i++){var u=t[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function f(e,t,i){e===null&&(e=Function.prototype);var u=Object.getOwnPropertyDescriptor(e,t);if(u!==void 0)return"value"in u?u.value:(u=u.get,u!==void 0?u.call(i):void 0);if((e=Object.getPrototypeOf(e))!==null)return f(e,t,i)}var m=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},P=(a(C,[{key:"getValue",value:function(e){return e=0<arguments.length&&e!==void 0&&e,this.isArray?v.getRandFromArray(this.a):this.center?n.randomFloating(this.a,this.b,e):n.randomAToB(this.a,this.b,e)}}],[{key:"setSpanValue",value:function(e,t,i){return e instanceof C?e:t===void 0?new C(e):i===void 0?new C(e,t):new C(e,t,i)}},{key:"getSpanValue",value:function(e){return e instanceof C?e.getValue():e}}]),C);function C(e,t,i){h(this,C),v.isArray(e)?(this.isArray=!0,this.a=e):(this.isArray=!1,this.a=v.initValue(e,1),this.b=v.initValue(t,this.a),this.center=v.initValue(i,!1))}var _=function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},R=function(e,t){return[1,0,0,0,1,0,e,t,1]},S=function(i){var t=Math.cos(i),i=Math.sin(i);return[t,-i,0,i,t,0,0,0,1]},z=function(e,t){return[e,0,0,0,t,0,0,0,1]},O=function(me,ge){var i=me[0],u=me[1],d=me[2],x=me[3],J=me[4],fe=me[5],te=me[6],ne=me[7],Xe=me[8],se=ge[0],Oe=ge[1],mt=ge[2],gt=ge[3],le=ge[4],he=ge[5],$t=ge[6],me=ge[7],ge=ge[8];return[i*se+u*gt+d*$t,i*Oe+u*le+d*me,i*mt+u*he+d*ge,x*se+J*gt+fe*$t,x*Oe+J*le+fe*me,x*mt+J*he+fe*ge,te*se+ne*gt+Xe*$t,te*Oe+ne*le+Xe*me,te*mt+ne*he+Xe*ge]},w={createCanvas:function(e,t,i,x){var d=3<arguments.length&&x!==void 0?x:"absolute",x=document.createElement("canvas");return x.id=e,x.width=t,x.height=i,x.style.opacity=0,x.style.position=d,this.transform(x,-500,-500,0,0),x},createDiv:function(e,t,i){var u=document.createElement("div");return u.id=e,u.style.position="absolute",this.resize(u,t,i),u},resize:function(e,t,i){e.style.width=t+"px",e.style.height=i+"px",e.style.marginLeft=-t/2+"px",e.style.marginTop=-i/2+"px"},transform:function(e,t,i,u,d){e.style.willChange="transform";var x="translate("+t+"px, "+i+"px) scale("+u+") rotate("+d+"deg)";this.css3(e,"transform",x)},transform3d:function(e,t,i,u,d){e.style.willChange="transform",d="translate3d("+t+"px, "+i+"px, 0) scale("+u+") rotate("+d+"deg)",this.css3(e,"backfaceVisibility","hidden"),this.css3(e,"transform",d)},css3:function(e,t,i){var u=t.charAt(0).toUpperCase()+t.substr(1);e.style["Webkit"+u]=i,e.style["Moz"+u]=i,e.style["O"+u]=i,e.style["ms"+u]=i,e.style[""+t]=i}},k={},M={},$=0,D=function(e,t,i){return e.drawImage(t,i.x,i.y),t=e.getImageData(i.x,i.y,i.width,i.height),e.clearRect(i.x,i.y,i.width,i.height),t},B=function(e,t,i){var u=typeof e=="string"?e:e.src;k[u]?t(k[u],i):((e=new Image).onload=function(d){k[u]=d.target,t(k[u],i)},e.src=u)},E=function(e,t,i){var u,d,x=e.src;return M[x]||(u=_(e.width),d=_(e.height),(d=w.createCanvas("proton_canvas_cache_"+ ++$,u,d)).getContext("2d").drawImage(e,0,0,e.width,e.height),M[x]=d),t&&t(M[x],i),M[x]},v={initValue:function(e,t){return e=e??t},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},emptyArray:function(e){e&&(e.length=0)},toArray:function(e){return this.isArray(e)?e:[e]},getRandFromArray:function(e){return e?e[Math.floor(e.length*Math.random())]:null},emptyObject:function(e,t){var i,u=1<arguments.length&&t!==void 0?t:null;for(i in e)u&&-1<u.indexOf(i)||delete e[i]},classApply:function(e,t){return t=1<arguments.length&&t!==void 0?t:null,new(t?e.bind.apply(e,[null].concat(t)):e)},setVectorVal:function(e,t){t=1<arguments.length&&t!==void 0?t:null,t&&(this.hasProp(t,"x")&&(e.p.x=t.x),this.hasProp(t,"y")&&(e.p.y=t.y),this.hasProp(t,"vx")&&(e.v.x=t.vx),this.hasProp(t,"vy")&&(e.v.y=t.vy),this.hasProp(t,"ax")&&(e.a.x=t.ax),this.hasProp(t,"ay")&&(e.a.y=t.ay),this.hasProp(t,"p")&&e.p.copy(t.p),this.hasProp(t,"v")&&e.v.copy(t.v),this.hasProp(t,"a")&&e.a.copy(t.a),this.hasProp(t,"position")&&e.p.copy(t.position),this.hasProp(t,"velocity")&&e.v.copy(t.velocity),this.hasProp(t,"accelerate")&&e.a.copy(t.accelerate))},hasProp:function(e,t){return!!e&&e[t]!==void 0},setProp:function(e,t){for(var i in t)e.hasOwnProperty(i)&&(e[i]=P.getSpanValue(t[i]));return e},getImageData:function(e,t,i){return D(e,t,i)},destroyAll:function(e,t){for(var i=1<arguments.length&&t!==void 0?t:null,u=e.length;u--;){try{e[u].destroy(i)}catch{}delete e[u]}e.length=0},assign:function(e,t){if(typeof Object.assign=="function")return Object.assign(e,t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},T={},Z={_index:0,_cache:{},id:function(e){return T[e]!==void 0&&T[e]!==null||(T[e]=0),e+"_"+T[e]++},getId:function(e){var t=this.getIdFromCache(e);return t||(t="PUID_"+this._index++,this._cache[t]=e,t)},getIdFromCache:function(e){var t,i=void 0;for(i in this._cache)if((t=this._cache[i])===e||this.isBody(t,e)&&t.src===e.src)return i;return null},isBody:function(e,t){return(e===void 0?"undefined":o(e))==="object"&&(t===void 0?"undefined":o(t))==="object"&&e.isInner&&t.isInner},getTarget:function(e){return this._cache[e]}},L=(a(F,[{key:"get",value:function(e,t,i){var u=void 0;return i=i||e.__puid||Z.getId(e),(u=this.cache[i]&&0<this.cache[i].length?this.cache[i].pop():this.createOrClone(e,t)).__puid=e.__puid||i,u}},{key:"expire",value:function(e){return this.getCache(e.__puid).push(e)}},{key:"createOrClone",value:function(e,t){return this.total++,this.create?this.create(e,t):typeof e=="function"?v.classApply(e,t):e.clone()}},{key:"getCount",value:function(){var e,t=0;for(e in this.cache)t+=this.cache[e].length;return t++}},{key:"destroy",value:function(){for(var e in this.cache)this.cache[e].length=0,delete this.cache[e]}},{key:"getCache",value:function(e){return e=0<arguments.length&&e!==void 0?e:"default",this.cache[e]||(this.cache[e]=[]),this.cache[e]}}]),F);function F(e){h(this,F),this.total=0,this.cache={}}var N=(a(G,[{key:"update",value:function(u,d){this.add(u,d);var i=this.getEmitter(),u=this.getRenderer(),d="";switch(this.type){case 2:d+="emitter:"+this.proton.emitters.length+"<br>",i&&(d+="em speed:"+i.emitSpeed+"<br>"),i&&(d+="pos:"+this.getEmitterPos(i));break;case 3:i&&(d+="initializes:"+i.initializes.length+"<br>"),i&&(d+='<span style="display:inline-block;">'+this.concatArr(i.initializes)+"</span><br>"),i&&(d+="behaviours:"+i.behaviours.length+"<br>"),i&&(d+='<span style="display:inline-block;">'+this.concatArr(i.behaviours)+"</span><br>");break;case 4:u&&(d+=u.name+"<br>"),u&&(d+="body:"+this.getCreatedNumber(u)+"<br>");break;default:d+="particles:"+this.proton.getCount()+"<br>",d+="pool:"+this.proton.pool.getCount()+"<br>",d+="total:"+this.proton.pool.total}this.container.innerHTML=d}},{key:"add",value:function(e,t){var i=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",function(x){i.type++,4<i.type&&(i.type=1)},!1);var u=void 0,d=void 0;switch(e){case 2:u="#201",d="#f08";break;case 3:u="#020",d="#0f0";break;default:u="#002",d="#0ff"}this.container.style["background-color"]=u,this.container.style.color=d}this.container.parentNode||(t=t||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(e){var t="";if(!e||!e.length)return t;for(var i=0;i<e.length;i++)t+=(e[i].name||"").substr(0,1)+".";return t}},{key:"getCreatedNumber",value:function(e){return e.pool.total||e.cpool&&e.cpool.total||0}},{key:"getEmitterPos",value:function(e){return Math.round(e.p.x)+","+Math.round(e.p.y)}}]),G);function G(e){h(this,G),this.proton=e,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var X=(a(W,[{key:"addEventListener",value:function(e,t){return this._listeners?this.removeEventListener(e,t):this._listeners={},this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),t}},{key:"removeEventListener",value:function(e,t){if(this._listeners&&this._listeners[e]){for(var i=this._listeners[e],u=i.length,d=0;d<u;d++)if(i[d]===t){u===1?delete this._listeners[e]:i.splice(d,1);break}}}},{key:"removeAllEventListeners",value:function(e){e?this._listeners&&delete this._listeners[e]:this._listeners=null}},{key:"dispatchEvent",value:function(e,t){var i=!1,u=this._listeners;if(e&&u){var d=u[e];if(!d)return i;for(var x=void 0,J=d.length;J--;)x=d[J],i=i||x(t)}return!!i}},{key:"hasEventListener",value:function(e){var t=this._listeners;return!(!t||!t[e])}}],[{key:"bind",value:function(e){e.prototype.dispatchEvent=W.prototype.dispatchEvent,e.prototype.hasEventListener=W.prototype.hasEventListener,e.prototype.addEventListener=W.prototype.addEventListener,e.prototype.removeEventListener=W.prototype.removeEventListener,e.prototype.removeAllEventListeners=W.prototype.removeAllEventListeners}}]),W);function W(){h(this,W),this._listeners=null}var q=(a(K,[{key:"calculate",value:function(e,t,i){this.eulerIntegrate(e,t,i)}},{key:"eulerIntegrate",value:function(e,t,i){e.sleep||(e.old.p.copy(e.p),e.old.v.copy(e.v),e.a.multiplyScalar(1/e.mass),e.v.add(e.a.multiplyScalar(t)),e.p.add(e.old.v.multiplyScalar(t)),i&&e.v.multiplyScalar(i),e.a.clear())}}]),K);function K(e){h(this,K),this.type=e}var g=(a(j,[{key:"addRenderer",value:function(e){e.init(this),this.renderers.push(e)}},{key:"removeRenderer",value:function(e){var t=this.renderers.indexOf(e);this.renderers.splice(t,1),e.remove(this)}},{key:"addEmitter",value:function(e){this.emitters.push(e),(e.parent=this).dispatchEvent(j.EMITTER_ADDED,e)}},{key:"removeEmitter",value:function(e){var t=this.emitters.indexOf(e);this.emitters.splice(t,1),e.parent=null,this.dispatchEvent(j.EMITTER_REMOVED,e)}},{key:"update",value:function(){this._fps==="auto"?(this.dispatchEvent(j.PROTON_UPDATE),j.USE_CLOCK?(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(j.DEFAULT_INTERVAL),this.dispatchEvent(j.PROTON_UPDATE_AFTER)):(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(j.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(j.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(e){for(var t=this.emitters.length;t--;)this.emitters[t].update(e)}},{key:"amendChangeTabsBug",value:function(){j.amendChangeTabsBug&&.5<this.elapsed&&(this.then=new Date().getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var e=0,t=this.emitters.length;t--;)e+=this.emitters[t].particles.length;return e}},{key:"getAllParticles",value:function(){for(var e=[],t=this.emitters.length;t--;)e=e.concat(this.emitters[t].particles);return e}},{key:"destroyAllEmitters",value:function(){v.destroyAll(this.emitters)}},{key:"destroy",value:function(e){function t(){i.time=0,i.then=0,i.pool.destroy(),v.destroyAll(i.emitters),v.destroyAll(i.renderers,i.getAllParticles())}var i=this;0<arguments.length&&e!==void 0&&e?setTimeout(t,200):t()}},{key:"fps",set:function(e){this._fps=e,this._interval=e==="auto"?j.DEFAULT_INTERVAL:n.floor(1/e,7)},get:function(){return this._fps}}]),j);function j(e){h(this,j),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new N(this),this.pool=new L(80),this.integrationType=v.initValue(e,j.EULER),this.integrator=new q(this.integrationType),this._fps="auto",this._interval=j.DEFAULT_INTERVAL}g.USE_CLOCK=!1,g.MEASURE=100,g.EULER="euler",g.RK2="runge-kutta2",g.PARTICLE_CREATED="PARTICLE_CREATED",g.PARTICLE_UPDATE="PARTICLE_UPDATE",g.PARTICLE_SLEEP="PARTICLE_SLEEP",g.PARTICLE_DEAD="PARTICLE_DEAD",g.EMITTER_ADDED="EMITTER_ADDED",g.EMITTER_REMOVED="EMITTER_REMOVED",g.PROTON_UPDATE="PROTON_UPDATE",g.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",g.DEFAULT_INTERVAL=.0167,g.amendChangeTabsBug=!0,X.bind(g);var ee=(a(Q,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),Q);function Q(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:255;h(this,Q),this.r=e,this.g=t,this.b=i}var U={easeLinear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInSine:function(e){return 1-Math.cos(e*n.PI_2)},easeOutSine:function(e){return Math.sin(e*n.PI_2)},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return e===0?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return e===1?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return e===0?0:e===1?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return--e*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},getEasing:function(e){return typeof e=="function"?e:this[e]||this.easeLinear}},A=(a(H,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"getGradient",value:function(){return this.x!==0?Math.atan2(this.y,this.x):0<this.y?n.PI_2:this.y<0?-n.PI_2:void 0}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return t!==void 0?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)}},{key:"addXY",value:function(e,t){return this.x+=e,this.y+=t,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"sub",value:function(e,t){return t!==void 0?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"divideScalar",value:function(e){return e!==0?(this.x/=e,this.y/=e):this.set(0,0),this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"rotate",value:function(e){var t=this.x,i=this.y;return this.x=t*Math.cos(e)+i*Math.sin(e),this.y=-t*Math.sin(e)+i*Math.cos(e),this}},{key:"distanceToSquared",value:function(i){var t=this.x-i.x,i=this.y-i.y;return t*t+i*i}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new H(this.x,this.y)}}]),H);function H(e,t){h(this,H),this.x=e||0,this.y=t||0}var ie=(a(oe,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*n.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=U.easeLinear,this.rgb.reset(),v.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(e,t){this.sleep||(this.age+=e,this.applyBehaviours(e,t)),this.age<this.life?(t=this.easing(this.age/this.life),this.energy=Math.max(1-t,0)):this.destroy()}},{key:"applyBehaviours",value:function(e,t){for(var i=this.behaviours.length,u=void 0,u=0;u<i;u++)this.behaviours[u]&&this.behaviours[u].applyBehaviour(this,e,t)}},{key:"addBehaviour",value:function(e){this.behaviours.push(e),e.hasOwnProperty("parents")&&e.parents.push(this),e.initialize(this)}},{key:"addBehaviours",value:function(e){for(var t=e.length,i=void 0,i=0;i<t;i++)this.addBehaviour(e[i])}},{key:"removeBehaviour",value:function(e){e=this.behaviours.indexOf(e),-1<e&&(this.behaviours.splice(e,1).parents=null)}},{key:"removeAllBehaviours",value:function(){v.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),oe);function oe(e){h(this,oe),this.id="",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name="Particle",this.id=Z.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new A,this.v=new A,this.a=new A,this.old.p=new A,this.old.v=new A,this.old.a=new A,this.rgb=new ee,this.reset(),e&&v.setProp(this,e)}var ae={hexToRgb:function(e){return e=e.charAt(0)==="#"?e.substring(1,7):e,{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},rgbToHex:function(e){return"rgb("+e.r+", "+e.g+", "+e.b+")"},getHex16FromParticle:function(e){return 65536*Number(e.rgb.r)+256*Number(e.rgb.g)+Number(e.rgb.b)}},Ee=(a(de,[{key:"set",value:function(e,t){return this.r=e,this.tha=t,this}},{key:"setR",value:function(e){return this.r=e,this}},{key:"setTha",value:function(e){return this.tha=e,this}},{key:"copy",value:function(e){return this.r=e.r,this.tha=e.tha,this}},{key:"toVector",value:function(){return new A(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(e){return e.r===this.r&&e.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new de(this.r,this.tha)}}]),de);function de(e,t){h(this,de),this.r=Math.abs(e)||0,this.tha=t||0}var V={create:function(e){var t=new Float32Array(9);return e&&this.set(e,t),t},set:function(e,t){for(var i=0;i<9;i++)t[i]=e[i];return t},multiply:function(le,he,i){var u=le[0],d=le[1],x=le[2],J=le[3],fe=le[4],te=le[6],ne=le[7],Xe=he[0],se=he[1],Oe=he[2],mt=he[3],gt=he[4],le=he[6],he=he[7];return i[0]=Xe*u+se*J,i[1]=Xe*d+se*fe,i[2]=x*Oe,i[3]=mt*u+gt*J,i[4]=mt*d+gt*fe,i[6]=le*u+he*J+te,i[7]=le*d+he*fe+ne,i},inverse:function(te,t){var i=te[0],u=te[1],ne=te[3],d=te[4],x=te[6],J=te[7],fe=-ne,te=J*ne-d*x,ne=1/(i*d+u*fe);return t[0]=d*ne,t[1]=-u*ne,t[3]=fe*ne,t[4]=i*ne,t[6]=te*ne,t[7]=(-J*i+u*x)*ne,t},multiplyVec2:function(e,d,i){var u=d[0],d=d[1];return i[0]=u*e[0]+d*e[3]+e[6],i[1]=u*e[1]+d*e[4]+e[7],i}},be=(m(ke,P),a(ke,[{key:"getValue",value:function(){var e=v.getRandFromArray(this._arr);return e==="random"||e==="Random"?n.randomColor():e}}],[{key:"createArraySpan",value:function(e){return e?e instanceof ke?e:new ke(e):null}}]),ke);function ke(e){h(this,ke);var t=b(this,(ke.__proto__||Object.getPrototypeOf(ke)).call(this));return t._arr=v.toArray(e),t}var Re=(a(Je,[{key:"contains",value:function(e,t){return e<=this.right&&e>=this.x&&t<=this.bottom&&t>=this.y}}]),Je);function Je(e,t,i,u){h(this,Je),this.x=e,this.y=t,this.width=i,this.height=u,this.bottom=this.y+this.height,this.right=this.x+this.width}var yt=(a(Ke,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(e){return this.startTime+=e,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),this.numPan.b===1?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),Ke);function Ke(e,t){h(this,Ke),this.numPan=P.setSpanValue(v.initValue(e,1)),this.timePan=P.setSpanValue(v.initValue(t,1)),this.startTime=0,this.nextTime=0,this.init()}var xe=(a(Qe,[{key:"reset",value:function(){}},{key:"init",value:function(e,t){t?this.initialize(t):this.initialize(e)}},{key:"initialize",value:function(){}}]),Qe);function Qe(){h(this,Qe)}var Et=(m(Ie,xe),a(Ie,[{key:"initialize",value:function(e){this.lifePan.a===1/0?e.life=1/0:e.life=this.lifePan.getValue()}}]),Ie);function Ie(e,t,i){h(this,Ie);var u=b(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).call(this));return u.lifePan=P.setSpanValue(e,t,i),u.name="Life",u}var we=(a(Tt,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),Tt);function Tt(){h(this,Tt),this.vector=new A(0,0),this.random=0,this.crossType="dead",this.alert=!0}var kt=(m(et,we),a(et,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),et);function et(e,t){h(this,et);var i=b(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return i.x=e,i.y=t,i}var zn=(m(tt,xe),a(tt,[{key:"reset",value:function(e){this.zone=v.initValue(e,new kt)}},{key:"initialize",value:function(e){this.zone.getPosition(),e.p.x=this.zone.vector.x,e.p.y=this.zone.vector.y}}]),tt);function tt(e){h(this,tt);var t=b(this,(tt.__proto__||Object.getPrototypeOf(tt)).call(this));return t.zone=v.initValue(e,new kt),t.name="Position",t}var $n=(m(nt,xe),a(nt,[{key:"reset",value:function(e,t,i){this.rPan=P.setSpanValue(e),this.thaPan=P.setSpanValue(t),this.type=v.initValue(i,"vector")}},{key:"normalizeVelocity",value:function(e){return e*g.MEASURE}},{key:"initialize",value:function(e){var t;this.type==="p"||this.type==="P"||this.type==="polar"?(t=new Ee(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*n.PI_180),e.v.x=t.getX(),e.v.y=t.getY()):(e.v.x=this.normalizeVelocity(this.rPan.getValue()),e.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),nt);function nt(e,t,i){h(this,nt);var u=b(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this));return u.rPan=P.setSpanValue(e),u.thaPan=P.setSpanValue(t),u.type=v.initValue(i,"vector"),u.name="Velocity",u}var Dn=(m(it,xe),a(it,[{key:"initialize",value:function(e){e.mass=this.massPan.getValue()}}]),it);function it(e,t,i){h(this,it);var u=b(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return u.massPan=P.setSpanValue(e,t,i),u.name="Mass",u}var Fn=(m(rt,xe),a(rt,[{key:"reset",value:function(e,t,i){this.radius=P.setSpanValue(e,t,i)}},{key:"initialize",value:function(e){e.radius=this.radius.getValue(),e.data.oldRadius=e.radius}}]),rt);function rt(e,t,i){h(this,rt);var u=b(this,(rt.__proto__||Object.getPrototypeOf(rt)).call(this));return u.radius=P.setSpanValue(e,t,i),u.name="Radius",u}var jn=(m(ot,xe),a(ot,[{key:"initialize",value:function(e){var t=this.image.getValue();e.body=typeof t=="string"?{width:this.w,height:this.h,src:t,isInner:!0,inner:!0}:t}},{key:"setSpanValue",value:function(e){return e instanceof be?e:new be(e)}}]),ot);function ot(e,t,i){h(this,ot);var u=b(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this));return u.image=u.setSpanValue(e),u.w=v.initValue(t,20),u.h=v.initValue(i,u.w),u.name="Body",u}var pe=(a(Rt,[{key:"reset",value:function(e,t){this.life=v.initValue(e,1/0),this.easing=U.getEasing(t)}},{key:"normalizeForce",value:function(e){return e.multiplyScalar(g.MEASURE)}},{key:"normalizeValue",value:function(e){return e*g.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(e,t){this.age+=t,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(e=this.easing(e.age/e.life),this.energy=Math.max(1-e,0))}},{key:"destroy",value:function(){for(var e=this.parents.length;e--;)this.parents[e].removeBehaviour(this);this.parents.length=0}}]),Rt);function Rt(e,t){h(this,Rt),this.life=v.initValue(e,1/0),this.easing=U.getEasing(t),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+Rt.id++,this.name="Behaviour"}pe.id=0;var Ht=(m(Me,pe),a(Me,[{key:"reset",value:function(e,t,i,u){this.force=this.normalizeForce(new A(e,t)),i&&f(Me.prototype.__proto__||Object.getPrototypeOf(Me.prototype),"reset",this).call(this,i,u)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.a.add(this.force)}}]),Me);function Me(e,t,i,u){return h(this,Me),u=b(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,i,u)),u.force=u.normalizeForce(new A(e,t)),u.name="Force",u}var qt=(m(Be,pe),a(Be,[{key:"reset",value:function(e,t,i,u,d){this.targetPosition=v.initValue(e,new A),this.radius=v.initValue(i,1e3),this.force=v.initValue(this.normalizeValue(t),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new A,this.lengthSq=0,u&&f(Be.prototype.__proto__||Object.getPrototypeOf(Be.prototype),"reset",this).call(this,u,d)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(e.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),e.a.add(this.attractionForce))}}]),Be);function Be(e,t,i,u,d){return h(this,Be),d=b(this,(Be.__proto__||Object.getPrototypeOf(Be)).call(this,u,d)),d.targetPosition=v.initValue(e,new A),d.radius=v.initValue(i,1e3),d.force=v.initValue(d.normalizeValue(t),100),d.radiusSq=d.radius*d.radius,d.attractionForce=new A,d.lengthSq=0,d.name="Attraction",d}var Vn=(m(ze,pe),a(ze,[{key:"reset",value:function(e,t,i,u,d){this.panFoce=new A(e,t),this.panFoce=this.normalizeForce(this.panFoce),this.delay=i,u&&f(ze.prototype.__proto__||Object.getPrototypeOf(ze.prototype),"reset",this).call(this,u,d)}},{key:"initialize",value:function(e){e.data.time=0}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.data.time+=t,e.data.time>=this.delay&&(e.a.addXY(n.randomAToB(-this.panFoce.x,this.panFoce.x),n.randomAToB(-this.panFoce.y,this.panFoce.y)),e.data.time=0)}}]),ze);function ze(e,t,i,u,d){return h(this,ze),d=b(this,(ze.__proto__||Object.getPrototypeOf(ze)).call(this,u,d)),d.reset(e,t,i),d.time=0,d.name="RandomDrift",d}var Ln=(m($e,Ht),a($e,[{key:"reset",value:function(e,t,i){f($e.prototype.__proto__||Object.getPrototypeOf($e.prototype),"reset",this).call(this,0,e,t,i)}}]),$e);function $e(e,t,i){return h(this,$e),i=b(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,0,e,t,i)),i.name="Gravity",i}var Un=(m(De,pe),a(De,[{key:"reset",value:function(e,t,i,u,d){this.emitter=v.initValue(e,null),this.mass=v.initValue(t,!0),this.callback=v.initValue(i,null),this.collisionPool=[],this.delta=new A,u&&f(De.prototype.__proto__||Object.getPrototypeOf(De.prototype),"reset",this).call(this,u,d)}},{key:"applyBehaviour",value:function(e,t,i){for(var u,d,x,J,fe,te,ne=(this.emitter?this.emitter.particles:this.pool).slice(i),Xe=ne.length,se=void 0,Oe=void 0,Oe=0;Oe<Xe;Oe++)(se=ne[Oe])!==e&&(this.delta.copy(se.p),this.delta.sub(e.p),(u=this.delta.lengthSq())<=(te=e.radius+se.radius)*te&&(d=te-Math.sqrt(u),d+=.5,x=e.mass+se.mass,J=this.mass?se.mass/x:.5,fe=this.mass?e.mass/x:.5,e.p.add(this.delta.clone().normalize().multiplyScalar(d*-J)),se.p.add(this.delta.normalize().multiplyScalar(d*fe)),this.callback&&this.callback(e,se)))}}]),De);function De(e,t,i,u,d){return h(this,De),d=b(this,(De.__proto__||Object.getPrototypeOf(De)).call(this,u,d)),d.reset(e,t,i),d.name="Collision",d}var Nn=(m(Fe,pe),a(Fe,[{key:"reset",value:function(e,t,i,u){this.zone=e,this.zone.crossType=v.initValue(t,"dead"),i&&f(Fe.prototype.__proto__||Object.getPrototypeOf(Fe.prototype),"reset",this).call(this,i,u)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),this.zone.crossing(e)}}]),Fe);function Fe(e,t,i,u){return h(this,Fe),u=b(this,(Fe.__proto__||Object.getPrototypeOf(Fe)).call(this,i,u)),u.reset(e,t),u.name="CrossZone",u}var Wn=(m(je,pe),a(je,[{key:"reset",value:function(e,t,i,u){this.same=t==null,this.a=P.setSpanValue(v.initValue(e,1)),this.b=P.setSpanValue(t),i&&f(je.prototype.__proto__||Object.getPrototypeOf(je.prototype),"reset",this).call(this,i,u)}},{key:"initialize",value:function(e){e.data.alphaA=this.a.getValue(),this.same?e.data.alphaB=e.data.alphaA:e.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.alpha=e.data.alphaB+(e.data.alphaA-e.data.alphaB)*this.energy,e.alpha<.001&&(e.alpha=0)}}]),je);function je(e,t,i,u){return h(this,je),u=b(this,(je.__proto__||Object.getPrototypeOf(je)).call(this,i,u)),u.reset(e,t),u.name="Alpha",u}var Hn=(m(Ve,pe),a(Ve,[{key:"reset",value:function(e,t,i,u){this.same=t==null,this.a=P.setSpanValue(v.initValue(e,1)),this.b=P.setSpanValue(t),i&&f(Ve.prototype.__proto__||Object.getPrototypeOf(Ve.prototype),"reset",this).call(this,i,u)}},{key:"initialize",value:function(e){e.data.scaleA=this.a.getValue(),e.data.oldRadius=e.radius,e.data.scaleB=this.same?e.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),e.scale=e.data.scaleB+(e.data.scaleA-e.data.scaleB)*this.energy,e.scale<1e-4&&(e.scale=0),e.radius=e.data.oldRadius*e.scale}}]),Ve);function Ve(e,t,i,u){return h(this,Ve),u=b(this,(Ve.__proto__||Object.getPrototypeOf(Ve)).call(this,i,u)),u.reset(e,t),u.name="Scale",u}var qn=(m(Le,pe),a(Le,[{key:"reset",value:function(e,t,i,u,d){this.same=t==null,this.a=P.setSpanValue(v.initValue(e,"Velocity")),this.b=P.setSpanValue(v.initValue(t,0)),this.style=v.initValue(i,"to"),u&&f(Le.prototype.__proto__||Object.getPrototypeOf(Le.prototype),"reset",this).call(this,u,d)}},{key:"initialize",value:function(e){e.rotation=this.a.getValue(),e.data.rotationA=this.a.getValue(),this.same||(e.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),this.same?this.a.a!=="V"&&this.a.a!=="Velocity"&&this.a.a!=="v"||(e.rotation=e.getDirection()):this.style==="to"||this.style==="TO"||this.style==="_"?e.rotation+=e.data.rotationB+(e.data.rotationA-e.data.rotationB)*this.energy:e.rotation+=e.data.rotationB}}]),Le);function Le(e,t,i,u,d){return h(this,Le),d=b(this,(Le.__proto__||Object.getPrototypeOf(Le)).call(this,u,d)),d.reset(e,t,i),d.name="Rotate",d}var Zn=(m(Ue,pe),a(Ue,[{key:"reset",value:function(e,t,i,u){this.a=be.createArraySpan(e),this.b=be.createArraySpan(t),i&&f(Ue.prototype.__proto__||Object.getPrototypeOf(Ue.prototype),"reset",this).call(this,i,u)}},{key:"initialize",value:function(e){e.color=this.a.getValue(),e.data.colorA=ae.hexToRgb(e.color),this.b&&(e.data.colorB=ae.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(e,t,i){this.b?(this.calculate(e,t,i),e.rgb.r=e.data.colorB.r+(e.data.colorA.r-e.data.colorB.r)*this.energy,e.rgb.g=e.data.colorB.g+(e.data.colorA.g-e.data.colorB.g)*this.energy,e.rgb.b=e.data.colorB.b+(e.data.colorA.b-e.data.colorB.b)*this.energy,e.rgb.r=Math.floor(e.rgb.r),e.rgb.g=Math.floor(e.rgb.g),e.rgb.b=Math.floor(e.rgb.b)):(e.rgb.r=e.data.colorA.r,e.rgb.g=e.data.colorA.g,e.rgb.b=e.data.colorA.b)}}]),Ue);function Ue(e,t,i,u){return h(this,Ue),u=b(this,(Ue.__proto__||Object.getPrototypeOf(Ue)).call(this,i,u)),u.reset(e,t),u.name="Color",u}var Mt="changing",Gn=(m(Ne,pe),a(Ne,[{key:"setAngleAndForce",value:function(e,t){this.force=Mt,this.angle=n.PI/2,e==="right"?this.angle=n.PI/2:e==="left"?this.angle=-n.PI/2:e==="random"?this.angle="random":e instanceof P?(this.angle="span",this.span=e):e&&(this.angle=e),String(t).toLowerCase()==="changing"||String(t).toLowerCase()==="chang"||String(t).toLowerCase()==="auto"?this.force=Mt:t&&(this.force=t)}},{key:"reset",value:function(e,t,i,u){this.angle=n.PI/2,this.setAngleAndForce(e,t),i&&f(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"reset",this).call(this,i,u)}},{key:"initialize",value:function(e){this.angle==="random"?e.data.cangle=n.randomAToB(-n.PI,n.PI):this.angle==="span"&&(e.data.cangle=this.span.getValue()),e.data.cyclone=new A(0,0)}},{key:"applyBehaviour",value:function(e,t,i){this.calculate(e,t,i),t=void 0,i=e.v.getGradient(),this.angle==="random"||this.angle==="span"?i+=e.data.cangle:i+=this.angle,t=this.force===Mt?e.v.length()/100:this.force,e.data.cyclone.x=t*Math.cos(i),e.data.cyclone.y=t*Math.sin(i),e.data.cyclone=this.normalizeForce(e.data.cyclone),e.a.add(e.data.cyclone)}}]),Ne);function Ne(e,t,i,u){return h(this,Ne),u=b(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).call(this,i,u)),u.setAngleAndForce(e,t),u.name="Cyclone",u}var Xn=(m(We,qt),a(We,[{key:"reset",value:function(e,t,i,u,d){f(We.prototype.__proto__||Object.getPrototypeOf(We.prototype),"reset",this).call(this,e,t,i,u,d),this.force*=-1}}]),We);function We(e,t,i,u,d){return h(this,We),d=b(this,(We.__proto__||Object.getPrototypeOf(We)).call(this,e,t,i,u,d)),d.force*=-1,d.name="Repulsion",d}var Yn=(m(He,pe),a(He,[{key:"reset",value:function(e,t,i,u){this.distanceVec=new A,this.centerPoint=v.initValue(e,new A),this.force=v.initValue(this.normalizeValue(t),100),i&&f(He.prototype.__proto__||Object.getPrototypeOf(He.prototype),"reset",this).call(this,i,u)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(e,t){this.distanceVec.set(this.centerPoint.x-e.p.x,this.centerPoint.y-e.p.y);var i,u=this.distanceVec.lengthSq();u!==0&&(i=this.distanceVec.length(),i=this.force*t/(u*i),e.v.x+=i*this.distanceVec.x,e.v.y+=i*this.distanceVec.y)}}]),He);function He(e,t,i,u){return h(this,He),u=b(this,(He.__proto__||Object.getPrototypeOf(He)).call(this,i,u)),u.distanceVec=new A,u.centerPoint=v.initValue(e,new A),u.force=v.initValue(u.normalizeValue(t),100),u.name="GravityWell",u}var Kn={initialize:function(e,t,i){for(var u=i.length,d=void 0,d=0;d<u;d++)i[d]instanceof xe?i[d].init(e,t):this.init(e,t,i[d]);this.bindEmitter(e,t)},init:function(e,t,i){v.setProp(t,i),v.setVectorVal(t,i)},bindEmitter:function(e,t){e.bindEmitter&&(t.p.add(e.p),t.v.add(e.v),t.a.add(e.a),t.v.rotate(n.degreeTransform(e.rotation)))}},It=(m(at,ie),a(at,[{key:"emit",value:function(e,t){this.stoped=!1,this.emitTime=0,this.totalTime=v.initValue(e,1/0),t===!0||t==="life"||t==="destroy"?this.life=e==="once"?1:this.totalTime:isNaN(t)||(this.life=t),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(e){var t=this.stoped,i=this.emitTime,u=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=e,this.rate.init();.0167<e;)e-=.0167,this.update(.0167);this.stoped=t,this.emitTime=i+Math.max(e,0),this.totalTime=u}},{key:"removeAllParticles",value:function(){for(var e=this.particles.length;e--;)this.particles[e].dead=!0}},{key:"addSelfInitialize",value:function(e){e.init?e.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var u=t.length;u--;)this.initializes.push(t[u])}},{key:"removeInitialize",value:function(e){e=this.initializes.indexOf(e),-1<e&&this.initializes.splice(e,1)}},{key:"removeAllInitializers",value:function(){v.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var u=arguments.length;u--;){var d=t[u];this.behaviours.push(d),d.parents&&d.parents.push(this)}}},{key:"removeBehaviour",value:function(e){var t=this.behaviours.indexOf(e);return this.behaviours.splice(t,1),e.parents&&(t=e.parents.indexOf(e),e.parents.splice(t,1)),t}},{key:"removeAllBehaviours",value:function(){v.emptyArray(this.behaviours)}},{key:"update",value:function(e){this.age+=e,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(e),this.integrate(e)}},{key:"integrate",value:function(e){if(this.parent){var t=1-this.damping;this.parent.integrator.calculate(this,e,t);for(var u=void 0,i=void 0,u=this.particles.length-1;0<=u;u--)(i=this.particles[u]).update(e,u),this.parent.integrator.calculate(i,e,t),this.dispatch("PARTICLE_UPDATE",i),i.dead&&(this.dispatch("PARTICLE_DEAD",i),this.parent.pool.expire(i),this.particles.splice(u,1))}}},{key:"dispatch",value:function(e,t){this.parent&&this.parent.dispatchEvent(e,t),this.bindEvent&&this.dispatchEvent(e,t)}},{key:"emitting",value:function(e){if(this.totalTime==="once"){var t=void 0,i=this.rate.getValue(99999);for(0<i&&(this.emitSpeed=i),t=0;t<i;t++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=e,this.emitTime<this.totalTime){var u=this.rate.getValue(e),d=void 0;for(0<u&&(this.emitSpeed=u),d=0;d<u;d++)this.createParticle()}}},{key:"createParticle",value:function(e,t){var i=this.parent.pool.get(ie);return this.setupParticle(i,e,t),this.dispatch("PARTICLE_CREATED",i),i}},{key:"setupParticle",value:function(e,t,i){var u=this.initializes,d=this.behaviours;t&&(u=v.toArray(t)),i&&(d=v.toArray(i)),e.reset(),Kn.initialize(this,e,u),e.addBehaviours(d),(e.parent=this).particles.push(e)}},{key:"remove",value:function(){this.stop(),v.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),at);function at(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return h(this,at),e=b(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,e)),e.particles=[],e.behaviours=[],e.initializes=[],e.emitTime=0,e.emitSpeed=0,e.totalTime=-1,e.damping=.006,e.bindEmitter=!0,e.rate=new yt(1,.1),e.name="Emitter",e.id=Z.id(e.name),e}X.bind(It);var Qn=(m(qe,It),a(qe,[{key:"addSelfBehaviour",value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var d=void 0,u=t.length,d=0;d<u;d++){var x=t[d];this.selfBehaviours.push(x),x.initialize(this)}}},{key:"removeSelfBehaviour",value:function(e){e=this.selfBehaviours.indexOf(e),-1<e&&this.selfBehaviours.splice(e,1)}},{key:"update",value:function(e){if(f(qe.prototype.__proto__||Object.getPrototypeOf(qe.prototype),"update",this).call(this,e),!this.sleep)for(var t=this.selfBehaviours.length,i=void 0,i=0;i<t;i++)this.selfBehaviours[i].applyBehaviour(this,e,i)}}]),qe);function qe(e){return h(this,qe),e=b(this,(qe.__proto__||Object.getPrototypeOf(qe)).call(this,e)),e.selfBehaviours=[],e}var Jn=(m(Se,It),a(Se,[{key:"initEventHandler",value:function(){var e=this;this.mousemoveHandler=function(t){return e.mousemove.call(e,t)},this.mousedownHandler=function(t){return e.mousedown.call(e,t)},this.mouseupHandler=function(t){return e.mouseup.call(e,t)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(e){e.layerX||e.layerX===0?(this.p.x+=(e.layerX-this.p.x)*this.ease,this.p.y+=(e.layerY-this.p.y)*this.ease):!e.offsetX&&e.offsetX!==0||(this.p.x+=(e.offsetX-this.p.x)*this.ease,this.p.y+=(e.offsetY-this.p.y)*this.ease),this._allowEmitting&&f(Se.prototype.__proto__||Object.getPrototypeOf(Se.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){f(Se.prototype.__proto__||Object.getPrototypeOf(Se.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),Se);function Se(e,t,i){return h(this,Se),i=b(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,i)),i.mouseTarget=v.initValue(e,window),i.ease=v.initValue(t,.7),i._allowEmitting=!1,i.initEventHandler(),i}var Ae=(a(Bt,[{key:"setStroke",value:function(e,t){e=0<arguments.length&&e!==void 0?e:"#000000",t=1<arguments.length&&t!==void 0?t:1,this.stroke={color:e,thinkness:t}}},{key:"initHandler",value:function(){var e=this;this._protonUpdateHandler=function(){e.onProtonUpdate.call(e)},this._protonUpdateAfterHandler=function(){e.onProtonUpdateAfter.call(e)},this._emitterAddedHandler=function(t){e.onEmitterAdded.call(e,t)},this._emitterRemovedHandler=function(t){e.onEmitterRemoved.call(e,t)},this._particleCreatedHandler=function(t){e.onParticleCreated.call(e,t)},this._particleUpdateHandler=function(t){e.onParticleUpdate.call(e,t)},this._particleDeadHandler=function(t){e.onParticleDead.call(e,t)}}},{key:"init",value:function(e){(this.parent=e).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),e.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),e.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),e.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),e.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),e.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),e.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),Bt);function Bt(e,t){h(this,Bt),this.pool=new L,this.element=e,this.stroke=t,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var ei=(m(st,Ae),a(st,[{key:"resize",value:function(e,t){this.element.width=e,this.element.height=t}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(e){e.body?B(e.body,this.addImg2Body,e):e.color=e.color||"#ff0000"}},{key:"onParticleUpdate",value:function(e){e.body?e.body instanceof Image&&this.drawImage(e):this.drawCircle(e)}},{key:"onParticleDead",value:function(e){e.body=null}},{key:"addImg2Body",value:function(e,t){t.body=e}},{key:"drawImage",value:function(e){var t,i=e.body.width*e.scale|0,u=e.body.height*e.scale|0,d=e.p.x-i/2,x=e.p.y-u/2;e.color?(e.data.buffer||(e.data.buffer=this.createBuffer(e.body)),(t=e.data.buffer.getContext("2d")).clearRect(0,0,e.data.buffer.width,e.data.buffer.height),t.globalAlpha=e.alpha,t.drawImage(e.body,0,0),t.globalCompositeOperation="source-atop",t.fillStyle=ae.rgbToHex(e.rgb),t.fillRect(0,0,e.data.buffer.width,e.data.buffer.height),t.globalCompositeOperation="source-over",t.globalAlpha=1,this.context.drawImage(e.data.buffer,0,0,e.data.buffer.width,e.data.buffer.height,d,x,i,u)):(this.context.save(),this.context.globalAlpha=e.alpha,this.context.translate(e.p.x,e.p.y),this.context.rotate(n.degreeTransform(e.rotation)),this.context.translate(-e.p.x,-e.p.y),this.context.drawImage(e.body,0,0,e.body.width,e.body.height,d,x,i,u),this.context.globalAlpha=1,this.context.restore())}},{key:"drawCircle",value:function(e){e.rgb?this.context.fillStyle="rgba("+e.rgb.r+","+e.rgb.g+","+e.rgb.b+","+e.alpha+")":this.context.fillStyle=e.color,this.context.beginPath(),this.context.arc(e.p.x,e.p.y,e.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(e){if(e instanceof Image){var t=e.width+"_"+e.height,i=this.bufferCache[t];return i||((i=document.createElement("canvas")).width=e.width,i.height=e.height,this.bufferCache[t]=i),i}}}]),st);function st(e){return h(this,st),e=b(this,(st.__proto__||Object.getPrototypeOf(st)).call(this,e)),e.stroke=null,e.context=e.element.getContext("2d"),e.bufferCache={},e.name="CanvasRenderer",e}var ti=(m(lt,Ae),a(lt,[{key:"onParticleCreated",value:function(e){e.body?B(e.body,this.addImg2Body,e):(e.body=this.pool.get(this.circleConf,e),this.element.appendChild(e.body))}},{key:"onParticleUpdate",value:function(e){this.bodyReady(e)&&(this.transform3d?w.transform3d(e.body,e.p.x,e.p.y,e.scale,e.rotation):w.transform(e.body,e.p.x,e.p.y,e.scale,e.rotation),e.body.style.opacity=e.alpha,e.body.isCircle&&(e.body.style.backgroundColor=e.color||"#ff0000"))}},{key:"onParticleDead",value:function(e){this.bodyReady(e)&&(this.element.removeChild(e.body),this.pool.expire(e.body),e.body=null)}},{key:"bodyReady",value:function(e){return o(e.body)==="object"&&e.body&&!e.body.isInner}},{key:"addImg2Body",value:function(e,t){t.dead||(t.body=this.pool.get(e,t),w.resize(t.body,e.width,e.height),this.element.appendChild(t.body))}},{key:"createBody",value:function(e,t){return e.isCircle?this.createCircle(t):this.createSprite(e,t)}},{key:"createCircle",value:function(e){var t=w.createDiv(e.id+"_dom",2*e.radius,2*e.radius);return t.style.borderRadius=e.radius+"px",this.stroke&&(t.style.borderColor=this.stroke.color,t.style.borderWidth=this.stroke.thinkness+"px"),t.isCircle=!0,t}},{key:"createSprite",value:function(u,t){var i=typeof u=="string"?u:u.src,u=w.createDiv(t.id+"_dom",u.width,u.height);return u.style.backgroundImage="url("+i+")",u}}]),lt);function lt(e){h(this,lt);var t=b(this,(lt.__proto__||Object.getPrototypeOf(lt)).call(this,e));return t.stroke=null,t.pool.create=function(i,u){return t.createBody(i,u)},t.addImg2Body=t.addImg2Body.bind(t),t.transform3d=!1,t.name="DomRenderer",t}var ni=(m(ht,Ae),a(ht,[{key:"onParticleCreated",value:function(e){e.body?this.createSprite(e):this.createCircle(e),this.element.addChild(e.body)}},{key:"onParticleUpdate",value:function(e){e.body&&(e.body.x=e.p.x,e.body.y=e.p.y,e.body.alpha=e.alpha,e.body.scaleX=e.body.scaleY=e.scale,e.body.rotation=e.rotation)}},{key:"onParticleDead",value:function(e){e.body&&(e.body.parent&&e.body.parent.removeChild(e.body),this.pool.expire(e.body),e.body=null),e.graphics&&this.pool.expire(e.graphics)}},{key:"createSprite",value:function(e){e.body=this.pool.get(e.body),e.body.parent||e.body.image&&(e.body.regX=e.body.image.width/2,e.body.regY=e.body.image.height/2)}},{key:"createCircle",value:function(e){var t=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?t.beginStroke(this.stroke):t.beginStroke("#000000")),t.beginFill(e.color||"#ff0000").drawCircle(0,0,e.radius);var i=this.pool.get(createjs.Shape,[t]);e.body=i,e.graphics=t}}]),ht);function ht(e,t){return h(this,ht),e=b(this,(ht.__proto__||Object.getPrototypeOf(ht)).call(this,e)),e.stroke=t,e.name="EaselRenderer",e}var ii=(m(ut,Ae),a(ut,[{key:"resize",value:function(e,t){this.element.width=e,this.element.height=t}},{key:"createImageData",value:function(e){this.rectangle=e||new Re(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(e){this.imageData&&this.setPixel(this.imageData,Math.floor(e.p.x-this.rectangle.x),Math.floor(e.p.y-this.rectangle.y),e)}},{key:"setPixel",value:function(e,t,i,u){var d=u.rgb;t<0||t>this.element.width||i<0||i>this.elementwidth||(t=4*((i>>0)*e.width+(t>>0)),e.data[t]=d.r,e.data[1+t]=d.g,e.data[2+t]=d.b,e.data[3+t]=255*u.alpha)}},{key:"onParticleDead",value:function(){}}]),ut);function ut(e,t){return h(this,ut),e=b(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this,e)),e.context=e.element.getContext("2d"),e.imageData=null,e.rectangle=null,e.rectangle=t,e.createImageData(t),e.name="PixelRenderer",e}var bt=void 0,ri=(m(Ze,Ae),a(Ze,[{key:"setPIXI",value:function(e){try{bt=e||{Sprite:{}},this.createFromImage=bt.Sprite.from||bt.Sprite.fromImage}catch{}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(e){e.body?e.body=this.pool.get(e.body,e):e.body=this.pool.get(this.circleConf,e),this.blendMode&&(e.body.blendMode=this.blendMode),this.element.addChild(e.body)}},{key:"onParticleUpdate",value:function(e){this.transform(e,e.body),this.setColor!==!0&&this.color!==!0||(e.body.tint=ae.getHex16FromParticle(e))}},{key:"onParticleDead",value:function(e){this.element.removeChild(e.body),this.pool.expire(e.body),e.body=null}},{key:"destroy",value:function(e){f(Ze.prototype.__proto__||Object.getPrototypeOf(Ze.prototype),"destroy",this).call(this),this.pool.destroy();for(var t=e.length;t--;){var i=e[t];i.body&&this.element.removeChild(i.body)}}},{key:"transform",value:function(e,t){t.x=e.p.x,t.y=e.p.y,t.alpha=e.alpha,t.scale.x=e.scale,t.scale.y=e.scale,t.rotation=e.rotation*n.PI_180}},{key:"createBody",value:function(e,t){return e.isCircle?this.createCircle(t):this.createSprite(e)}},{key:"createSprite",value:function(e){return e=e.isInner?this.createFromImage(e.src):new bt.Sprite(e),e.anchor.x=.5,e.anchor.y=.5,e}},{key:"createCircle",value:function(e){var t,i=new bt.Graphics;return this.stroke&&(t=this.stroke instanceof String?this.stroke:0,i.beginStroke(t)),i.beginFill(e.color||36077),i.drawCircle(0,0,e.radius),i.endFill(),i}}]),Ze);function Ze(e,t){h(this,Ze);var i=b(this,(Ze.__proto__||Object.getPrototypeOf(Ze)).call(this,e));return i.stroke=t,i.color=!1,i.setColor=!1,i.blendMode=null,i.pool.create=function(u,d){return i.createBody(u,d)},i.setPIXI(window.PIXI),i.name="PixiRenderer",i}var oi=(a(zt,[{key:"set",value:function(e,t){t===0?V.set(e,this.mats[0]):V.multiply(this.mats[t-1],e,this.mats[t]),this.size=Math.max(this.size,t+1)}},{key:"push",value:function(e){this.size===0?V.set(e,this.mats[0]):V.multiply(this.mats[this.size-1],e,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),zt);function zt(){h(this,zt),this.mats=[];for(var e=this.size=0;e<20;e++)this.mats.push(V.create([0,0,0,0,0,0,0,0,0]))}m(Ge,Ae),a(Ge,[{key:"init",value:function(e){f(Ge.prototype.__proto__||Object.getPrototypeOf(Ge.prototype),"init",this).call(this,e),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(e,t){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/e,this.smat[4]=1/t,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,e,t),this.element.width=e,this.element.height=t}},{key:"setMaxRadius",value:function(e){this.circleCanvasURL=this.createCircle(e)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join(`
`)}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join(`
`)}},{key:"initVar",value:function(){this.mstack=new oi,this.umat=V.create([2,0,1,0,-2,0,-1,1,1]),this.smat=V.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(e){this.gl.blendEquation(this.gl[e])}},{key:"blendFunc",value:function(e,t){this.gl.blendFunc(this.gl[e],this.gl[t])}},{key:"getShader",value:function(e,t,i){return i=i?e.createShader(e.FRAGMENT_SHADER):e.createShader(e.VERTEX_SHADER),e.shaderSource(i,t),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(alert(e.getShaderInfoLog(i)),null)}},{key:"initShaders",value:function(){var e=this.getShader(this.gl,this.getFragmentShader(),!0),t=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,t),this.gl.attachShader(this.sprogram,e),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var e;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);for(var i=void 0,t=[],i=0;i<100;i++)t.push(i);for(e=new Uint16Array(t),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,e,this.gl.STATIC_DRAW),t=[],i=0;i<100;i++)t.push(i,i+1,i+2);e=new Uint16Array(t),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,e,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(i){this.circleCanvasRadius=_(v.initValue(i,32));var t=w.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),i=t.getContext("2d");return i.beginPath(),i.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),i.closePath(),i.fillStyle="#FFF",i.fill(),t.toDataURL()}},{key:"drawImg2Canvas",value:function(e){var t=e.body.width,i=e.body.height,u=_(e.body.width),d=_(e.body.height),x=e.body.width/u,J=e.body.height/d;this.texturebuffers[e.data.src]||(this.texturebuffers[e.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),e.data.texture=this.texturebuffers[e.data.src][0],e.data.vcBuffer=this.texturebuffers[e.data.src][1],e.data.tcBuffer=this.texturebuffers[e.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,x,0,0,J,J,J]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,t,0,0,i,t,i]),this.gl.STATIC_DRAW),d=e.data.canvas.getContext("2d").getImageData(0,0,u,d),this.gl.bindTexture(this.gl.TEXTURE_2D,e.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,d),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),e.data.textureLoaded=!0,e.data.textureWidth=t,e.data.textureHeight=i}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(e){e.data.textureLoaded=!1,e.data.tmat=V.create(),e.data.tmat[8]=1,e.data.imat=V.create(),e.data.imat[8]=1,e.body?B(e.body,this.addImg2Body,e):(B(this.circleCanvasURL,this.addImg2Body,e),e.data.oldScale=e.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(e,t){t.dead||(t.body=e,t.data.src=e.src,t.data.canvas=E(e),t.data.oldScale=1,this.drawImg2Canvas(t))}},{key:"onParticleUpdate",value:function(e){e.data.textureLoaded&&(this.updateMatrix(e),this.gl.uniform3f(this.sprogram.color,e.rgb.r/255,e.rgb.g/255,e.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,e.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(e){var t=R(-e.data.textureWidth/2,-e.data.textureHeight/2),i=R(e.p.x,e.p.y),d=e.rotation*n.PI_180,u=S(d),d=e.scale*e.data.oldScale,d=z(d,d),d=O(t,d),d=O(d,u);d=O(d,i),V.inverse(d,e.data.imat),d[2]=e.alpha,this.mstack.push(d)}}]),X=Ge;function Ge(e){return h(this,Ge),e=b(this,(Ge.__proto__||Object.getPrototypeOf(Ge)).call(this,e)),e.gl=e.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),e.gl||alert("Sorry your browser do not suppest WebGL!"),e.initVar(),e.setMaxRadius(),e.initShaders(),e.initBuffers(),e.gl.blendEquation(e.gl.FUNC_ADD),e.gl.blendFunc(e.gl.SRC_ALPHA,e.gl.ONE_MINUS_SRC_ALPHA),e.gl.enable(e.gl.BLEND),e.addImg2Body=e.addImg2Body.bind(e),e.name="WebGLRenderer",e}m(xt,Ae),Ae=xt;function xt(e){return h(this,xt),e=b(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this,e)),e.name="CustomRenderer",e}var Zt=(m(ct,we),a(ct,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(e,t){var i=this.dy,u=-this.dx;return 0<(i*e+u*t+this.dot)*(u==0?1:u)}},{key:"getDistance",value:function(e,t){return(this.dy*e+-this.dx*t+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(e){var u=e.getGradient(),t=2*(this.getGradient()-u),i=e.x,u=e.y;return e.x=i*Math.cos(t)-u*Math.sin(t),e.y=i*Math.sin(t)+u*Math.cos(t),e}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(e){if(Math.abs(this.getGradient())<=n.PI/4){if(e.p.x<=this.maxx&&e.p.x>=this.minx)return!0}else if(e.p.y<=this.maxy&&e.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(e){this.crossType==="dead"?this.direction===">"||this.direction==="R"||this.direction==="right"||this.direction==="down"?this.rangeOut(e)&&this.getDirection(e.p.x,e.p.y)&&(e.dead=!0):this.rangeOut(e)&&(this.getDirection(e.p.x,e.p.y)||(e.dead=!0)):this.crossType==="bound"?this.rangeOut(e)&&this.getDistance(e.p.x,e.p.y)<=e.radius&&(this.dx===0?e.v.x*=-1:this.dy===0?e.v.y*=-1:this.getSymmetric(e.v)):this.crossType==="cross"&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),ct);function ct(e,t,i,u,d){h(this,ct);var x=b(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this));return 0<=i-e?(x.x1=e,x.y1=t,x.x2=i,x.y2=u):(x.x1=i,x.y1=u,x.x2=e,x.y2=t),x.dx=x.x2-x.x1,x.dy=x.y2-x.y1,x.minx=Math.min(x.x1,x.x2),x.miny=Math.min(x.y1,x.y2),x.maxx=Math.max(x.x1,x.x2),x.maxy=Math.max(x.y1,x.y2),x.dot=x.x2*x.y1-x.x1*x.y2,x.xxyy=x.dx*x.dx+x.dy*x.dy,x.gradient=x.getGradient(),x.length=x.getLength(),x.direction=v.initValue(d,">"),x}var Gt=(m(dt,we),a(dt,[{key:"getPosition",value:function(){return this.angle=n.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(e,t){this.center.x=e,this.center.y=t}},{key:"crossing",value:function(e){var t=e.p.distanceTo(this.center);this.crossType==="dead"?t-e.radius>this.radius&&(e.dead=!0):this.crossType==="bound"?t+e.radius>=this.radius&&this.getSymmetric(e):this.crossType==="cross"&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(e){var u=e.v.getGradient(),t=2*(this.getGradient(e)-u),i=e.v.x,u=e.v.y;e.v.x=i*Math.cos(t)-u*Math.sin(t),e.v.y=i*Math.sin(t)+u*Math.cos(t)}},{key:"getGradient",value:function(e){return-n.PI_2+Math.atan2(e.p.y-this.center.y,e.p.x-this.center.x)}}]),dt);function dt(e,t,i){h(this,dt);var u=b(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return u.x=e,u.y=t,u.radius=i,u.angle=0,u.center={x:e,y:t},u}var Xt=(m(pt,we),a(pt,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(e){this.crossType==="dead"?((e.p.x+e.radius<this.x||e.p.x-e.radius>this.x+this.width)&&(e.dead=!0),(e.p.y+e.radius<this.y||e.p.y-e.radius>this.y+this.height)&&(e.dead=!0)):this.crossType==="bound"?(e.p.x-e.radius<this.x?(e.p.x=this.x+e.radius,e.v.x*=-1):e.p.x+e.radius>this.x+this.width&&(e.p.x=this.x+this.width-e.radius,e.v.x*=-1),e.p.y-e.radius<this.y?(e.p.y=this.y+e.radius,e.v.y*=-1):e.p.y+e.radius>this.y+this.height&&(e.p.y=this.y+this.height-e.radius,e.v.y*=-1)):this.crossType==="cross"&&(e.p.x+e.radius<this.x&&e.v.x<=0?e.p.x=this.x+this.width+e.radius:e.p.x-e.radius>this.x+this.width&&0<=e.v.x&&(e.p.x=this.x-e.radius),e.p.y+e.radius<this.y&&e.v.y<=0?e.p.y=this.y+this.height+e.radius:e.p.y-e.radius>this.y+this.height&&0<=e.v.y&&(e.p.y=this.y-e.radius))}}]),pt);function pt(e,t,i,u){h(this,pt);var d=b(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return d.x=e,d.y=t,d.width=i,d.height=u,d}m(ft,we),a(ft,[{key:"reset",value:function(e,t,i,u){this.imageData=e,this.x=v.initValue(t,0),this.y=v.initValue(i,0),this.d=v.initValue(u,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){for(var u=void 0,e=void 0,t=this.imageData.width,i=this.imageData.height,u=0;u<t;u+=this.d)for(e=0;e<i;e+=this.d){var d=4*((e>>0)*t+(u>>0));0<this.imageData.data[3+d]&&this.vectors.push({x:u+this.x,y:e+this.y})}return this.vector}},{key:"getBound",value:function(e,t){return e=4*((t>>0)*this.imageData.width+(e>>0)),0<this.imageData.data[3+e]}},{key:"getPosition",value:function(){var e=v.getRandFromArray(this.vectors);return this.vector.copy(e)}},{key:"getColor",value:function(e,t){return e-=this.x,e=4*(((t-=this.y)>>0)*this.imageData.width+(e>>0)),{r:this.imageData.data[e],g:this.imageData.data[1+e],b:this.imageData.data[2+e],a:this.imageData.data[3+e]}}},{key:"crossing",value:function(e){this.crossType==="dead"?this.getBound(e.p.x-this.x,e.p.y-this.y)?e.dead=!0:e.dead=!1:this.crossType==="bound"&&(this.getBound(e.p.x-this.x,e.p.y-this.y)||e.v.negate())}}]),m=ft;function ft(e,t,i,u){h(this,ft);var d=b(this,(ft.__proto__||Object.getPrototypeOf(ft)).call(this));return d.reset(e,t,i,u),d}return a={addEventListener:function(e,t){e.addEventListener("PROTON_UPDATE_AFTER",function(){return t()})},getStyle:function(e){return e=ae.hexToRgb(0<arguments.length&&e!==void 0?e:"#ff0000"),"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},drawZone:function(e,t,i,u){var d=t.getContext("2d"),x=this.getStyle();this.addEventListener(e,function(){u&&d.clearRect(0,0,t.width,t.height),i instanceof kt?(d.beginPath(),d.fillStyle=x,d.arc(i.x,i.y,10,0,2*Math.PI,!0),d.fill(),d.closePath()):i instanceof Zt?(d.beginPath(),d.strokeStyle=x,d.moveTo(i.x1,i.y1),d.lineTo(i.x2,i.y2),d.stroke(),d.closePath()):i instanceof Xt?(d.beginPath(),d.strokeStyle=x,d.drawRect(i.x,i.y,i.width,i.height),d.stroke(),d.closePath()):i instanceof Gt&&(d.beginPath(),d.strokeStyle=x,d.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),d.stroke(),d.closePath())})},drawEmitter:function(e,t,i,u){var d=t.getContext("2d"),x=this.getStyle();this.addEventListener(e,function(){u&&d.clearRect(0,0,t.width,t.height),d.beginPath(),d.fillStyle=x,d.arc(i.p.x,i.p.y,10,0,2*Math.PI,!0),d.fill(),d.closePath()})}},g.Particle=ie,g.Pool=L,g.Util=v,g.ColorUtil=ae,g.MathUtil=n,g.Vector2D=g.Vector=A,g.Polar2D=g.Polar=Ee,g.ArraySpan=be,g.Rectangle=Re,g.Rate=yt,g.ease=U,g.Span=P,g.Mat3=V,g.getSpan=function(e,t,i){return new P(e,t,i)},g.createArraySpan=be.createArraySpan,g.Initialize=g.Init=xe,g.Life=g.L=Et,g.Position=g.P=zn,g.Velocity=g.V=$n,g.Mass=g.M=Dn,g.Radius=g.R=Fn,g.Body=g.B=jn,g.Behaviour=pe,g.Force=g.F=Ht,g.Attraction=g.A=qt,g.RandomDrift=g.RD=Vn,g.Gravity=g.G=Ln,g.Collision=Un,g.CrossZone=Nn,g.Alpha=Wn,g.Scale=g.S=Hn,g.Rotate=qn,g.Color=Zn,g.Repulsion=Xn,g.Cyclone=Gn,g.GravityWell=Yn,g.Emitter=It,g.BehaviourEmitter=Qn,g.FollowEmitter=Jn,g.Zone=we,g.LineZone=Zt,g.CircleZone=Gt,g.PointZone=kt,g.RectZone=Xt,g.ImageZone=m,g.CanvasRenderer=ei,g.DomRenderer=ti,g.EaselRenderer=ni,g.PixiRenderer=ri,g.PixelRenderer=ii,g.WebGLRenderer=g.WebGlRenderer=X,g.CustomRenderer=Ae,g.Debug=a,v.assign(g,U),g})})(Mn);var no=Mn.exports;const c=Cn(no);var Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ue=function(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")},ce=function(){function r(s,l){for(var n=0;n<l.length;n++){var o=l[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,l,n){return l&&r(s.prototype,l),n&&r(s,n),s}}(),ve=function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(r,s):r.__proto__=s)},ye=function(r,s){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:r},io=function(){function r(){ue(this,r),this.list=[]}return ce(r,[{key:"set",value:function(l,n){this.list.push({probability:l,target:n,a:0,b:1}),this.calculation()}},{key:"calculation",value:function(){for(var l=0,n=0;n<this.list.length;n++)l+=this.list[n].probability;for(var o=0;o<this.list.length;o++){var h=this.list[o],a=h.probability/l;h.a=o===0?0:this.list[o-1].b,h.b=h.a+a}}},{key:"getResult",value:function(){for(var l=Math.random(),n=0;n<this.list.length;n++){var o=this.list[n];if(l<=o.b&&l>o.a)return o.target}return this.list[0].target}}]),r}(),Ce=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n._iid=0,n._oid=0,n.size={width:0,height:0},n.canvasRef=I.createRef(),n}return ce(s,[{key:"componentDidMount",value:function(){var n=this;this._oid=setTimeout(function(){n.initCanvas(),n.resize=n.resize.bind(n),window.addEventListener("resize",n.resize)},100);var o=this.getCanvas();this.props.onCanvasDidMount&&this.props.onCanvasDidMount(o)}},{key:"initCanvas",value:function(){var n=this.getCanvas();if(this.props.globalCompositeOperation){var o=n.getContext("2d");o.globalCompositeOperation=this.props.globalCompositeOperation}var h=this.setCanvasSize(n),a=h.width,p=h.height;this.heartbeatDetectionCanvasSize(n),this.props.onCanvasInited(n,a,p)}},{key:"getCanvas",value:function(){var n=this.canvasRef.current;return n}},{key:"heartbeatDetectionCanvasSize",value:function(n){var o=this;this._iid=setInterval(function(){if(o.canvasRef.current){var h=o.canvasRef.current.clientHeight;if(h!==o.size.height){var a=o.setCanvasSize(n),p=a.width,f=a.height;o.props.onResize&&o.props.onResize(p,f)}}},1e3/10)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.resize),clearInterval(this._iid),clearTimeout(this._oid)}catch{}}},{key:"resize",value:function(){var n=this.getCanvas(),o=this.setCanvasSize(n),h=o.width,a=o.height;this.props.onResize&&this.props.onResize(h,a)}},{key:"setCanvasSize",value:function(n){var o=this.canvasRef.current.clientWidth,h=this.canvasRef.current.clientHeight;return this.size.width=o,this.size.height=h,n.width=o,n.height=h,{width:o,height:h}}},{key:"handleWaypointEnter",value:function(){Y.start()}},{key:"handleWaypointLeave",value:function(){Y.stop()}},{key:"getStyle",value:function(){var n=this.props.bg,o={width:"100%",height:"100%"};return n===!0?o=Object.assign(o,{position:"absolute",zIndex:-1,top:0,left:0}):n&&(typeof n>"u"?"undefined":Bn(n))==="object"&&(o=Object.assign(o,n)),o}},{key:"handleMouseDown",value:function(n){this.props.onMouseDown&&this.props.onMouseDown(n)}},{key:"render",value:function(){return I.createElement("canvas",{className:"particles-bg-canvas-self",ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),style:this.getStyle()})}}]),s}(I.Component);function ro(r){var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:{}}function At(r,s){var l=void 0;return r?(l=ro(r),"rgba("+l.r+","+l.g+","+l.b+", "+s+")"):null}var hn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),this.createMiniEmitter(n),Y.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n,o,h){var a=this,p=n.getContext("2d");this.proton=new c;var f=new c.Emitter;f.rate=new c.Rate(this.props.num?new c.Span(this.props.num):new c.Span(4,9),new c.Span(.8,1.3)),f.addInitialize(new c.Mass(1)),f.addInitialize(new c.Radius(1,50)),f.addInitialize(new c.Life(5,6)),f.addInitialize(new c.Velocity(new c.Span(5,8),new c.Span(30,70),"polar")),f.addBehaviour(new c.Alpha(1,0)),f.addBehaviour(new c.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),f.addBehaviour(new c.Scale(.7,1)),f.addBehaviour(new c.Gravity(3)),f.addBehaviour(new c.Collision(f)),f.addBehaviour(this.customDeadBehaviour(n)),f.addBehaviour(new c.CrossZone(new c.RectZone(0,0,n.width,n.height),"bound")),f.p.x=Math.min(500,Math.max(n.width/2-400,50)),f.p.y=n.height/2+50,f.emit(),this.proton.addEmitter(f);var m=new c.CanvasRenderer(n);m.onProtonUpdate=function(){p.fillStyle=At(a.props.color,.2)||"rgba(255, 255, 255, 0.2)",p.fillRect(0,0,n.width,n.height)},this.proton.addRenderer(m)}},{key:"customDeadBehaviour",value:function(n){var o=this;return{initialize:function(a){},applyBehaviour:function(a){a.p.y+a.radius>=n.height&&a.radius>9&&(o.miniEmitteing(a),a.dead=!0)}}}},{key:"createMiniEmitter",value:function(n){var o=new c.Emitter;o.rate=new c.Rate(new c.Span(3,6),new c.Span(1,2)),o.addInitialize(new c.Mass(1)),o.radiusInitialize=new c.Radius,o.addInitialize(o.radiusInitialize),o.addInitialize(new c.Life(.5,1)),o.addInitialize(new c.V(new c.Span(1.5,3),new c.Span(0,70,!0),"polar")),o.colorBehaviour=new c.Color("#ffffff"),o.addBehaviour(new c.Alpha(1,0)),o.addBehaviour(o.colorBehaviour),o.addBehaviour(new c.Gravity(4)),o.addBehaviour(new c.Collision(o)),o.addBehaviour(new c.CrossZone(new c.RectZone(0,0,n.width,n.height),"bound")),this.proton.addEmitter(o),this.miniEmitter=o}},{key:"miniEmitteing",value:function(n){var o=this.miniEmitter;o.radiusInitialize.reset(n.radius*.05,n.radius*.2),o.colorBehaviour.reset(n.color),o.p.x=n.p.x,o.p.y=n.p.y,o.emit("once")}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),jt=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.rate=new c.Rate(this.props.num?new c.Span(this.props.num):new c.Span(5,8),new c.Span(.1,.25)),a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(20,200)),a.addInitialize(new c.Life(2,4)),a.addInitialize(new c.Position(new c.RectZone(0,0,o,h))),a.addBehaviour(new c.Alpha(0,1,1/0,c.easeOutCubic)),a.addBehaviour(new c.Scale(1,0,1/0,c.easeOutCubic)),a.addBehaviour(new c.Color(this.colors,"random")),a.emit(),this.proton.addEmitter(a);var p=new c.CanvasRenderer(n);this.proton.addRenderer(p)}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),oo=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(n,o){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=o,this.proton.renderers[0].resize(n,o)}},{key:"getProp",value:function(n,o){var h=this.props.config||{},a=h[n]||o;return Array.isArray(a)?new c.Span(a[0],a[1]):a}},{key:"getArrProp",value:function(n,o){var h=this.props.config||{},a=h[n]||o;return a?Array.isArray(a)?a:[a,a]:null}},{key:"createProton",value:function(n,o,h){var a=this.getProp("num",[5,8]),p=this.getProp("rps",[.1,.2]),f=this.getProp("mass",1),m=this.getProp("radius",[10,30]),b=this.getProp("life",[2,3]),P=this.getProp("body"),C=this.getProp("position"),_=this.getProp("v",[2,3]),R=this.getProp("tha",[-15,15]),S=this.getArrProp("alpha"),z=this.getArrProp("scale"),O=this.getArrProp("color"),w=this.getProp("cross","dead"),k=this.getProp("random"),M=this.getArrProp("rotate"),$=this.getProp("g"),D=this.getArrProp("f"),B=this.getProp("emitter");this.proton=new c;var E=void 0;B==="follow"?E=new c.FollowEmitter:E=new c.Emitter,E.rate=new c.Rate(a,p),E.addInitialize(new c.Mass(f)),E.addInitialize(new c.Radius(m)),E.addInitialize(new c.Life(b)),E.addInitialize(new c.Velocity(_,R,"polar")),P&&E.addInitialize(new c.Body(P));var v=void 0;C==="all"||C==="screen"?v=new c.Position(new c.RectZone(0,0,n.width,n.height)):(typeof C>"u"?"undefined":Bn(C))==="object"?v=new c.Position(new c.RectZone(C.x,C.y,C.width,C.height)):(E.p.x=n.width/2,E.p.y=n.height/2),E.addInitialize(v);var T=S?new c.Alpha(S[0],S[1]):new c.Alpha(0,1),Z=z?new c.Scale(z[0],z[1]):new c.Scale(1,.2),L=O?new c.Color(O[0],O[1]):new c.Color(this.colors);E.addBehaviour(T),E.addBehaviour(Z),P||E.addBehaviour(L),M&&(M[0]===!0||M[0]==="rotate"?E.addBehaviour(new c.Rotate):E.addBehaviour(new c.Rotate(M[0],M[1])));var F=new c.RectZone(0,0,n.width,n.height),N=new c.CrossZone(F,w);E.addBehaviour(N),k&&E.addBehaviour(new c.RandomDrift(k,k,.05)),$&&E.addBehaviour(new c.G($)),D&&E.addBehaviour(new c.F(D[0],D[1])),E.emit(),this.proton.addEmitter(E);var G=this.createRenderer(n);this.proton.addRenderer(G),this.emitter=E,this.crossZoneBehaviour=N}},{key:"createRenderer",value:function(n){var o=n.width,h=n.height,a=n.getContext("2d"),p=new c.CanvasRenderer(n),f=this.getProp("onUpdate");f&&(p.onProtonUpdate=function(){f(a,o,h)});var m=this.getProp("onParticleCreated");m&&(p.onParticleCreated=function(P){m(a,P)});var b=this.getProp("onParticleUpdate");return b&&(p.onParticleUpdate=function(P){b(a,P)}),p}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"handleMouseDown",value:function(n){var o=this.getProp("onMouseDown");o&&o(n)}},{key:"render",value:function(){var n=this.props.globalCompositeOperation||this.props.operation||"source-over";return I.createElement(Ce,{bg:this.props.bg,onMouseDown:this.handleMouseDown.bind(this),globalCompositeOperation:n,onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),un=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"onCanvasDidMount",value:function(n){this.props.color&&(n.style.backgroundColor=this.props.color)}},{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(n,o){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=o,this.proton.renderers[0].resize(n,o)}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.damping=.008,a.rate=new c.Rate(this.props.num?this.props.num:250),a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(4)),a.addInitialize(new c.Velocity(new c.Span(1.5),new c.Span(0,360),"polar"));var p={x:o/2,y:h/2},f=new c.Attraction(p,0,0),m=new c.CrossZone(new c.RectZone(0,0,n.width,n.height),"cross");a.addBehaviour(new c.Color("random")),a.addBehaviour(f,m),a.addBehaviour(new c.RandomDrift(10,10,.05)),a.p.x=n.width/2,a.p.y=n.height/2,a.emit("once"),this.proton.addEmitter(a),this.proton.addRenderer(this.createRenderer(n)),this.crossZoneBehaviour=m}},{key:"createRenderer",value:function(n){var o=this,h=n.getContext("2d"),a=new c.CanvasRenderer(n);return a.onProtonUpdate=function(){h.fillStyle=At(o.props.color,.02)||"rgba(0, 0, 0, 0.02)",h.fillRect(0,0,n.width,n.height)},a.onParticleUpdate=function(p){h.beginPath(),h.strokeStyle=p.color,h.lineWidth=1,h.moveTo(p.old.p.x,p.old.p.y),h.lineTo(p.p.x,p.p.y),h.closePath(),h.stroke()},a}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),cn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.hue=0,n.index=0,n.colorTemplate="hsla(hue,80%,50%, 0.75)",n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"onCanvasDidMount",value:function(n){this.props.color&&(n.style.backgroundColor=this.props.color)}},{key:"onCanvasInited",value:function(n,o,h){this.canvas=n,this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(n,o){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=o,this.proton.renderers[0].resize(n,o)}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.damping=.008,a.rate=new c.Rate(this.props.num?this.props.num:150),a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(8)),a.addInitialize(new c.V(new c.Span(.1,.5),new c.Span(0,360),"polar")),a.addInitialize(new c.Position(new c.CircleZone(n.width/2,n.height/2,100)));var p=new c.CrossZone(new c.RectZone(0,0,n.width,n.height),"cross");a.addBehaviour(p),this.repulsion=new c.Repulsion({x:n.width/2,y:n.height/2-100},3,300),this.attraction=new c.Attraction({x:n.width/2,y:n.height/2},3,200),a.addBehaviour(this.attraction,this.repulsion),a.addBehaviour(new c.Color("random")),a.addBehaviour(new c.RandomDrift(20,15,.15)),a.emit("once"),this.proton.addEmitter(a),this.proton.addRenderer(this.createRenderer(n)),this.crossZoneBehaviour=p}},{key:"createRenderer",value:function(n){var o=this,h=n.getContext("2d"),a=new c.CanvasRenderer(n);return a.onProtonUpdate=function(){o.hue+=1,h.fillStyle=At(o.props.color,.02)||"rgba(0, 0, 0, 0.02)",h.fillRect(0,0,n.width,n.height)},a.onParticleCreated=function(p){p.data.begin=c.MathUtil.randomAToB(1,120),p.data.tha=c.MathUtil.randomAToB(0,Math.PI*2)},a.onParticleUpdate=function(p){var f=p.data.begin+o.hue;p.color=o.colorTemplate.replace("hue",f%360);var m=3/4,b=p.radius*(1-m)*Math.cos(p.data.tha+=.01)+p.radius*m;h.beginPath(),h.fillStyle=p.color,h.arc(p.p.x,p.p.y,b,0,Math.PI*2,!0),h.closePath(),h.fill()},a}},{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"renderProton",value:function(){var n=this.canvas;this.proton.update(),this.index%200===0&&(this.attraction.targetPosition.x=Math.random()*n.width,this.attraction.targetPosition.y=Math.random()*n.height,this.repulsion.targetPosition.x=Math.random()*n.width,this.repulsion.targetPosition.y=Math.random()*n.height),this.index++}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),dn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.colors=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasDidMount",value:function(n){}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(n,o){var h=150;this.crossZoneBehaviour.zone.width=n+2*h,this.crossZoneBehaviour.zone.height=o+2*h,this.proton.renderers[0].resize(n,o)}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.rate=new c.Rate(this.props.num?this.props.num:50),a.damping=0,a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(4,70)),a.addInitialize(new c.Velocity(new c.Span(2,10),new c.Span(0),"polar")),a.addInitialize(new c.Position(new c.LineZone(0,n.height,n.width,n.height)));var p=150,f=new c.CrossZone(new c.RectZone(0-p,0-p,n.width+2*p,n.height+2*p),"cross");a.addBehaviour(f),a.addBehaviour(new c.Alpha(c.getSpan(.1,.55))),a.addBehaviour(new c.Color(this.colors)),a.emit("once"),this.proton.addEmitter(a);var m=this.createRenderer(n);this.proton.addRenderer(m),this.crossZoneBehaviour=f,a.preEmit(2)}},{key:"createRenderer",value:function(n){var o=n.getContext("2d"),h=new c.CustomRenderer;return h.onProtonUpdate=function(){o.clearRect(0,0,n.width,n.height)},h.onParticleCreated=function(a){var p=a.radius||60,f=c.MathUtil.randomAToB(100,200,"int");a.data.w=p,a.data.h=f},h.onParticleUpdate=function(a){var p=a.data.w,f=a.data.h;o.save(),o.globalAlpha=a.alpha,o.fillStyle=a.color,o.translate(a.p.x,a.p.y),o.rotate(c.MathUtil.degreeTransform(a.rotation)),o.translate(-a.p.x,-a.p.y),o.beginPath(),o.rect(a.p.x-p/2,a.p.y-f/2,p,f),o.closePath(),o.fill(),o.globalAlpha=1,o.restore()},h}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"lighter",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),pn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(n,o){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=o,this.proton.renderers[0].resize(n,o)}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.rate=new c.Rate(this.props.num?new c.Span(this.props.num):new c.Span(100),new c.Span(.05,.2)),a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(1,4)),a.addInitialize(new c.Life(1/0));var p=new c.Position(new c.RectZone(0,0,o,h));a.addInitialize(p),a.addInitialize(new c.Velocity(new c.Span(.3,.6),new c.Span(0,360),"polar")),a.addBehaviour(new c.Alpha(c.getSpan(.2,.9))),a.addBehaviour(new c.Color(this.props.color||"#333")),this.crossZoneBehaviour=new c.CrossZone(new c.RectZone(0,0,o,h),"cross"),a.addBehaviour(this.crossZoneBehaviour),a.emit("once"),a.damping=0,this.proton.addEmitter(a),this.proton.addRenderer(this.createRenderer(n,a))}},{key:"createRenderer",value:function(n,o){var h=this,a=n.getContext("2d"),p=new c.CanvasRenderer(n),f=140;return p.onProtonUpdateAfter=function(){for(var m=o.particles,b=0;b<m.length;b++)for(var P=b+1;P<m.length;P++){var C=m[b],_=m[P],R=C.p.distanceTo(_.p);if(R<f){var S=(1-R/f)*.5;a.strokeStyle=At(h.props.color,S)||"rgba(3, 3, 3, "+S+")",a.beginPath(),a.moveTo(C.p.x,C.p.y),a.lineTo(_.p.x,_.p.y),a.closePath(),a.stroke()}}},p}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),fn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.colors=["#74b9ff","#e84393","#6c5ce7","#00b894","#fdcb6e","#006266","#1B1464"],n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(n,o){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=o,this.proton.renderers[0].resize(n,o)}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.rate=new c.Rate(this.props.num||20),a.damping=.008,a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(30,600)),a.addInitialize(new c.Velocity(new c.Span(.5),new c.Span(0,360),"polar")),a.addInitialize(new c.Position(new c.RectZone(0,0,n.width,n.height)));var p=new c.CrossZone(new c.RectZone(0,0,n.width,n.height),"cross");a.addBehaviour(p),a.addBehaviour(new c.Alpha(c.getSpan(.35,.55))),a.addBehaviour(new c.Color(this.getColor())),a.addBehaviour(new c.RandomDrift(50,50,.5)),a.emit("once"),this.proton.addEmitter(a);var f=new c.CanvasRenderer(n);this.proton.addRenderer(f),this.crossZoneBehaviour=p}},{key:"getColor",value:function(){var n=this.colors;return this.props.color&&(Array.isArray(this.props.color)?n=this.props.color:n=[this.props.color]),n}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darken",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),mn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"onCanvasDidMount",value:function(n){}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),this.renderProton()}},{key:"onResize",value:function(n,o){this.crossZoneBehaviour.zone.width=n,this.crossZoneBehaviour.zone.height=o,this.proton.renderers[0].resize(n,o)}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.damping=.008,a.rate=new c.Rate(this.props.num?this.props.num:50),a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(5,9)),a.addInitialize(new c.Velocity(new c.Span(1.5),new c.Span(0,360),"polar")),a.addInitialize(new c.Position(new c.RectZone(0,0,o,h)));var p={x:o/2,y:h/2},f=new c.Attraction(p,0,0),m=new c.CrossZone(new c.RectZone(0,0,n.width,n.height),"bound");a.addBehaviour(new c.Color(this.props.color||"#bbb")),a.addBehaviour(f,m),a.addBehaviour(new c.RandomDrift(15,15,.05)),a.emit("once"),this.proton.addEmitter(a),this.proton.addRenderer(this.createRenderer(n)),this.crossZoneBehaviour=m}},{key:"createRenderer",value:function(n){var o=10,h=8,a=n.getContext("2d"),p=new c.CanvasRenderer(n);p.onProtonUpdate=function(){a.clearRect(0,0,n.width,n.height)},p.onParticleCreated=function(C){C.data.points=[],C.data.index=0},p.onParticleUpdate=function(C){b(C),C.data.index%h===0&&f(C),m(C),C.data.index++};var f=function(_){_.data.points.unshift(_.p.y),_.data.points.unshift(_.p.x),_.data.points.length>o&&(_.data.points.pop(),_.data.points.pop())},m=function(_){a.fillStyle=_.color,a.beginPath(),a.arc(_.p.x,_.p.y,_.radius,0,Math.PI*2,!0),a.closePath(),a.fill()},b=function(_){a.beginPath(),a.strokeStyle=_.color,a.moveTo(_.p.x,_.p.y);for(var R=_.data.points.length,S=0;S<R;S+=2){var z=_.data.points[S],O=_.data.points[S+1];a.lineWidth=P(S,R),a.lineTo(z,O),a.stroke()}},P=function(_,R){if(R<=2)return 1;var S=6,z=(S-1)/(2/R-1),O=1-z,w=(_+2)/R,k=z*w+O;return k=k>>0,k};return p}},{key:"renderProton",value:function(){var n=this;Y.add(function(){n.proton.update()})}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),ao=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],gn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"onCanvasInited",value:function(n,o,h){this.createProton(n),this.createEmitter({canvas:n,x:o/2,y:h/2,mainEmitter:!0,zone:"bound"}),Y.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n){this.proton=new c;var o=this.createRenderer(n);this.proton.addRenderer(o)}},{key:"createRenderer",value:function(n){var o=n.getContext("2d"),h=new c.CustomRenderer;h.onProtonUpdate=function(){o.clearRect(0,0,n.width,n.height)},h.onParticleCreated=function(p){p.data.count=c.MathUtil.randomAToB(3,10,!0)},h.onParticleUpdate=function(p){o.save(),o.globalAlpha=p.alpha,o.fillStyle=p.color,o.translate(p.p.x,p.p.y),o.rotate(c.MathUtil.degreeTransform(p.rotation)),o.translate(-p.p.x,-p.p.y),o.beginPath(),a(p,p.data.count),o.closePath(),o.fill(),o.globalAlpha=1,o.restore()},h.onParticleDead=function(p){};var a=function(f,m){if(m>=7)o.arc(f.p.x,f.p.y,f.radius,0,Math.PI*2,!0);else for(var b=f.radius,P=0;P<=m;P++){var C=f.p.x+b*Math.cos(Math.PI/180*360/m*P),_=f.p.y+b*Math.sin(Math.PI/180*360/m*P);P===0?o.moveTo(C,_):o.lineTo(C,_)}};return h}},{key:"createEmitter",value:function(n){var o=n.mainEmitter,h=n.canvas,a=n.x,p=n.y,f=n.radius,m=n.color,b=m===void 0?ao:m,P=n.zone,C=P===void 0?"dead":P,_=n.once,R=_===void 0?"all":_,S=n.alpha,z=S===void 0?.85:S,O=n.gravity,w=O===void 0?3.5:O,k=this.proton.pool.get(c.Emitter);if(!k.completed){k.rate=new c.Rate(this.props.num?new c.Span(this.props.num):new c.Span(4,9),new c.Span(1.6,2.2));var M=o?new c.Radius(10,110):new c.Radius(3,f);k.addInitialize(new c.Mass(1)),k.addInitialize(M),k.addInitialize(new c.Life(3,6)),k.addInitialize(new c.Velocity(new c.Span(4,6),new c.Span(-90,90),"polar")),k.addBehaviour(new c.Alpha(z,.2)),k.addBehaviour(new c.Color(b)),k.addBehaviour(new c.Scale(1,.3)),k.addBehaviour(new c.Rotate),k.addBehaviour(new c.Gravity(w)),k.addBehaviour(this.customDeadBehaviour(h)),k.addBehaviour(new c.CrossZone(new c.RectZone(0,0,h.width,h.height),C))}k.p.x=a,k.p.y=p,R==="once"?k.emit("once"):k.emit(),this.proton.addEmitter(k)}},{key:"expireEmitter",value:function(n){var o=this;setTimeout(function(){n.completed=!0,o.proton.pool.expire(n),o.proton.removeEmitter(n)},500)}},{key:"customDeadBehaviour",value:function(n){var o=this;return{initialize:function(a){a.data=a.data||{},a.data.oldRadius=a.radius,a.data.emitterCount=0},applyBehaviour:function(a){a.radius<5||a.data.emitterCount>=2||a.radius<=1/3*a.data.oldRadius&&(a.data.emitterCount++,o.createEmitter({canvas:n,x:a.p.x,y:a.p.y,radius:a.radius*(1/2),alpha:.5,gravity:5,color:a.color,once:"once"}))}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),vn=function(r){ve(s,r);function s(l){ue(this,s);var n=ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return n.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],n.renderProton=n.renderProton.bind(n),n}return ce(s,[{key:"componentWillUnmount",value:function(){try{Y.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(n,o,h){this.createProton(n,o,h),Y.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(n,o,h){this.proton=new c;var a=new c.Emitter;a.rate=new c.Rate(this.props.num?new c.Span(this.props.num):new c.Span(4,8),new c.Span(.1,.25)),a.addInitialize(new c.Mass(1)),a.addInitialize(new c.Radius(20,200)),a.addInitialize(new c.Life(2,4)),a.addInitialize(new c.Velocity(new c.Span(4,7),new c.Span(0,360),"polar")),a.addInitialize(new c.Position(new c.CircleZone(o/2,h/2,100))),a.addBehaviour(new c.Alpha(1,0)),a.addBehaviour(new c.Scale(.2,1)),a.addBehaviour(this.createCustomBehaviour()),a.addBehaviour(new c.Color(this.colors,"random")),a.emit(),this.proton.addEmitter(a);var p=new c.CanvasRenderer(n);this.proton.addRenderer(p)}},{key:"createCustomBehaviour",value:function(){var n=1e3;return{initialize:function(h){h.f=new c.Vector2D(0,0)},applyBehaviour:function(h){var a=h.v.length()/1e3,p=h.v.getGradient();p+=3.14/2,h.f.x=n*a*Math.cos(p),h.f.y=n*a*Math.sin(p),h.a.add(h.f)}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return I.createElement(Ce,{bg:this.props.bg,globalCompositeOperation:"xor",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),s}(I.Component),so=function(r){ve(s,r);function s(l){return ue(this,s),ye(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l))}return ce(s,[{key:"getRandom",value:function(){var n=this.props,o=n.num,h=n.bg,a=n.color;return this.random||(this.random=new io,this.random.set(.25,I.createElement(jt,{num:o,bg:h,color:a})),this.random.set(.2,I.createElement(hn,{num:o,bg:h,color:a})),this.random.set(.2,I.createElement(un,{num:o,bg:h,color:a})),this.random.set(.16,I.createElement(cn,{num:o,bg:h,color:a})),this.random.set(.18,I.createElement(fn,{num:o,bg:h,color:a})),this.random.set(.04,I.createElement(pn,{num:o,bg:h,color:a})),this.random.set(.1,I.createElement(gn,{num:o,bg:h,color:a})),this.random.set(.08,I.createElement(dn,{num:o,bg:h,color:a})),this.random.set(.18,I.createElement(mn,{num:o,bg:h,color:a})),this.random.set(.15,I.createElement(vn,{num:o,bg:h,color:a}))),this.random.getResult()}},{key:"getBgParticles",value:function(){var n=this.props,o=n.type,h=n.num,a=n.bg,p=n.color,f=n.config,m=void 0;switch(String(o).toLowerCase()){case"color":m=I.createElement(jt,{num:h,bg:a,color:p});break;case"ball":m=I.createElement(hn,{num:h,bg:a,color:p});break;case"lines":m=I.createElement(un,{num:h,bg:a,color:p});break;case"thick":m=I.createElement(cn,{num:h,bg:a,color:p});break;case"circle":m=I.createElement(fn,{num:h,bg:a,color:p});break;case"cobweb":m=I.createElement(pn,{num:h,bg:a,color:p});break;case"polygon":m=I.createElement(gn,{num:h,bg:a,color:p});break;case"square":m=I.createElement(dn,{num:h,bg:a,color:p});break;case"tadpole":m=I.createElement(mn,{num:h,bg:a,color:p});break;case"fountain":m=I.createElement(vn,{num:h,bg:a,color:p});break;case"custom":m=I.createElement(oo,{bg:a,config:f});break;case"random":m=this.getRandom(h);break;default:m=I.createElement(jt,{num:h,bg:a,color:p});break}return m}},{key:"render",value:function(){var n=this.getBgParticles();return I.createElement(I.Fragment,null,n)}}]),s}(y.Component);function uo(){const[r]=wt.useForm(),[s,l]=y.useState(!1),n=Vi(),{defaultLang:o}=Yi,{t:h}=Li(),a={username:[{required:!0,message:"Please input your username!"}],password:[{required:!0,message:"Please input your password!"}]},p=f=>{l(!0),setTimeout(()=>{l(!1);const m={userInfo:{name:"liuhua",age:18,sex:1,role:f.username==="admin"?"admin":"test"},token:"xhshgsbzlgin"};Wi(m.token),!Hi()&&qi(o),f.remember?Zi(f.username):Gi(),Xi(JSON.stringify(m.userInfo)),n("/home")},1500)};return re.jsxs("div",{className:"flex items-center justify-center h-full",children:[re.jsx(so,{type:"circle",bg:!0}),re.jsxs("div",{className:"w-[400px] h-[500px] rounded-lg form-box p-5",children:[re.jsxs("div",{className:"flex justify-center items-center flex-col mb-10",children:[re.jsx(Ui,{style:{fontSize:"35px",color:"#08c"}}),re.jsx("p",{className:"pt-2 text-2xl",children:"Liuhua"})]}),re.jsxs(wt,{name:"basic",initialValues:{remember:!!Qt(),username:Qt()},form:r,onFinish:p,autoComplete:"off",children:[re.jsx(wt.Item,{name:"username",rules:a.username,children:re.jsx(Jt,{placeholder:h("用户名")+"：admin/test"})}),re.jsx(wt.Item,{name:"password",rules:a.password,children:re.jsx(Jt,{placeholder:h("密码")+"：*"})}),re.jsx(wt.Item,{name:"remember",valuePropName:"checked",children:re.jsx(Ki,{children:h("记住账号")})}),re.jsx(Ni,{type:"primary",className:"w-full h-10 bg-[#4096ff]",loading:s,htmlType:"submit",children:h("登录")})]}),re.jsxs("p",{className:"flex text-xs justify-between text-[#08c] mt-4 gap-6",children:[re.jsx("span",{className:" cursor-pointer",children:h("忘记密码")}),re.jsx("span",{className:" cursor-pointer",children:h("没有账号?注册")})]})]})]})}export{uo as default};
